const fn=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const p of a)if(p.type==="childList")for(const u of p.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const p={};return a.integrity&&(p.integrity=a.integrity),a.referrerpolicy&&(p.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?p.credentials="include":a.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function s(a){if(a.ep)return;a.ep=!0;const p=n(a);fetch(a.href,p)}};fn();function A(){}const xe=e=>e;function Ct(e){return e()}function bt(){return Object.create(null)}function ee(e){e.forEach(Ct)}function Ne(e){return typeof e=="function"}function te(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let ge;function We(e,t){return ge||(ge=document.createElement("a")),ge.href=t,e===ge.href}function pn(e){return Object.keys(e).length===0}function dn(e,...t){if(e==null)return A;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function $t(e){let t;return dn(e,n=>t=n)(),t}const Ut=typeof window!="undefined";let Rt=Ut?()=>window.performance.now():()=>Date.now(),He=Ut?e=>requestAnimationFrame(e):A;const J=new Set;function Wt(e){J.forEach(t=>{t.c(e)||(J.delete(t),t.f())}),J.size!==0&&He(Wt)}function Ot(e){let t;return J.size===0&&He(Wt),{promise:new Promise(n=>{J.add(t={c:e,f:n})}),abort(){J.delete(t)}}}function w(e,t){e.appendChild(t)}function Ft(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function mn(e){const t=E("style");return vn(Ft(e),t),t.sheet}function vn(e,t){return w(e.head||e,t),t.sheet}function I(e,t,n){e.insertBefore(t,n||null)}function S(e){e.parentNode.removeChild(e)}function yn(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function E(e){return document.createElement(e)}function x(e){return document.createTextNode(e)}function C(){return x(" ")}function Bt(){return x("")}function de(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function g(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function hn(e){return Array.from(e.childNodes)}function se(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Vt(e,t,{bubbles:n=!1,cancelable:s=!1}={}){const a=document.createEvent("CustomEvent");return a.initCustomEvent(e,n,s,t),a}const Pe=new Map;let qe=0;function gn(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function wn(e,t){const n={stylesheet:mn(t),rules:{}};return Pe.set(e,n),n}function xt(e,t,n,s,a,p,u,d=0){const m=16.666/s;let v=`{
`;for(let y=0;y<=1;y+=m){const k=t+(n-t)*p(y);v+=y*100+`%{${u(k,1-k)}}
`}const c=v+`100% {${u(n,1-n)}}
}`,f=`__svelte_${gn(c)}_${d}`,r=Ft(e),{stylesheet:o,rules:i}=Pe.get(r)||wn(r,e);i[f]||(i[f]=!0,o.insertRule(`@keyframes ${f} ${c}`,o.cssRules.length));const l=e.style.animation||"";return e.style.animation=`${l?`${l}, `:""}${f} ${s}ms linear ${a}ms 1 both`,qe+=1,f}function Oe(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?p=>p.indexOf(t)<0:p=>p.indexOf("__svelte")===-1),a=n.length-s.length;a&&(e.style.animation=s.join(", "),qe-=a,qe||_n())}function _n(){He(()=>{qe||(Pe.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&S(t)}),Pe.clear())})}let ue;function le(e){ue=e}function me(){if(!ue)throw new Error("Function called outside component initialization");return ue}function Xe(e){me().$$.on_mount.push(e)}function Nt(e){me().$$.on_destroy.push(e)}function Ht(){const e=me();return(t,n,{cancelable:s=!1}={})=>{const a=e.$$.callbacks[t];if(a){const p=Vt(t,n,{cancelable:s});return a.slice().forEach(u=>{u.call(e,p)}),!p.defaultPrevented}return!0}}function bn(e,t){return me().$$.context.set(e,t),t}function kn(e){return me().$$.context.get(e)}const ae=[],Q=[],De=[],kt=[],Xt=Promise.resolve();let Fe=!1;function Gt(){Fe||(Fe=!0,Xt.then(Yt))}function Tn(){return Gt(),Xt}function X(e){De.push(e)}const Ce=new Set;let we=0;function Yt(){const e=ue;do{for(;we<ae.length;){const t=ae[we];we++,le(t),Dn(t.$$)}for(le(null),ae.length=0,we=0;Q.length;)Q.pop()();for(let t=0;t<De.length;t+=1){const n=De[t];Ce.has(n)||(Ce.add(n),n())}De.length=0}while(ae.length);for(;kt.length;)kt.pop()();Fe=!1,Ce.clear(),le(e)}function Dn(e){if(e.fragment!==null){e.update(),ee(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(X)}}let re;function zt(){return re||(re=Promise.resolve(),re.then(()=>{re=null})),re}function Le(e,t,n){e.dispatchEvent(Vt(`${t?"intro":"outro"}${n}`))}const Ee=new Set;let H;function En(){H={r:0,c:[],p:H}}function Pn(){H.r||ee(H.c),H=H.p}function G(e,t){e&&e.i&&(Ee.delete(e),e.i(t))}function Z(e,t,n,s){if(e&&e.o){if(Ee.has(e))return;Ee.add(e),H.c.push(()=>{Ee.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}const Jt={duration:0};function Kt(e,t,n){let s=t(e,n),a=!1,p,u,d=0;function m(){p&&Oe(e,p)}function v(){const{delay:f=0,duration:r=300,easing:o=xe,tick:i=A,css:l}=s||Jt;l&&(p=xt(e,0,1,r,f,o,l,d++)),i(0,1);const y=Rt()+f,k=y+r;u&&u.abort(),a=!0,X(()=>Le(e,!0,"start")),u=Ot(h=>{if(a){if(h>=k)return i(1,0),Le(e,!0,"end"),m(),a=!1;if(h>=y){const b=o((h-y)/r);i(b,1-b)}}return a})}let c=!1;return{start(){c||(c=!0,Oe(e),Ne(s)?(s=s(),zt().then(v)):v())},invalidate(){c=!1},end(){a&&(m(),a=!1)}}}function Qt(e,t,n){let s=t(e,n),a=!0,p;const u=H;u.r+=1;function d(){const{delay:m=0,duration:v=300,easing:c=xe,tick:f=A,css:r}=s||Jt;r&&(p=xt(e,1,0,v,m,c,r));const o=Rt()+m,i=o+v;X(()=>Le(e,!1,"start")),Ot(l=>{if(a){if(l>=i)return f(0,1),Le(e,!1,"end"),--u.r||ee(u.c),!1;if(l>=o){const y=c((l-o)/v);f(1-y,y)}}return a})}return Ne(s)?zt().then(()=>{s=s(),d()}):d(),{end(m){m&&s.tick&&s.tick(1,0),a&&(p&&Oe(e,p),a=!1)}}}function Se(e){e&&e.c()}function ce(e,t,n,s){const{fragment:a,on_mount:p,on_destroy:u,after_update:d}=e.$$;a&&a.m(t,n),s||X(()=>{const m=p.map(Ct).filter(Ne);u?u.push(...m):ee(m),e.$$.on_mount=[]}),d.forEach(X)}function fe(e,t){const n=e.$$;n.fragment!==null&&(ee(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function qn(e,t){e.$$.dirty[0]===-1&&(ae.push(e),Gt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ve(e,t,n,s,a,p,u,d=[-1]){const m=ue;le(e);const v=e.$$={fragment:null,ctx:null,props:p,update:A,not_equal:a,bound:bt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(m?m.$$.context:[])),callbacks:bt(),dirty:d,skip_bound:!1,root:t.target||m.$$.root};u&&u(v.root);let c=!1;if(v.ctx=n?n(e,t.props||{},(f,r,...o)=>{const i=o.length?o[0]:r;return v.ctx&&a(v.ctx[f],v.ctx[f]=i)&&(!v.skip_bound&&v.bound[f]&&v.bound[f](i),c&&qn(e,f)),r}):[],v.update(),c=!0,ee(v.before_update),v.fragment=s?s(v.ctx):!1,t.target){if(t.hydrate){const f=hn(t.target);v.fragment&&v.fragment.l(f),f.forEach(S)}else v.fragment&&v.fragment.c();t.intro&&G(e.$$.fragment),ce(e,t.target,t.anchor,t.customElement),Yt()}le(m)}class ye{$destroy(){fe(this,1),this.$destroy=A}$on(t,n){const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const a=s.indexOf(n);a!==-1&&s.splice(a,1)}}$set(t){this.$$set&&!pn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}try{self["workbox:window:6.5.3"]&&_()}catch{}function Tt(e,t){return new Promise(function(n){var s=new MessageChannel;s.port1.onmessage=function(a){n(a.data)},e.postMessage(t,[s.port2])})}function Ln(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function Dt(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Sn(e,t){var n;if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=function(a,p){if(a){if(typeof a=="string")return Dt(a,p);var u=Object.prototype.toString.call(a).slice(8,-1);return u==="Object"&&a.constructor&&(u=a.constructor.name),u==="Map"||u==="Set"?Array.from(a):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?Dt(a,p):void 0}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=e[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.3"]&&_()}catch{}var $e=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})};function Ue(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}var oe=function(e,t){this.type=e,Object.assign(this,t)};function _e(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function An(){}var Mn={type:"SKIP_WAITING"};function Et(e,t){if(!t)return e&&e.then?e.then(An):Promise.resolve()}var jn=function(e){var t,n;function s(d,m){var v,c;return m===void 0&&(m={}),(v=e.call(this)||this).nn={},v.tn=0,v.rn=new $e,v.en=new $e,v.on=new $e,v.un=0,v.an=new Set,v.cn=function(){var f=v.fn,r=f.installing;v.tn>0||!Ue(r.scriptURL,v.sn.toString())||performance.now()>v.un+6e4?(v.vn=r,f.removeEventListener("updatefound",v.cn)):(v.hn=r,v.an.add(r),v.rn.resolve(r)),++v.tn,r.addEventListener("statechange",v.ln)},v.ln=function(f){var r=v.fn,o=f.target,i=o.state,l=o===v.vn,y={sw:o,isExternal:l,originalEvent:f};!l&&v.mn&&(y.isUpdate=!0),v.dispatchEvent(new oe(i,y)),i==="installed"?v.wn=self.setTimeout(function(){i==="installed"&&r.waiting===o&&v.dispatchEvent(new oe("waiting",y))},200):i==="activating"&&(clearTimeout(v.wn),l||v.en.resolve(o))},v.dn=function(f){var r=v.hn,o=r!==navigator.serviceWorker.controller;v.dispatchEvent(new oe("controlling",{isExternal:o,originalEvent:f,sw:r,isUpdate:v.mn})),o||v.on.resolve(r)},v.gn=(c=function(f){var r=f.data,o=f.ports,i=f.source;return _e(v.getSW(),function(){v.an.has(i)&&v.dispatchEvent(new oe("message",{data:r,originalEvent:f,ports:o,sw:i}))})},function(){for(var f=[],r=0;r<arguments.length;r++)f[r]=arguments[r];try{return Promise.resolve(c.apply(this,f))}catch(o){return Promise.reject(o)}}),v.sn=d,v.nn=m,navigator.serviceWorker.addEventListener("message",v.gn),v}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,p,u=s.prototype;return u.register=function(d){var m=(d===void 0?{}:d).immediate,v=m!==void 0&&m;try{var c=this;return function(f,r){var o=f();return o&&o.then?o.then(r):r(o)}(function(){if(!v&&document.readyState!=="complete")return Et(new Promise(function(f){return window.addEventListener("load",f)}))},function(){return c.mn=Boolean(navigator.serviceWorker.controller),c.yn=c.pn(),_e(c.bn(),function(f){c.fn=f,c.yn&&(c.hn=c.yn,c.en.resolve(c.yn),c.on.resolve(c.yn),c.yn.addEventListener("statechange",c.ln,{once:!0}));var r=c.fn.waiting;return r&&Ue(r.scriptURL,c.sn.toString())&&(c.hn=r,Promise.resolve().then(function(){c.dispatchEvent(new oe("waiting",{sw:r,wasWaitingBeforeRegister:!0}))}).then(function(){})),c.hn&&(c.rn.resolve(c.hn),c.an.add(c.hn)),c.fn.addEventListener("updatefound",c.cn),navigator.serviceWorker.addEventListener("controllerchange",c.dn),c.fn})})}catch(f){return Promise.reject(f)}},u.update=function(){try{return this.fn?Et(this.fn.update()):void 0}catch(d){return Promise.reject(d)}},u.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},u.messageSW=function(d){try{return _e(this.getSW(),function(m){return Tt(m,d)})}catch(m){return Promise.reject(m)}},u.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Tt(this.fn.waiting,Mn)},u.pn=function(){var d=navigator.serviceWorker.controller;return d&&Ue(d.scriptURL,this.sn.toString())?d:void 0},u.bn=function(){try{var d=this;return function(m,v){try{var c=m()}catch(f){return v(f)}return c&&c.then?c.then(void 0,v):c}(function(){return _e(navigator.serviceWorker.register(d.sn,d.nn),function(m){return d.un=performance.now(),m})},function(m){throw m})}catch(m){return Promise.reject(m)}},a=s,(p=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&Ln(a.prototype,p),s}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(n,s){this.Sn(n).add(s)},t.removeEventListener=function(n,s){this.Sn(n).delete(s)},t.dispatchEvent=function(n){n.target=this;for(var s,a=Sn(this.Sn(n.type));!(s=a()).done;)(0,s.value)(n)},t.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},e}());function In(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:s,onRegistered:a,onRegisterError:p}=e;let u;const d=async(m=!0)=>{};return"serviceWorker"in navigator&&(u=new jn("/sw.js",{scope:"/",type:"classic"}),u.addEventListener("activated",m=>{m.isUpdate?window.location.reload():s==null||s()}),u.register({immediate:t}).then(m=>{a==null||a(m)}).catch(m=>{p==null||p(m)})),d}var pe="/assets/llfs.b089f5f9.svg";/*! js-cookie v3.0.1 | MIT */function be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)e[s]=n[s]}return e}var Cn={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Be(e,t){function n(a,p,u){if(typeof document!="undefined"){u=be({},t,u),typeof u.expires=="number"&&(u.expires=new Date(Date.now()+u.expires*864e5)),u.expires&&(u.expires=u.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var d="";for(var m in u)!u[m]||(d+="; "+m,u[m]!==!0&&(d+="="+u[m].split(";")[0]));return document.cookie=a+"="+e.write(p,a)+d}}function s(a){if(!(typeof document=="undefined"||arguments.length&&!a)){for(var p=document.cookie?document.cookie.split("; "):[],u={},d=0;d<p.length;d++){var m=p[d].split("="),v=m.slice(1).join("=");try{var c=decodeURIComponent(m[0]);if(u[c]=e.read(v,c),a===c)break}catch{}}return a?u[a]:u}}return Object.create({set:n,get:s,remove:function(a,p){n(a,"",be({},p,{expires:-1}))},withAttributes:function(a){return Be(this.converter,be({},this.attributes,a))},withConverter:function(a){return Be(be({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var O=Be(Cn,{path:"/"});function $n(){{const e=new URLSearchParams(window.location.hash.substring(1));if(e.has("access_token")&&e.has("expires_in")&&(O.set("token",e.get("access_token"),{sameSite:"Strict"}),O.set("expires_at",(Date.now()+parseInt(e.get("expires_in"))*1e3).toString(),{sameSite:"Strict"}),window.history.replaceState({},document.title,"/")),O.get("token")&&O.get("expires_at")&&O.get("expires_at")>Date.now().toString())return{token:O.get("token"),expiresAt:parseInt(O.get("expires_at"))}}}const Un="285cd29de87649a5b55bc8ad56734d44";function Ae(e,{delay:t=0,duration:n=400,easing:s=xe}={}){const a=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:s,css:p=>`opacity: ${p*a}`}}const z=[];function Zt(e,t=A){let n;const s=new Set;function a(d){if(te(e,d)&&(e=d,n)){const m=!z.length;for(const v of s)v[1](),z.push(v,e);if(m){for(let v=0;v<z.length;v+=2)z[v][0](z[v+1]);z.length=0}}}function p(d){a(d(e))}function u(d,m=A){const v=[d,m];return s.add(v),s.size===1&&(n=t(a)||A),d(e),()=>{s.delete(v),s.size===0&&(n(),n=null)}}return{set:a,update:p,subscribe:u}}var en={exports:{}};(function(e){var t=function(){var n="https://api.spotify.com/v1",s=null,a=null,p=function(r,o){return r.abort=o,r},u=function(r,o){var i;if(a!==null){var l=a.defer();r(function(y){l.resolve(y)},function(y){l.reject(y)}),i=l.promise}else window.Promise&&(i=new window.Promise(r));return i?new p(i,o):null},d=function(){var r=Array.prototype.slice.call(arguments),o=r[0],i=r.slice(1);return o=o||{},i.forEach(function(l){for(var y in l)l.hasOwnProperty(y)&&(o[y]=l[y])}),o},m=function(r,o){var i="";for(var l in o)if(o.hasOwnProperty(l)){var y=o[l];i+=encodeURIComponent(l)+"="+encodeURIComponent(y)+"&"}return i.length>0&&(i=i.substring(0,i.length-1),r=r+"?"+i),r},v=function(r,o){var i=new XMLHttpRequest,l=function(y,k){function h(q){y&&y(q),o&&o(null,q)}function b(){k&&k(i),o&&o(i,null)}var T=r.type||"GET";if(i.open(T,m(r.url,r.params)),s&&i.setRequestHeader("Authorization","Bearer "+s),i.onreadystatechange=function(){if(i.readyState===4){var q=null;try{q=i.responseText?JSON.parse(i.responseText):""}catch(M){console.error(M)}i.status>=200&&i.status<300?h(q):b()}},T==="GET")i.send(null);else{var P=null;r.postData&&(r.contentType==="image/jpeg"?(P=r.postData,i.setRequestHeader("Content-Type",r.contentType)):(P=JSON.stringify(r.postData),i.setRequestHeader("Content-Type","application/json"))),i.send(P)}};return o?(l(),null):u(l,function(){i.abort()})},c=function(r,o,i,l){var y={},k=null;typeof o=="object"?(y=o,k=i):typeof o=="function"&&(k=o);var h=r.type||"GET";return h!=="GET"&&r.postData&&!l?r.postData=d(r.postData,y):r.params=d(r.params,y),v(r,k)},f=function(){};return f.prototype={constructor:t},f.prototype.getGeneric=function(r,o){var i={url:r};return c(i,o)},f.prototype.getMe=function(r,o){var i={url:n+"/me"};return c(i,r,o)},f.prototype.getMySavedTracks=function(r,o){var i={url:n+"/me/tracks"};return c(i,r,o)},f.prototype.addToMySavedTracks=function(r,o,i){var l={url:n+"/me/tracks",type:"PUT",postData:r};return c(l,o,i)},f.prototype.removeFromMySavedTracks=function(r,o,i){var l={url:n+"/me/tracks",type:"DELETE",postData:r};return c(l,o,i)},f.prototype.containsMySavedTracks=function(r,o,i){var l={url:n+"/me/tracks/contains",params:{ids:r.join(",")}};return c(l,o,i)},f.prototype.getMySavedAlbums=function(r,o){var i={url:n+"/me/albums"};return c(i,r,o)},f.prototype.addToMySavedAlbums=function(r,o,i){var l={url:n+"/me/albums",type:"PUT",postData:r};return c(l,o,i)},f.prototype.removeFromMySavedAlbums=function(r,o,i){var l={url:n+"/me/albums",type:"DELETE",postData:r};return c(l,o,i)},f.prototype.containsMySavedAlbums=function(r,o,i){var l={url:n+"/me/albums/contains",params:{ids:r.join(",")}};return c(l,o,i)},f.prototype.getMyTopArtists=function(r,o){var i={url:n+"/me/top/artists"};return c(i,r,o)},f.prototype.getMyTopTracks=function(r,o){var i={url:n+"/me/top/tracks"};return c(i,r,o)},f.prototype.getMyRecentlyPlayedTracks=function(r,o){var i={url:n+"/me/player/recently-played"};return c(i,r,o)},f.prototype.followUsers=function(r,o){var i={url:n+"/me/following/",type:"PUT",params:{ids:r.join(","),type:"user"}};return c(i,o)},f.prototype.followArtists=function(r,o){var i={url:n+"/me/following/",type:"PUT",params:{ids:r.join(","),type:"artist"}};return c(i,o)},f.prototype.followPlaylist=function(r,o,i){var l={url:n+"/playlists/"+r+"/followers",type:"PUT",postData:{}};return c(l,o,i)},f.prototype.unfollowUsers=function(r,o){var i={url:n+"/me/following/",type:"DELETE",params:{ids:r.join(","),type:"user"}};return c(i,o)},f.prototype.unfollowArtists=function(r,o){var i={url:n+"/me/following/",type:"DELETE",params:{ids:r.join(","),type:"artist"}};return c(i,o)},f.prototype.unfollowPlaylist=function(r,o){var i={url:n+"/playlists/"+r+"/followers",type:"DELETE"};return c(i,o)},f.prototype.isFollowingUsers=function(r,o){var i={url:n+"/me/following/contains",type:"GET",params:{ids:r.join(","),type:"user"}};return c(i,o)},f.prototype.isFollowingArtists=function(r,o){var i={url:n+"/me/following/contains",type:"GET",params:{ids:r.join(","),type:"artist"}};return c(i,o)},f.prototype.areFollowingPlaylist=function(r,o,i){var l={url:n+"/playlists/"+r+"/followers/contains",type:"GET",params:{ids:o.join(",")}};return c(l,i)},f.prototype.getFollowedArtists=function(r,o){var i={url:n+"/me/following",type:"GET",params:{type:"artist"}};return c(i,r,o)},f.prototype.getUser=function(r,o,i){var l={url:n+"/users/"+encodeURIComponent(r)};return c(l,o,i)},f.prototype.getUserPlaylists=function(r,o,i){var l;return typeof r=="string"?l={url:n+"/users/"+encodeURIComponent(r)+"/playlists"}:(l={url:n+"/me/playlists"},i=o,o=r),c(l,o,i)},f.prototype.getPlaylist=function(r,o,i){var l={url:n+"/playlists/"+r};return c(l,o,i)},f.prototype.getPlaylistTracks=function(r,o,i){var l={url:n+"/playlists/"+r+"/tracks"};return c(l,o,i)},f.prototype.getPlaylistCoverImage=function(r,o){var i={url:n+"/playlists/"+r+"/images"};return c(i,o)},f.prototype.createPlaylist=function(r,o,i){var l={url:n+"/users/"+encodeURIComponent(r)+"/playlists",type:"POST",postData:o};return c(l,o,i)},f.prototype.changePlaylistDetails=function(r,o,i){var l={url:n+"/playlists/"+r,type:"PUT",postData:o};return c(l,o,i)},f.prototype.addTracksToPlaylist=function(r,o,i,l){var y={url:n+"/playlists/"+r+"/tracks",type:"POST",postData:{uris:o}};return c(y,i,l,!0)},f.prototype.replaceTracksInPlaylist=function(r,o,i){var l={url:n+"/playlists/"+r+"/tracks",type:"PUT",postData:{uris:o}};return c(l,{},i)},f.prototype.reorderTracksInPlaylist=function(r,o,i,l,y){var k={url:n+"/playlists/"+r+"/tracks",type:"PUT",postData:{range_start:o,insert_before:i}};return c(k,l,y)},f.prototype.removeTracksFromPlaylist=function(r,o,i){var l=o.map(function(k){return typeof k=="string"?{uri:k}:k}),y={url:n+"/playlists/"+r+"/tracks",type:"DELETE",postData:{tracks:l}};return c(y,{},i)},f.prototype.removeTracksFromPlaylistWithSnapshotId=function(r,o,i,l){var y=o.map(function(h){return typeof h=="string"?{uri:h}:h}),k={url:n+"/playlists/"+r+"/tracks",type:"DELETE",postData:{tracks:y,snapshot_id:i}};return c(k,{},l)},f.prototype.removeTracksFromPlaylistInPositions=function(r,o,i,l){var y={url:n+"/playlists/"+r+"/tracks",type:"DELETE",postData:{positions:o,snapshot_id:i}};return c(y,{},l)},f.prototype.uploadCustomPlaylistCoverImage=function(r,o,i){var l={url:n+"/playlists/"+r+"/images",type:"PUT",postData:o.replace(/^data:image\/jpeg;base64,/,""),contentType:"image/jpeg"};return c(l,{},i)},f.prototype.getAlbum=function(r,o,i){var l={url:n+"/albums/"+r};return c(l,o,i)},f.prototype.getAlbumTracks=function(r,o,i){var l={url:n+"/albums/"+r+"/tracks"};return c(l,o,i)},f.prototype.getAlbums=function(r,o,i){var l={url:n+"/albums/",params:{ids:r.join(",")}};return c(l,o,i)},f.prototype.getTrack=function(r,o,i){var l={};return l.url=n+"/tracks/"+r,c(l,o,i)},f.prototype.getTracks=function(r,o,i){var l={url:n+"/tracks/",params:{ids:r.join(",")}};return c(l,o,i)},f.prototype.getArtist=function(r,o,i){var l={url:n+"/artists/"+r};return c(l,o,i)},f.prototype.getArtists=function(r,o,i){var l={url:n+"/artists/",params:{ids:r.join(",")}};return c(l,o,i)},f.prototype.getArtistAlbums=function(r,o,i){var l={url:n+"/artists/"+r+"/albums"};return c(l,o,i)},f.prototype.getArtistTopTracks=function(r,o,i,l){var y={url:n+"/artists/"+r+"/top-tracks",params:{country:o}};return c(y,i,l)},f.prototype.getArtistRelatedArtists=function(r,o,i){var l={url:n+"/artists/"+r+"/related-artists"};return c(l,o,i)},f.prototype.getFeaturedPlaylists=function(r,o){var i={url:n+"/browse/featured-playlists"};return c(i,r,o)},f.prototype.getNewReleases=function(r,o){var i={url:n+"/browse/new-releases"};return c(i,r,o)},f.prototype.getCategories=function(r,o){var i={url:n+"/browse/categories"};return c(i,r,o)},f.prototype.getCategory=function(r,o,i){var l={url:n+"/browse/categories/"+r};return c(l,o,i)},f.prototype.getCategoryPlaylists=function(r,o,i){var l={url:n+"/browse/categories/"+r+"/playlists"};return c(l,o,i)},f.prototype.search=function(r,o,i,l){var y={url:n+"/search/",params:{q:r,type:o.join(",")}};return c(y,i,l)},f.prototype.searchAlbums=function(r,o,i){return this.search(r,["album"],o,i)},f.prototype.searchArtists=function(r,o,i){return this.search(r,["artist"],o,i)},f.prototype.searchTracks=function(r,o,i){return this.search(r,["track"],o,i)},f.prototype.searchPlaylists=function(r,o,i){return this.search(r,["playlist"],o,i)},f.prototype.searchShows=function(r,o,i){return this.search(r,["show"],o,i)},f.prototype.searchEpisodes=function(r,o,i){return this.search(r,["episode"],o,i)},f.prototype.getAudioFeaturesForTrack=function(r,o){var i={};return i.url=n+"/audio-features/"+r,c(i,{},o)},f.prototype.getAudioFeaturesForTracks=function(r,o){var i={url:n+"/audio-features",params:{ids:r}};return c(i,{},o)},f.prototype.getAudioAnalysisForTrack=function(r,o){var i={};return i.url=n+"/audio-analysis/"+r,c(i,{},o)},f.prototype.getRecommendations=function(r,o){var i={url:n+"/recommendations"};return c(i,r,o)},f.prototype.getAvailableGenreSeeds=function(r){var o={url:n+"/recommendations/available-genre-seeds"};return c(o,{},r)},f.prototype.getMyDevices=function(r){var o={url:n+"/me/player/devices"};return c(o,{},r)},f.prototype.getMyCurrentPlaybackState=function(r,o){var i={url:n+"/me/player"};return c(i,r,o)},f.prototype.getMyCurrentPlayingTrack=function(r,o){var i={url:n+"/me/player/currently-playing"};return c(i,r,o)},f.prototype.transferMyPlayback=function(r,o,i){var l=o||{};l.device_ids=r;var y={type:"PUT",url:n+"/me/player",postData:l};return c(y,o,i)},f.prototype.play=function(r,o){r=r||{};var i="device_id"in r?{device_id:r.device_id}:null,l={};["context_uri","uris","offset","position_ms"].forEach(function(h){h in r&&(l[h]=r[h])});var y={type:"PUT",url:n+"/me/player/play",params:i,postData:l},k=typeof r=="function"?r:{};return c(y,k,o)},f.prototype.queue=function(r,o,i){o=o||{};var l="device_id"in o?{uri:r,device_id:o.device_id}:{uri:r},y={type:"POST",url:n+"/me/player/queue",params:l};return c(y,o,i)},f.prototype.pause=function(r,o){r=r||{};var i="device_id"in r?{device_id:r.device_id}:null,l={type:"PUT",url:n+"/me/player/pause",params:i};return c(l,r,o)},f.prototype.skipToNext=function(r,o){r=r||{};var i="device_id"in r?{device_id:r.device_id}:null,l={type:"POST",url:n+"/me/player/next",params:i};return c(l,r,o)},f.prototype.skipToPrevious=function(r,o){r=r||{};var i="device_id"in r?{device_id:r.device_id}:null,l={type:"POST",url:n+"/me/player/previous",params:i};return c(l,r,o)},f.prototype.seek=function(r,o,i){o=o||{};var l={position_ms:r};"device_id"in o&&(l.device_id=o.device_id);var y={type:"PUT",url:n+"/me/player/seek",params:l};return c(y,o,i)},f.prototype.setRepeat=function(r,o,i){o=o||{};var l={state:r};"device_id"in o&&(l.device_id=o.device_id);var y={type:"PUT",url:n+"/me/player/repeat",params:l};return c(y,o,i)},f.prototype.setVolume=function(r,o,i){o=o||{};var l={volume_percent:r};"device_id"in o&&(l.device_id=o.device_id);var y={type:"PUT",url:n+"/me/player/volume",params:l};return c(y,o,i)},f.prototype.setShuffle=function(r,o,i){o=o||{};var l={state:r};"device_id"in o&&(l.device_id=o.device_id);var y={type:"PUT",url:n+"/me/player/shuffle",params:l};return c(y,o,i)},f.prototype.getShow=function(r,o,i){var l={};return l.url=n+"/shows/"+r,c(l,o,i)},f.prototype.getShows=function(r,o,i){var l={url:n+"/shows/",params:{ids:r.join(",")}};return c(l,o,i)},f.prototype.getMySavedShows=function(r,o){var i={url:n+"/me/shows"};return c(i,r,o)},f.prototype.addToMySavedShows=function(r,o,i){var l={url:n+"/me/shows",type:"PUT",postData:r};return c(l,o,i)},f.prototype.removeFromMySavedShows=function(r,o,i){var l={url:n+"/me/shows",type:"DELETE",postData:r};return c(l,o,i)},f.prototype.containsMySavedShows=function(r,o,i){var l={url:n+"/me/shows/contains",params:{ids:r.join(",")}};return c(l,o,i)},f.prototype.getShowEpisodes=function(r,o,i){var l={url:n+"/shows/"+r+"/episodes"};return c(l,o,i)},f.prototype.getEpisode=function(r,o,i){var l={};return l.url=n+"/episodes/"+r,c(l,o,i)},f.prototype.getEpisodes=function(r,o,i){var l={url:n+"/episodes/",params:{ids:r.join(",")}};return c(l,o,i)},f.prototype.getAccessToken=function(){return s},f.prototype.setAccessToken=function(r){s=r},f.prototype.setPromiseImplementation=function(r){var o=!1;try{var i=new r(function(l){l()});typeof i.then=="function"&&typeof i.catch=="function"&&(o=!0)}catch(l){console.error(l)}if(o)a=r;else throw new Error("Unsupported implementation of Promises/A+")},f}();e.exports=t})(en);var Rn=en.exports,Wn="/assets/fullscreen.91da601f.svg",On="/assets/close_fullscreen.7d3d3ee4.svg";function Ge(e){var n,s;const t=Date.now()-((n=e==null?void 0:e.timestamp)!=null?n:Date.now());return((s=e==null?void 0:e.progress_ms)!=null?s:0)+(e!=null&&e.is_playing?t:0)}function Fn(e){var t;return Ge(e)-((t=e==null?void 0:e.item)==null?void 0:t.duration_ms)}function Bn(e,t,n){e.progress_ms=n,t.set(e)}let ie;async function Vn(e){if(localStorage){const t=JSON.parse(localStorage.getItem(e));if(t!=null)return t}return xn(e)}async function xn(e){try{ie&&await ie,ie=fetch("https://spotify-lyric-api.herokuapp.com/?"+new URLSearchParams({trackid:e}).toString(),{mode:"cors"});const t=await ie;if(ie=void 0,!t.ok)return console.error(t),t.status===403?403:null;const n=(await t.json()).map((s,a,p)=>{const u={words:s.words,startTimeMs:parseInt(s.startTimeMs),endTimeMs:parseInt(s.endTimeMs),syllables:s.syllables};return u.endTimeMs<u.startTimeMs&&(u.endTimeMs=a<p.length-1?parseInt(p[a+1].startTimeMs):0),u}).sort((s,a)=>s.startTimeMs-a.startTimeMs);return localStorage&&localStorage.setItem(e,JSON.stringify(n)),n}catch(t){return console.log(t),null}}const tn=e=>e===void 0||e==="auto"||e==="instant"||e==="smooth";function Nn(e,t){this.scrollLeft=e,this.scrollTop=t}const nn=(e,t,n="cannot convert to dictionary.")=>`Failed to execute '${e}' on '${t}': ${n}`,rn=(e,t,n)=>nn(e,t,`The provided value '${n}' is not a valid enum value of type ScrollBehavior.`),Me=(e,t,n)=>{var s;const a=`__SEAMLESS.BACKUP$${t}`;return!e[a]&&e[t]&&!(!((s=e[t])===null||s===void 0)&&s.__isPolyfill)&&(e[a]=e[t]),e[a]||n},on=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")},Hn=e=>"scrollBehavior"in window.document.documentElement.style&&(e==null?void 0:e.forcePolyfill)!==!0,Xn=e=>{Object.defineProperty(e,"__isPolyfill",{value:!0})},Gn=(e,t)=>{Xn(t),[HTMLElement.prototype,SVGElement.prototype,Element.prototype].forEach(n=>{Me(n,e),n[e]=t})},Ye=e=>e.ownerDocument.scrollingElement||e.ownerDocument.documentElement,Yn=e=>.5*(1-Math.cos(Math.PI*e));function ze(){var e;let t;return!((e=window.performance)===null||e===void 0)&&e.now?t=()=>window.performance.now():t=()=>window.Date.now(),ze=t,t()}const zn=500,sn=e=>{const n=(ze()-e.timeStamp)/(e.duration||zn);if(n>1){e.method(e.targetX,e.targetY),e.callback();return}const s=(e.timingFunc||Yn)(n),a=e.startX+(e.targetX-e.startX)*s,p=e.startY+(e.targetY-e.startY)*s;e.method(a,p),e.rafId=window.requestAnimationFrame(()=>{sn(e)})},je=e=>isFinite(e)?Number(e):0,Jn=e=>{var t;return(t=e.isConnected)!==null&&t!==void 0?t:!e.ownerDocument||!(e.ownerDocument.compareDocumentPosition(e)&1)},Kn=(e,t,n)=>{var s,a;if(!Jn(e))return;const p=e.scrollLeft,u=e.scrollTop,d=je((s=t.left)!==null&&s!==void 0?s:p),m=je((a=t.top)!==null&&a!==void 0?a:u);if(d===p&&m===u)return;const v=Me(HTMLElement.prototype,"scroll",Nn),c=Me(Object.getPrototypeOf(e),"scroll",v).bind(e);if(t.behavior!=="smooth"){c(d,m);return}const f=()=>{window.removeEventListener("wheel",o),window.removeEventListener("touchmove",o)},r=Object.assign(Object.assign({},n),{timeStamp:ze(),startX:p,startY:u,targetX:d,targetY:m,rafId:0,method:c,callback:f}),o=()=>{window.cancelAnimationFrame(r.rafId),f()};window.addEventListener("wheel",o,{passive:!0,once:!0}),window.addEventListener("touchmove",o,{passive:!0,once:!0}),sn(r)},Qn=e=>e.window===e,Zn=e=>(t,n,s)=>{const[a,p]=Qn(t)?[Ye(t.document.documentElement),"Window"]:[t,"Element"],u=n!=null?n:{};if(!on(u))throw new TypeError(nn(e,p));if(!tn(u.behavior))throw new TypeError(rn(e,p,u.behavior));e==="scrollBy"&&(u.left=je(u.left)+a.scrollLeft,u.top=je(u.top)+a.scrollTop),Kn(a,u,s)},er=Zn("scroll"),tr=er,an=e=>{switch(e){case"horizontal-tb":case"lr":case"lr-tb":case"rl":case"rl-tb":return 0;case"vertical-rl":case"tb":case"tb-rl":return 1;case"vertical-lr":case"tb-lr":return 2;case"sideways-rl":return 3;case"sideways-lr":return 4}return 0},ln=(e,t,n,s)=>{let a=0;switch(t||(a^=2),e){case 0:a=a>>1|(a&1)<<1,[n,s]=[s,n];break;case 1:case 3:a^=1;break;case 4:a^=2;break}return[a,n,s]},nr=e=>(ln(an(e.writingMode),e.direction!=="rtl",void 0,void 0)[0]&1)===1,rr=(e,t,n)=>{const[s,a,p]=ln(t,n,e.block||"start",e.inline||"nearest");return[a,p].map((u,d)=>{switch(u){case"center":return 1;case"nearest":return 0;default:{const m=s>>d&1;return u==="start"==!m?2:3}}})},Pt=(e,t,n,s,a,p,u)=>e!==0?e:a<t&&p>n||a>t&&p<n?null:a<=t&&u<=s||p>=n&&u>=s?2:p>n&&u<s||a<t&&u>s?3:null,qt=e=>e!=="visible"&&e!=="clip",or=e=>{var t;try{return((t=e.ownerDocument.defaultView)===null||t===void 0?void 0:t.frameElement)||null}catch{return null}},ir=(e,t)=>e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth?qt(t.overflowY)||qt(t.overflowX)||e===Ye(e):!1,Lt=e=>{const t=e.parentNode,n=e.parentElement;if(n===null&&t!==null){if(t.nodeType===11)return t.host;if(t.nodeType===9)return or(e)}return n},Re=(e,t,n)=>e<t?t:e>n?n:e,sr=e=>["scroll-margin","scroll-snap-margin"].filter(t=>t in e.documentElement.style)[0],ar=(e,t,n)=>{const{top:s,right:a,bottom:p,left:u}=t,d=sr(e.ownerDocument);if(!d)return[s,a,p,u];const m=v=>{const c=n.getPropertyValue(`${d}-${v}`);return parseInt(c,10)||0};return[s-m("top"),a+m("right"),p+m("bottom"),u-m("left")]},ke=(e,t,n)=>{switch(e){case 1:return(t+n)/2;case 3:return n;case 2:case 0:return t}},lr=(e,t)=>{var n,s,a;const p=(n=e.ownerDocument.defaultView)===null||n===void 0?void 0:n.visualViewport,[u,d,m,v]=e===Ye(e)?[0,0,(s=p==null?void 0:p.width)!==null&&s!==void 0?s:e.clientWidth,(a=p==null?void 0:p.height)!==null&&a!==void 0?a:e.clientHeight]:[t.left,t.top,e.clientWidth,e.clientHeight],c=u+e.clientLeft,f=d+e.clientTop,r=c+m,o=f+v;return[f,r,o,c]},ur=(e,t)=>{const n=[];let s=e.ownerDocument,a=s.defaultView;if(!a)return n;const p=window.getComputedStyle(e),u=p.direction!=="rtl",d=an(p.writingMode||p.getPropertyValue("-webkit-writing-mode")||p.getPropertyValue("-ms-writing-mode")),[m,v]=rr(t,d,u);let[c,f,r,o]=ar(e,e.getBoundingClientRect(),p);for(let i=Lt(e);i!==null;i=Lt(i)){if(s!==i.ownerDocument){if(s=i.ownerDocument,a=s.defaultView,!a)break;const{left:j,top:U}=i.getBoundingClientRect();c+=U,f+=j,r+=U,o+=j}const l=a.getComputedStyle(i);if(l.position==="fixed")break;if(!ir(i,l))continue;const y=i.getBoundingClientRect(),[k,h,b,T]=lr(i,y),P=Pt(m,T,h,i.clientWidth,o,f,f-o),q=Pt(v,k,b,i.clientHeight,c,r,r-c),M=P===null?0:ke(P,o,f)-ke(P,T,h),R=q===null?0:ke(q,c,r)-ke(q,k,b),N=nr(l)?Re(M,-i.scrollWidth+i.clientWidth-i.scrollLeft,-i.scrollLeft):Re(M,-i.scrollLeft,i.scrollWidth-i.clientWidth-i.scrollLeft),D=Re(R,-i.scrollTop,i.scrollHeight-i.clientHeight-i.scrollTop);n.push([i,{left:i.scrollLeft+N,top:i.scrollTop+D,behavior:t.behavior}]),c=Math.max(c-D,k),f=Math.min(f-N,h),r=Math.min(r-D,b),o=Math.max(o-N,T)}return n},cr=(e,t,n)=>{const s=t||{};if(!tn(s.behavior))throw new TypeError(rn("scrollIntoView","Element",s.behavior));ur(e,s).forEach(([p,u])=>{tr(p,u,n)})},un=cr;function fr(e){un(this,{block:e==null||e?"start":"end",inline:"nearest"})}const pr=e=>{if(Hn(e))return;const t=Me(window.HTMLElement.prototype,"scrollIntoView",fr);Gn("scrollIntoView",function(){const s=arguments,a=s[0];if(s.length===1&&on(a)){un(this,a,e);return}t.apply(this,s)})};function dr(e){return e=e.filter(t=>t!=null),new Promise(t=>{const n=new IntersectionObserver(s=>{for(const a of s)n.unobserve(a.target),e.splice(e.indexOf(a.target),1),a.isIntersecting&&(n.disconnect(),t(!0));e.length===0&&t(!1)});for(const s of e)n.observe(s)})}function St(e,t,n){const s=e.slice();return s[15]=t[n],s[17]=n,s}function mr(e){let t,n=e[1],s=[];for(let a=0;a<n.length;a+=1)s[a]=At(St(e,n,a));return{c(){for(let a=0;a<s.length;a+=1)s[a].c();t=Bt()},m(a,p){for(let u=0;u<s.length;u+=1)s[u].m(a,p);I(a,t,p)},p(a,p){if(p&18){n=a[1];let u;for(u=0;u<n.length;u+=1){const d=St(a,n,u);s[u]?s[u].p(d,p):(s[u]=At(d),s[u].c(),s[u].m(t.parentNode,t))}for(;u<s.length;u+=1)s[u].d(1);s.length=n.length}},d(a){yn(s,a),a&&S(t)}}}function vr(e){let t,n,s,a,p;return{c(){t=E("span"),t.textContent="Can't access lyrics database",n=C(),s=E("button"),s.textContent="Try again",g(t,"class","line svelte-pm5j2w"),g(s,"class","line svelte-pm5j2w")},m(u,d){I(u,t,d),I(u,n,d),I(u,s,d),a||(p=de(s,"click",e[6]),a=!0)},p:A,d(u){u&&S(t),u&&S(n),u&&S(s),a=!1,p()}}}function yr(e){let t;return{c(){t=E("span"),t.textContent="Loading...",g(t,"class","line active svelte-pm5j2w")},m(n,s){I(n,t,s)},p:A,d(n){n&&S(t)}}}function hr(e){let t,n,s,a,p;return{c(){var u,d,m,v,c;t=E("span"),t.textContent="No live lyrics available",n=C(),s=E("a"),a=x("View on Genius instead"),g(t,"class","line svelte-pm5j2w"),g(s,"class","line svelte-pm5j2w"),g(s,"href",p="https://genius.com/"+(((m=(d=(u=e[0])==null?void 0:u.item)==null?void 0:d.artists)==null?void 0:m.map(Mt).join(" "))+" "+((c=(v=e[0])==null?void 0:v.item)==null?void 0:c.name)).replaceAll(/\s/gm,"-")+"-lyrics"),g(s,"target","_blank"),g(s,"rel","noreferrer noopener")},m(u,d){I(u,t,d),I(u,n,d),I(u,s,d),w(s,a)},p(u,d){var m,v,c,f,r;d&1&&p!==(p="https://genius.com/"+(((c=(v=(m=u[0])==null?void 0:m.item)==null?void 0:v.artists)==null?void 0:c.map(Mt).join(" "))+" "+((r=(f=u[0])==null?void 0:f.item)==null?void 0:r.name)).replaceAll(/\s/gm,"-")+"-lyrics")&&g(s,"href",p)},d(u){u&&S(t),u&&S(n),u&&S(s)}}}function gr(e){let t;return{c(){t=E("span"),t.textContent="Start playing something on Spotify to see the lyrics",g(t,"class","line svelte-pm5j2w")},m(n,s){I(n,t,s)},p:A,d(n){n&&S(t)}}}function At(e){let t,n=e[15].words+"",s,a,p;return{c(){t=E("span"),s=x(n),g(t,"class","line svelte-pm5j2w"),g(t,"id","line-"+e[17].toString())},m(u,d){I(u,t,d),w(t,s),a||(p=de(t,"click",e[4]),a=!0)},p(u,d){d&2&&n!==(n=u[15].words+"")&&se(s,n)},d(u){u&&S(t),a=!1,p()}}}function wr(e){let t;function n(p,u){var d;return(d=p[0])!=null&&d.item?p[1]==null?hr:p[1]==""?yr:p[1]==403?vr:mr:gr}let s=n(e),a=s(e);return{c(){t=E("article"),a.c(),g(t,"id","lines-list"),g(t,"class","svelte-pm5j2w")},m(p,u){I(p,t,u),a.m(t,null),e[7](t)},p(p,[u]){s===(s=n(p))&&a?a.p(p,u):(a.d(1),a=s(p),a&&(a.c(),a.m(t,null)))},i:A,o:A,d(p){p&&S(t),a.d(),e[7](null)}}}const Mt=e=>e.name;function _r(e,t,n){pr();let s;const a=Ht();let{pbs:p}=t,u,d=null,m;async function v(h){var T,P,q;if(h===void 0)return;const b=((T=h==null?void 0:h.item)==null?void 0:T.id)!==d||(h==null?void 0:h.is_playing)&&!(u!=null&&u.is_playing)||m===403;n(0,u=h),b&&(n(1,m=""),d=(P=u==null?void 0:u.item)==null?void 0:P.id,n(1,m=await Vn((q=u==null?void 0:u.item)==null?void 0:q.id)),console.log(m)),Tn().then(()=>f(b))}v($t(p)),p.subscribe(v);let c;async function f(h=!1){if(c==null&&(console.warn("linesList == null"),n(2,c=document.getElementById("lines-list")),c==null)){console.warn("linesList not found by id");return}if(m==null||m==""||m===403)return;const b=Ge(u),T=m.findIndex((M,R)=>M.startTimeMs<=b&&(R+1>=m.length||m[R+1].startTimeMs>b)),P=c.getElementsByClassName("active")[0];if(P!=null){if(parseInt(P.id.substring(5))==T)return r(T,b,m);P.classList.remove("active")}if(T==-1)return r(T,b,m);const q=document.getElementById("line-"+T);q!=null&&(q.classList.add("active"),(h||await dr([q,P]))&&q.scrollIntoView({behavior:"smooth",block:"center"})),r(T,b,m)}function r(h,b,T){if(h<T.length-1){s!=null&&window.clearTimeout(s);const P=Math.max(T[h+1].startTimeMs-b,T[h].endTimeMs-b,1);s=window.setTimeout(f,P)}}function o(){if(c==null&&(n(2,c=document.getElementById("lines-list")),c==null))return;const h=c.getElementsByClassName("active")[0];h!=null&&h.scrollIntoView({behavior:"smooth",block:"center"})}function i(){document.visibilityState!=="hidden"&&o()}Xe(()=>{f(),document.addEventListener("visibilitychange",i),document.addEventListener("fullscreenchange",i),window.addEventListener("resize",i)}),Nt(()=>{console.warn("Lyrics destroyed"),s!=null&&window.clearTimeout(s),document.removeEventListener("visibilitychange",i),document.removeEventListener("fullscreenchange",i),window.removeEventListener("resize",i)});function l(h){var q;const b=h.currentTarget;if(!b.id.startsWith("line-"))return;const T=parseInt(b.id.substring(5));if(!Array.isArray(m)||T<0||T>=m.length)return;const P=(q=m[T])==null?void 0:q.startTimeMs;a("skip",P)}const y=()=>{v(u)};function k(h){Q[h?"unshift":"push"](()=>{c=h,n(2,c)})}return e.$$set=h=>{"pbs"in h&&n(5,p=h.pbs)},[u,m,c,v,l,p,y,k]}class br extends ye{constructor(t){super(),ve(this,t,_r,wr,te,{pbs:5})}}const kr="wakeLock"in navigator;let K=null;function Tr(){Ve(),document.addEventListener("visibilitychange",Ve)}function Dr(){document.removeEventListener("visibilitychange",Ve),K!=null&&(K.release(),K=null)}async function Ve(){kr&&(K==null||K.released)&&document.visibilityState==="visible"&&(K=await navigator.wakeLock.request("screen"))}function cn(e,t,n){return Math.max(e,Math.min(t,n))}function Er(e){let t,n,s,a,p,u,d;return{c(){t=E("div"),n=E("span"),s=C(),a=E("span"),a.innerHTML='<span class="progress svelte-pmkch5"></span>',g(n,"class","knob svelte-pmkch5"),g(a,"class","bar svelte-pmkch5"),g(t,"class","wrapper svelte-pmkch5"),g(t,"style",p=`--height:${e[1]};--width:${e[0]};--progress:${e[2]*100}%;--p:${e[2]};`)},m(m,v){I(m,t,v),w(t,n),e[6](n),w(t,s),w(t,a),e[7](a),u||(d=de(t,"mousedown",e[5]),u=!0)},p(m,[v]){v&7&&p!==(p=`--height:${m[1]};--width:${m[0]};--progress:${m[2]*100}%;--p:${m[2]};`)&&g(t,"style",p)},i:A,o:A,d(m){m&&S(t),e[6](null),e[7](null),u=!1,d()}}}function Pr(e,t,n){let{width:s}=t,{height:a}=t,{progress:p}=t;const u=Ht();let d=null,m=null;function v(l){u("dragChange",r(l.clientX))}function c(l){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",c),d.classList.remove("active"),u("dragEnd",r(l.clientX))}function f(l){l.button==0&&(document.addEventListener("mousemove",v),document.addEventListener("mouseup",c),d.classList.add("active"),u("dragStart",r(l.clientX)))}function r(l){const y=m.getBoundingClientRect();return cn(0,(l-y.left)/y.width,1)}function o(l){Q[l?"unshift":"push"](()=>{d=l,n(3,d)})}function i(l){Q[l?"unshift":"push"](()=>{m=l,n(4,m)})}return e.$$set=l=>{"width"in l&&n(0,s=l.width),"height"in l&&n(1,a=l.height),"progress"in l&&n(2,p=l.progress)},[s,a,p,d,m,f,o,i]}class qr extends ye{constructor(t){super(),ve(this,t,Pr,Er,te,{width:0,height:1,progress:2})}}function jt(e){let t,n,s;return{c(){var a;t=E("div"),n=E("aside"),g(n,"class","background-cover svelte-fsyjct"),g(n,"style",s=`--img:url("${(a=e[0])!=null?a:pe}");`),g(t,"class","background-cover svelte-fsyjct")},m(a,p){I(a,t,p),w(t,n)},p(a,p){var u;p&1&&s!==(s=`--img:url("${(u=a[0])!=null?u:pe}");`)&&g(n,"style",s)},d(a){a&&S(t)}}}function Lr(e){var Ke,Qe,Ze,et,tt,nt,rt,ot,it,st,at;let t,n,s,a,p,u,d,m,v=((Ze=(Qe=(Ke=e[1])==null?void 0:Ke.item)==null?void 0:Qe.name)!=null?Ze:"No playback")+"",c,f,r,o=((rt=(nt=(tt=(et=e[1])==null?void 0:et.item)==null?void 0:tt.artists)==null?void 0:nt.map(It).join(" & "))!=null?rt:"Live Lyrics for Spotify")+"",i,l,y,k,h,b,T,P,q,M=Te((ot=e[5])!=null?ot:0)+"",R,N,D,j,U,W=Te((at=(st=(it=e[1])==null?void 0:it.item)==null?void 0:st.duration_ms)!=null?at:0)+"",F,Y,he,ne,B,Ie,Je;h=new br({props:{pbs:e[6]}}),h.$on("skip",e[7]),D=new qr({props:{width:"min(50vmax, 65vw, 80vmin)",height:"max(1vh, 5px)",progress:e[4]}}),D.$on("dragStart",e[9]),D.$on("dragChange",e[10]),D.$on("dragEnd",e[11]);let $=(e[0]||e[3])&&jt(e);return{c(){var L;t=E("main"),n=E("section"),s=E("header"),a=E("img"),u=C(),d=E("div"),m=E("h1"),c=x(v),f=C(),r=E("h2"),i=x(o),l=C(),y=E("button"),k=C(),Se(h.$$.fragment),b=C(),T=E("footer"),P=E("div"),q=E("span"),R=x(M),N=C(),Se(D.$$.fragment),j=C(),U=E("span"),F=x(W),Y=C(),$&&$.c(),g(a,"class","album-art svelte-fsyjct"),g(a,"alt","Album art"),We(a.src,p=(L=e[0])!=null?L:pe)||g(a,"src",p),g(m,"class","song-name svelte-fsyjct"),g(r,"class","artist-name svelte-fsyjct"),g(d,"class","name-info svelte-fsyjct"),g(y,"class","fullscreen-toggle svelte-fsyjct"),g(y,"style",`--open:url("${Wn}");--close:url("${On}");`),g(s,"class","svelte-fsyjct"),g(q,"id","progress_time"),g(U,"id","song_length"),g(P,"class","seek svelte-fsyjct"),g(T,"class","svelte-fsyjct"),g(n,"class","main-section svelte-fsyjct"),g(t,"class","svelte-fsyjct")},m(L,V){I(L,t,V),w(t,n),w(n,s),w(s,a),w(s,u),w(s,d),w(d,m),w(m,c),w(d,f),w(d,r),w(r,i),w(s,l),w(s,y),w(n,k),ce(h,n,null),w(n,b),w(n,T),w(T,P),w(P,q),w(q,R),w(P,N),ce(D,P,null),w(P,j),w(P,U),w(U,F),w(t,Y),$&&$.m(t,null),e[12](t),B=!0,Ie||(Je=de(y,"click",e[8]),Ie=!0)},p(L,[V]){var ut,ct,ft,pt,dt,mt,vt,yt,ht,gt,wt,_t;(!B||V&1&&!We(a.src,p=(ut=L[0])!=null?ut:pe))&&g(a,"src",p),(!B||V&2)&&v!==(v=((pt=(ft=(ct=L[1])==null?void 0:ct.item)==null?void 0:ft.name)!=null?pt:"No playback")+"")&&se(c,v),(!B||V&2)&&o!==(o=((yt=(vt=(mt=(dt=L[1])==null?void 0:dt.item)==null?void 0:mt.artists)==null?void 0:vt.map(It).join(" & "))!=null?yt:"Live Lyrics for Spotify")+"")&&se(i,o),(!B||V&32)&&M!==(M=Te((ht=L[5])!=null?ht:0)+"")&&se(R,M);const lt={};V&16&&(lt.progress=L[4]),D.$set(lt),(!B||V&2)&&W!==(W=Te((_t=(wt=(gt=L[1])==null?void 0:gt.item)==null?void 0:wt.duration_ms)!=null?_t:0)+"")&&se(F,W),L[0]||L[3]?$?$.p(L,V):($=jt(L),$.c(),$.m(t,null)):$&&($.d(1),$=null)},i(L){B||(G(h.$$.fragment,L),G(D.$$.fragment,L),X(()=>{ne&&ne.end(1),he=Kt(t,Ae,{duration:250,delay:250}),he.start()}),B=!0)},o(L){Z(h.$$.fragment,L),Z(D.$$.fragment,L),he&&he.invalidate(),ne=Qt(t,Ae,{duration:250,delay:0}),B=!1},d(L){L&&S(t),fe(h),fe(D),$&&$.d(),e[12](null),L&&ne&&ne.end(),Ie=!1,Je()}}}function Te(e){let t=Math.floor(e/1e3),n=(t%60).toString().padStart(2,"0");return t=Math.floor(t/60),n=(t%60).toString().padStart(2,"0")+":"+n,t=Math.floor(t/60),t>0&&(n=t+":"+n),n}const It=e=>e.name;function Sr(e,t,n){const s=kn("auth_data"),a=$t(s),p=new Rn;p.setAccessToken(a.token);let u,d;const m=Zt(d);let v,c;Xe(()=>{Tr(),r()}),Nt(()=>{v!=null&&window.clearInterval(v),c!=null&&window.clearInterval(c),Dr()});let f=!1;async function r(D=!1){var j,U,W;if(!f||D){try{const Y=Date.now();if(n(1,d=await p.getMyCurrentPlaybackState()),D&&(f=!1),f)return;d!=null&&d!=""&&n(1,d.timestamp=Date.now()-Math.floor((Date.now()-Y)/2),d),n(0,u=(W=(U=(j=d==null?void 0:d.item)==null?void 0:j.album)==null?void 0:U.images[0])==null?void 0:W.url),f||m.set(d)}catch(Y){console.error(Y),s.set(void 0)}P();const F=Fn(d);v=window.setTimeout(r,Math.min(F>0&&(d==null?void 0:d.is_playing)?F:5e3,5e3))}}function o(D){i(D.detail,!0)}function i(D,j=!1){Bn(d,m,D),n(1,d.is_playing=!1,d),f=!0,p.seek(D).then(async()=>{j&&!d.is_playing&&await p.play({position_ms:D}),r(!0)})}let l,y=document.fullscreenElement!=null;async function k(){document.fullscreenElement?await(document==null?void 0:document.exitFullscreen()):await(l==null?void 0:l.requestFullscreen()),n(3,y=document.fullscreenElement!=null)}let h=0,b=0,T=!1;function P(){var j,U,W,F;T||(n(5,b=cn(0,Ge(d),(U=(j=d==null?void 0:d.item)==null?void 0:j.duration_ms)!=null?U:0)),((W=d==null?void 0:d.item)==null?void 0:W.duration_ms)==null?n(4,h=0):n(4,h=b/((F=d==null?void 0:d.item)==null?void 0:F.duration_ms)));const D=1e3-b%1e3;c!=null&&window.clearInterval(c),d!=null&&d.is_playing&&(c=window.setTimeout(P,D))}function q(D){T=!0,M(D)}function M(D){var j;n(4,h=D.detail),n(5,b=h*((j=d==null?void 0:d.item)==null?void 0:j.duration_ms))}function R(D){T=!1,M(D),i(Math.floor(b))}function N(D){Q[D?"unshift":"push"](()=>{l=D,n(2,l)})}return[u,d,l,y,h,b,m,o,k,q,M,R,N]}class Ar extends ye{constructor(t){super(),ve(this,t,Sr,Lr,te,{})}}var Mr="/assets/checkmark.24214891.svg";function jr(e){let t,n,s,a,p,u,d,m,v,c,f,r,o,i,l,y,k,h;return{c(){t=E("main"),n=E("article"),s=E("img"),p=C(),u=E("h1"),u.textContent="Welcome to Live Lyrics for Spotify",d=C(),m=E("a"),v=x("Sign in with Spotify"),c=C(),f=E("input"),r=C(),o=E("label"),o.textContent="Automatically sign me in next time",We(s.src,a=pe)||g(s,"src",a),g(s,"class","logo svelte-niiqbe"),g(s,"alt","Live Lyrics for Spotify logo"),g(u,"class","svelte-niiqbe"),g(m,"href",e[0]),g(m,"class","svelte-niiqbe"),g(f,"type","checkbox"),g(f,"id","auto-auth"),g(f,"name","auto-auth"),f.checked=O.get("auto-auth")=="true",g(f,"class","svelte-niiqbe"),g(o,"for","auto-auth"),g(o,"class","svelte-niiqbe"),g(n,"class","svelte-niiqbe"),g(t,"class","flex-container svelte-niiqbe"),g(t,"style",`--checkmark:url("${Mr}");`)},m(b,T){I(b,t,T),w(t,n),w(n,s),w(n,p),w(n,u),w(n,d),w(n,m),w(m,v),w(n,c),w(n,f),w(n,r),w(n,o),y=!0,k||(h=de(f,"change",e[1]),k=!0)},p:A,i(b){y||(X(()=>{l&&l.end(1),i=Kt(t,Ae,{duration:250,delay:250}),i.start()}),y=!0)},o(b){i&&i.invalidate(),l=Qt(t,Ae,{duration:250,delay:0}),y=!1},d(b){b&&S(t),b&&l&&l.end(),k=!1,h()}}}function Ir(e){const t=new URLSearchParams;t.append("client_id",Un),t.append("response_type","token"),t.append("show_dialog","false"),t.append("redirect_uri",window.location.href),t.append("scope","user-modify-playback-state user-read-playback-state user-library-modify user-read-currently-playing user-library-read");const n="https://accounts.spotify.com/authorize?"+t.toString();Xe(()=>{O.get("auto-auth")=="true"&&(window.location.href=n)});function s(a){O.set("auto-auth",JSON.stringify(a.currentTarget.checked),{expires:365})}return[n,s]}class Cr extends ye{constructor(t){super(),ve(this,t,Ir,jr,te,{})}}function $r(e){let t,n;return t=new Cr({}),{c(){Se(t.$$.fragment)},m(s,a){ce(t,s,a),n=!0},i(s){n||(G(t.$$.fragment,s),n=!0)},o(s){Z(t.$$.fragment,s),n=!1},d(s){fe(t,s)}}}function Ur(e){let t,n;return t=new Ar({}),{c(){Se(t.$$.fragment)},m(s,a){ce(t,s,a),n=!0},i(s){n||(G(t.$$.fragment,s),n=!0)},o(s){Z(t.$$.fragment,s),n=!1},d(s){fe(t,s)}}}function Rr(e){let t,n,s,a;const p=[Ur,$r],u=[];function d(m,v){return m[0]?0:1}return t=d(e),n=u[t]=p[t](e),{c(){n.c(),s=Bt()},m(m,v){u[t].m(m,v),I(m,s,v),a=!0},p(m,[v]){let c=t;t=d(m),t!==c&&(En(),Z(u[c],1,1,()=>{u[c]=null}),Pn(),n=u[t],n||(n=u[t]=p[t](m),n.c()),G(n,1),n.m(s.parentNode,s))},i(m){a||(G(n),a=!0)},o(m){Z(n),a=!1},d(m){u[t].d(m),m&&S(s)}}}function Wr(e,t,n){window.location.protocol==="http:"&&window.location.hostname!=="localhost"&&(window.location.protocol="https:"),In({onOfflineReady(){},onRegistered(p){p&&setInterval(()=>{p.update()},60*60*1e3)}});const s=Zt($n());bn("auth_data",s);let a;return s.subscribe(p=>n(0,a=p)),[a]}class Or extends ye{constructor(t){super(),ve(this,t,Wr,Rr,te,{})}}new Or({target:document.getElementById("app")});
