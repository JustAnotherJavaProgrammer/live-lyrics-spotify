const fn=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const p of a)if(p.type==="childList")for(const c of p.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const p={};return a.integrity&&(p.integrity=a.integrity),a.referrerpolicy&&(p.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?p.credentials="include":a.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function i(a){if(a.ep)return;a.ep=!0;const p=n(a);fetch(a.href,p)}};fn();function j(){}const Ve=e=>e;function Ct(e){return e()}function bt(){return Object.create(null)}function ee(e){e.forEach(Ct)}function xe(e){return typeof e=="function"}function te(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let ge;function We(e,t){return ge||(ge=document.createElement("a")),ge.href=t,e===ge.href}function pn(e){return Object.keys(e).length===0}function dn(e,...t){if(e==null)return j;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function $t(e){let t;return dn(e,n=>t=n)(),t}const Ut=typeof window!="undefined";let Rt=Ut?()=>window.performance.now():()=>Date.now(),He=Ut?e=>requestAnimationFrame(e):j;const J=new Set;function Wt(e){J.forEach(t=>{t.c(e)||(J.delete(t),t.f())}),J.size!==0&&He(Wt)}function Ot(e){let t;return J.size===0&&He(Wt),{promise:new Promise(n=>{J.add(t={c:e,f:n})}),abort(){J.delete(t)}}}function b(e,t){e.appendChild(t)}function Ft(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function mn(e){const t=E("style");return vn(Ft(e),t),t.sheet}function vn(e,t){return b(e.head||e,t),t.sheet}function M(e,t,n){e.insertBefore(t,n||null)}function A(e){e.parentNode.removeChild(e)}function yn(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function E(e){return document.createElement(e)}function V(e){return document.createTextNode(e)}function C(){return V(" ")}function Nt(){return V("")}function de(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function g(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function hn(e){return Array.from(e.childNodes)}function ie(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Bt(e,t,{bubbles:n=!1,cancelable:i=!1}={}){const a=document.createEvent("CustomEvent");return a.initCustomEvent(e,n,i,t),a}const Pe=new Map;let Le=0;function gn(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function wn(e,t){const n={stylesheet:mn(t),rules:{}};return Pe.set(e,n),n}function Vt(e,t,n,i,a,p,c,m=0){const d=16.666/i;let v=`{
`;for(let y=0;y<=1;y+=d){const T=t+(n-t)*p(y);v+=y*100+`%{${c(T,1-T)}}
`}const u=v+`100% {${c(n,1-n)}}
}`,f=`__svelte_${gn(u)}_${m}`,r=Ft(e),{stylesheet:o,rules:s}=Pe.get(r)||wn(r,e);s[f]||(s[f]=!0,o.insertRule(`@keyframes ${f} ${u}`,o.cssRules.length));const l=e.style.animation||"";return e.style.animation=`${l?`${l}, `:""}${f} ${i}ms linear ${a}ms 1 both`,Le+=1,f}function Oe(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?p=>p.indexOf(t)<0:p=>p.indexOf("__svelte")===-1),a=n.length-i.length;a&&(e.style.animation=i.join(", "),Le-=a,Le||_n())}function _n(){He(()=>{Le||(Pe.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&A(t)}),Pe.clear())})}let ue;function le(e){ue=e}function me(){if(!ue)throw new Error("Function called outside component initialization");return ue}function Xe(e){me().$$.on_mount.push(e)}function xt(e){me().$$.on_destroy.push(e)}function Ht(){const e=me();return(t,n,{cancelable:i=!1}={})=>{const a=e.$$.callbacks[t];if(a){const p=Bt(t,n,{cancelable:i});return a.slice().forEach(c=>{c.call(e,p)}),!p.defaultPrevented}return!0}}function bn(e,t){return me().$$.context.set(e,t),t}function Tn(e){return me().$$.context.get(e)}const ae=[],Q=[],De=[],Tt=[],Xt=Promise.resolve();let Fe=!1;function Yt(){Fe||(Fe=!0,Xt.then(Gt))}function kn(){return Yt(),Xt}function X(e){De.push(e)}const Ce=new Set;let we=0;function Gt(){const e=ue;do{for(;we<ae.length;){const t=ae[we];we++,le(t),Dn(t.$$)}for(le(null),ae.length=0,we=0;Q.length;)Q.pop()();for(let t=0;t<De.length;t+=1){const n=De[t];Ce.has(n)||(Ce.add(n),n())}De.length=0}while(ae.length);for(;Tt.length;)Tt.pop()();Fe=!1,Ce.clear(),le(e)}function Dn(e){if(e.fragment!==null){e.update(),ee(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(X)}}let re;function zt(){return re||(re=Promise.resolve(),re.then(()=>{re=null})),re}function qe(e,t,n){e.dispatchEvent(Bt(`${t?"intro":"outro"}${n}`))}const Ee=new Set;let H;function En(){H={r:0,c:[],p:H}}function Pn(){H.r||ee(H.c),H=H.p}function Y(e,t){e&&e.i&&(Ee.delete(e),e.i(t))}function Z(e,t,n,i){if(e&&e.o){if(Ee.has(e))return;Ee.add(e),H.c.push(()=>{Ee.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}const Jt={duration:0};function Kt(e,t,n){let i=t(e,n),a=!1,p,c,m=0;function d(){p&&Oe(e,p)}function v(){const{delay:f=0,duration:r=300,easing:o=Ve,tick:s=j,css:l}=i||Jt;l&&(p=Vt(e,0,1,r,f,o,l,m++)),s(0,1);const y=Rt()+f,T=y+r;c&&c.abort(),a=!0,X(()=>qe(e,!0,"start")),c=Ot(h=>{if(a){if(h>=T)return s(1,0),qe(e,!0,"end"),d(),a=!1;if(h>=y){const w=o((h-y)/r);s(w,1-w)}}return a})}let u=!1;return{start(){u||(u=!0,Oe(e),xe(i)?(i=i(),zt().then(v)):v())},invalidate(){u=!1},end(){a&&(d(),a=!1)}}}function Qt(e,t,n){let i=t(e,n),a=!0,p;const c=H;c.r+=1;function m(){const{delay:d=0,duration:v=300,easing:u=Ve,tick:f=j,css:r}=i||Jt;r&&(p=Vt(e,1,0,v,d,u,r));const o=Rt()+d,s=o+v;X(()=>qe(e,!1,"start")),Ot(l=>{if(a){if(l>=s)return f(0,1),qe(e,!1,"end"),--c.r||ee(c.c),!1;if(l>=o){const y=u((l-o)/v);f(1-y,y)}}return a})}return xe(i)?zt().then(()=>{i=i(),m()}):m(),{end(d){d&&i.tick&&i.tick(1,0),a&&(p&&Oe(e,p),a=!1)}}}function Se(e){e&&e.c()}function ce(e,t,n,i){const{fragment:a,on_mount:p,on_destroy:c,after_update:m}=e.$$;a&&a.m(t,n),i||X(()=>{const d=p.map(Ct).filter(xe);c?c.push(...d):ee(d),e.$$.on_mount=[]}),m.forEach(X)}function fe(e,t){const n=e.$$;n.fragment!==null&&(ee(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ln(e,t){e.$$.dirty[0]===-1&&(ae.push(e),Yt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ve(e,t,n,i,a,p,c,m=[-1]){const d=ue;le(e);const v=e.$$={fragment:null,ctx:null,props:p,update:j,not_equal:a,bound:bt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:bt(),dirty:m,skip_bound:!1,root:t.target||d.$$.root};c&&c(v.root);let u=!1;if(v.ctx=n?n(e,t.props||{},(f,r,...o)=>{const s=o.length?o[0]:r;return v.ctx&&a(v.ctx[f],v.ctx[f]=s)&&(!v.skip_bound&&v.bound[f]&&v.bound[f](s),u&&Ln(e,f)),r}):[],v.update(),u=!0,ee(v.before_update),v.fragment=i?i(v.ctx):!1,t.target){if(t.hydrate){const f=hn(t.target);v.fragment&&v.fragment.l(f),f.forEach(A)}else v.fragment&&v.fragment.c();t.intro&&Y(e.$$.fragment),ce(e,t.target,t.anchor,t.customElement),Gt()}le(d)}class ye{$destroy(){fe(this,1),this.$destroy=j}$on(t,n){const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const a=i.indexOf(n);a!==-1&&i.splice(a,1)}}$set(t){this.$$set&&!pn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}try{self["workbox:window:6.5.3"]&&_()}catch{}function kt(e,t){return new Promise(function(n){var i=new MessageChannel;i.port1.onmessage=function(a){n(a.data)},e.postMessage(t,[i.port2])})}function qn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Dt(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Sn(e,t){var n;if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=function(a,p){if(a){if(typeof a=="string")return Dt(a,p);var c=Object.prototype.toString.call(a).slice(8,-1);return c==="Object"&&a.constructor&&(c=a.constructor.name),c==="Map"||c==="Set"?Array.from(a):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Dt(a,p):void 0}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=e[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.3"]&&_()}catch{}var $e=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})};function Ue(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}var oe=function(e,t){this.type=e,Object.assign(this,t)};function _e(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function An(){}var Mn={type:"SKIP_WAITING"};function Et(e,t){if(!t)return e&&e.then?e.then(An):Promise.resolve()}var jn=function(e){var t,n;function i(m,d){var v,u;return d===void 0&&(d={}),(v=e.call(this)||this).nn={},v.tn=0,v.rn=new $e,v.en=new $e,v.on=new $e,v.un=0,v.an=new Set,v.cn=function(){var f=v.fn,r=f.installing;v.tn>0||!Ue(r.scriptURL,v.sn.toString())||performance.now()>v.un+6e4?(v.vn=r,f.removeEventListener("updatefound",v.cn)):(v.hn=r,v.an.add(r),v.rn.resolve(r)),++v.tn,r.addEventListener("statechange",v.ln)},v.ln=function(f){var r=v.fn,o=f.target,s=o.state,l=o===v.vn,y={sw:o,isExternal:l,originalEvent:f};!l&&v.mn&&(y.isUpdate=!0),v.dispatchEvent(new oe(s,y)),s==="installed"?v.wn=self.setTimeout(function(){s==="installed"&&r.waiting===o&&v.dispatchEvent(new oe("waiting",y))},200):s==="activating"&&(clearTimeout(v.wn),l||v.en.resolve(o))},v.dn=function(f){var r=v.hn,o=r!==navigator.serviceWorker.controller;v.dispatchEvent(new oe("controlling",{isExternal:o,originalEvent:f,sw:r,isUpdate:v.mn})),o||v.on.resolve(r)},v.gn=(u=function(f){var r=f.data,o=f.ports,s=f.source;return _e(v.getSW(),function(){v.an.has(s)&&v.dispatchEvent(new oe("message",{data:r,originalEvent:f,ports:o,sw:s}))})},function(){for(var f=[],r=0;r<arguments.length;r++)f[r]=arguments[r];try{return Promise.resolve(u.apply(this,f))}catch(o){return Promise.reject(o)}}),v.sn=m,v.nn=d,navigator.serviceWorker.addEventListener("message",v.gn),v}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,p,c=i.prototype;return c.register=function(m){var d=(m===void 0?{}:m).immediate,v=d!==void 0&&d;try{var u=this;return function(f,r){var o=f();return o&&o.then?o.then(r):r(o)}(function(){if(!v&&document.readyState!=="complete")return Et(new Promise(function(f){return window.addEventListener("load",f)}))},function(){return u.mn=Boolean(navigator.serviceWorker.controller),u.yn=u.pn(),_e(u.bn(),function(f){u.fn=f,u.yn&&(u.hn=u.yn,u.en.resolve(u.yn),u.on.resolve(u.yn),u.yn.addEventListener("statechange",u.ln,{once:!0}));var r=u.fn.waiting;return r&&Ue(r.scriptURL,u.sn.toString())&&(u.hn=r,Promise.resolve().then(function(){u.dispatchEvent(new oe("waiting",{sw:r,wasWaitingBeforeRegister:!0}))}).then(function(){})),u.hn&&(u.rn.resolve(u.hn),u.an.add(u.hn)),u.fn.addEventListener("updatefound",u.cn),navigator.serviceWorker.addEventListener("controllerchange",u.dn),u.fn})})}catch(f){return Promise.reject(f)}},c.update=function(){try{return this.fn?Et(this.fn.update()):void 0}catch(m){return Promise.reject(m)}},c.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},c.messageSW=function(m){try{return _e(this.getSW(),function(d){return kt(d,m)})}catch(d){return Promise.reject(d)}},c.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&kt(this.fn.waiting,Mn)},c.pn=function(){var m=navigator.serviceWorker.controller;return m&&Ue(m.scriptURL,this.sn.toString())?m:void 0},c.bn=function(){try{var m=this;return function(d,v){try{var u=d()}catch(f){return v(f)}return u&&u.then?u.then(void 0,v):u}(function(){return _e(navigator.serviceWorker.register(m.sn,m.nn),function(d){return m.un=performance.now(),d})},function(d){throw d})}catch(d){return Promise.reject(d)}},a=i,(p=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&qn(a.prototype,p),i}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(n,i){this.Sn(n).add(i)},t.removeEventListener=function(n,i){this.Sn(n).delete(i)},t.dispatchEvent=function(n){n.target=this;for(var i,a=Sn(this.Sn(n.type));!(i=a()).done;)(0,i.value)(n)},t.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},e}());function In(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:a,onRegisterError:p}=e;let c;const m=async(d=!0)=>{};return"serviceWorker"in navigator&&(c=new jn("/sw.js",{scope:"/",type:"classic"}),c.addEventListener("activated",d=>{d.isUpdate?window.location.reload():i==null||i()}),c.register({immediate:t}).then(d=>{a==null||a(d)}).catch(d=>{p==null||p(d)})),m}/*! js-cookie v3.0.1 | MIT */function be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}var Cn={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Ne(e,t){function n(a,p,c){if(typeof document!="undefined"){c=be({},t,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var m="";for(var d in c)!c[d]||(m+="; "+d,c[d]!==!0&&(m+="="+c[d].split(";")[0]));return document.cookie=a+"="+e.write(p,a)+m}}function i(a){if(!(typeof document=="undefined"||arguments.length&&!a)){for(var p=document.cookie?document.cookie.split("; "):[],c={},m=0;m<p.length;m++){var d=p[m].split("="),v=d.slice(1).join("=");try{var u=decodeURIComponent(d[0]);if(c[u]=e.read(v,u),a===u)break}catch{}}return a?c[a]:c}}return Object.create({set:n,get:i,remove:function(a,p){n(a,"",be({},p,{expires:-1}))},withAttributes:function(a){return Ne(this.converter,be({},this.attributes,a))},withConverter:function(a){return Ne(be({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var O=Ne(Cn,{path:"/"});function $n(){{const e=new URLSearchParams(window.location.hash.substring(1));if(e.has("access_token")&&e.has("expires_in")&&(O.set("token",e.get("access_token"),{sameSite:"Strict"}),O.set("expires_at",(Date.now()+parseInt(e.get("expires_in"))*1e3).toString(),{sameSite:"Strict"}),window.history.replaceState({},document.title,"/")),O.get("token")&&O.get("expires_at")&&O.get("expires_at")>Date.now().toString())return{token:O.get("token"),expiresAt:parseInt(O.get("expires_at"))}}}const z=[];function Zt(e,t=j){let n;const i=new Set;function a(m){if(te(e,m)&&(e=m,n)){const d=!z.length;for(const v of i)v[1](),z.push(v,e);if(d){for(let v=0;v<z.length;v+=2)z[v][0](z[v+1]);z.length=0}}}function p(m){a(m(e))}function c(m,d=j){const v=[m,d];return i.add(v),i.size===1&&(n=t(a)||j),m(e),()=>{i.delete(v),i.size===0&&(n(),n=null)}}return{set:a,update:p,subscribe:c}}function Ae(e,{delay:t=0,duration:n=400,easing:i=Ve}={}){const a=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:i,css:p=>`opacity: ${p*a}`}}var en={exports:{}};(function(e){var t=function(){var n="https://api.spotify.com/v1",i=null,a=null,p=function(r,o){return r.abort=o,r},c=function(r,o){var s;if(a!==null){var l=a.defer();r(function(y){l.resolve(y)},function(y){l.reject(y)}),s=l.promise}else window.Promise&&(s=new window.Promise(r));return s?new p(s,o):null},m=function(){var r=Array.prototype.slice.call(arguments),o=r[0],s=r.slice(1);return o=o||{},s.forEach(function(l){for(var y in l)l.hasOwnProperty(y)&&(o[y]=l[y])}),o},d=function(r,o){var s="";for(var l in o)if(o.hasOwnProperty(l)){var y=o[l];s+=encodeURIComponent(l)+"="+encodeURIComponent(y)+"&"}return s.length>0&&(s=s.substring(0,s.length-1),r=r+"?"+s),r},v=function(r,o){var s=new XMLHttpRequest,l=function(y,T){function h(L){y&&y(L),o&&o(null,L)}function w(){T&&T(s),o&&o(s,null)}var k=r.type||"GET";if(s.open(k,d(r.url,r.params)),i&&s.setRequestHeader("Authorization","Bearer "+i),s.onreadystatechange=function(){if(s.readyState===4){var L=null;try{L=s.responseText?JSON.parse(s.responseText):""}catch(S){console.error(S)}s.status>=200&&s.status<300?h(L):w()}},k==="GET")s.send(null);else{var P=null;r.postData&&(r.contentType==="image/jpeg"?(P=r.postData,s.setRequestHeader("Content-Type",r.contentType)):(P=JSON.stringify(r.postData),s.setRequestHeader("Content-Type","application/json"))),s.send(P)}};return o?(l(),null):c(l,function(){s.abort()})},u=function(r,o,s,l){var y={},T=null;typeof o=="object"?(y=o,T=s):typeof o=="function"&&(T=o);var h=r.type||"GET";return h!=="GET"&&r.postData&&!l?r.postData=m(r.postData,y):r.params=m(r.params,y),v(r,T)},f=function(){};return f.prototype={constructor:t},f.prototype.getGeneric=function(r,o){var s={url:r};return u(s,o)},f.prototype.getMe=function(r,o){var s={url:n+"/me"};return u(s,r,o)},f.prototype.getMySavedTracks=function(r,o){var s={url:n+"/me/tracks"};return u(s,r,o)},f.prototype.addToMySavedTracks=function(r,o,s){var l={url:n+"/me/tracks",type:"PUT",postData:r};return u(l,o,s)},f.prototype.removeFromMySavedTracks=function(r,o,s){var l={url:n+"/me/tracks",type:"DELETE",postData:r};return u(l,o,s)},f.prototype.containsMySavedTracks=function(r,o,s){var l={url:n+"/me/tracks/contains",params:{ids:r.join(",")}};return u(l,o,s)},f.prototype.getMySavedAlbums=function(r,o){var s={url:n+"/me/albums"};return u(s,r,o)},f.prototype.addToMySavedAlbums=function(r,o,s){var l={url:n+"/me/albums",type:"PUT",postData:r};return u(l,o,s)},f.prototype.removeFromMySavedAlbums=function(r,o,s){var l={url:n+"/me/albums",type:"DELETE",postData:r};return u(l,o,s)},f.prototype.containsMySavedAlbums=function(r,o,s){var l={url:n+"/me/albums/contains",params:{ids:r.join(",")}};return u(l,o,s)},f.prototype.getMyTopArtists=function(r,o){var s={url:n+"/me/top/artists"};return u(s,r,o)},f.prototype.getMyTopTracks=function(r,o){var s={url:n+"/me/top/tracks"};return u(s,r,o)},f.prototype.getMyRecentlyPlayedTracks=function(r,o){var s={url:n+"/me/player/recently-played"};return u(s,r,o)},f.prototype.followUsers=function(r,o){var s={url:n+"/me/following/",type:"PUT",params:{ids:r.join(","),type:"user"}};return u(s,o)},f.prototype.followArtists=function(r,o){var s={url:n+"/me/following/",type:"PUT",params:{ids:r.join(","),type:"artist"}};return u(s,o)},f.prototype.followPlaylist=function(r,o,s){var l={url:n+"/playlists/"+r+"/followers",type:"PUT",postData:{}};return u(l,o,s)},f.prototype.unfollowUsers=function(r,o){var s={url:n+"/me/following/",type:"DELETE",params:{ids:r.join(","),type:"user"}};return u(s,o)},f.prototype.unfollowArtists=function(r,o){var s={url:n+"/me/following/",type:"DELETE",params:{ids:r.join(","),type:"artist"}};return u(s,o)},f.prototype.unfollowPlaylist=function(r,o){var s={url:n+"/playlists/"+r+"/followers",type:"DELETE"};return u(s,o)},f.prototype.isFollowingUsers=function(r,o){var s={url:n+"/me/following/contains",type:"GET",params:{ids:r.join(","),type:"user"}};return u(s,o)},f.prototype.isFollowingArtists=function(r,o){var s={url:n+"/me/following/contains",type:"GET",params:{ids:r.join(","),type:"artist"}};return u(s,o)},f.prototype.areFollowingPlaylist=function(r,o,s){var l={url:n+"/playlists/"+r+"/followers/contains",type:"GET",params:{ids:o.join(",")}};return u(l,s)},f.prototype.getFollowedArtists=function(r,o){var s={url:n+"/me/following",type:"GET",params:{type:"artist"}};return u(s,r,o)},f.prototype.getUser=function(r,o,s){var l={url:n+"/users/"+encodeURIComponent(r)};return u(l,o,s)},f.prototype.getUserPlaylists=function(r,o,s){var l;return typeof r=="string"?l={url:n+"/users/"+encodeURIComponent(r)+"/playlists"}:(l={url:n+"/me/playlists"},s=o,o=r),u(l,o,s)},f.prototype.getPlaylist=function(r,o,s){var l={url:n+"/playlists/"+r};return u(l,o,s)},f.prototype.getPlaylistTracks=function(r,o,s){var l={url:n+"/playlists/"+r+"/tracks"};return u(l,o,s)},f.prototype.getPlaylistCoverImage=function(r,o){var s={url:n+"/playlists/"+r+"/images"};return u(s,o)},f.prototype.createPlaylist=function(r,o,s){var l={url:n+"/users/"+encodeURIComponent(r)+"/playlists",type:"POST",postData:o};return u(l,o,s)},f.prototype.changePlaylistDetails=function(r,o,s){var l={url:n+"/playlists/"+r,type:"PUT",postData:o};return u(l,o,s)},f.prototype.addTracksToPlaylist=function(r,o,s,l){var y={url:n+"/playlists/"+r+"/tracks",type:"POST",postData:{uris:o}};return u(y,s,l,!0)},f.prototype.replaceTracksInPlaylist=function(r,o,s){var l={url:n+"/playlists/"+r+"/tracks",type:"PUT",postData:{uris:o}};return u(l,{},s)},f.prototype.reorderTracksInPlaylist=function(r,o,s,l,y){var T={url:n+"/playlists/"+r+"/tracks",type:"PUT",postData:{range_start:o,insert_before:s}};return u(T,l,y)},f.prototype.removeTracksFromPlaylist=function(r,o,s){var l=o.map(function(T){return typeof T=="string"?{uri:T}:T}),y={url:n+"/playlists/"+r+"/tracks",type:"DELETE",postData:{tracks:l}};return u(y,{},s)},f.prototype.removeTracksFromPlaylistWithSnapshotId=function(r,o,s,l){var y=o.map(function(h){return typeof h=="string"?{uri:h}:h}),T={url:n+"/playlists/"+r+"/tracks",type:"DELETE",postData:{tracks:y,snapshot_id:s}};return u(T,{},l)},f.prototype.removeTracksFromPlaylistInPositions=function(r,o,s,l){var y={url:n+"/playlists/"+r+"/tracks",type:"DELETE",postData:{positions:o,snapshot_id:s}};return u(y,{},l)},f.prototype.uploadCustomPlaylistCoverImage=function(r,o,s){var l={url:n+"/playlists/"+r+"/images",type:"PUT",postData:o.replace(/^data:image\/jpeg;base64,/,""),contentType:"image/jpeg"};return u(l,{},s)},f.prototype.getAlbum=function(r,o,s){var l={url:n+"/albums/"+r};return u(l,o,s)},f.prototype.getAlbumTracks=function(r,o,s){var l={url:n+"/albums/"+r+"/tracks"};return u(l,o,s)},f.prototype.getAlbums=function(r,o,s){var l={url:n+"/albums/",params:{ids:r.join(",")}};return u(l,o,s)},f.prototype.getTrack=function(r,o,s){var l={};return l.url=n+"/tracks/"+r,u(l,o,s)},f.prototype.getTracks=function(r,o,s){var l={url:n+"/tracks/",params:{ids:r.join(",")}};return u(l,o,s)},f.prototype.getArtist=function(r,o,s){var l={url:n+"/artists/"+r};return u(l,o,s)},f.prototype.getArtists=function(r,o,s){var l={url:n+"/artists/",params:{ids:r.join(",")}};return u(l,o,s)},f.prototype.getArtistAlbums=function(r,o,s){var l={url:n+"/artists/"+r+"/albums"};return u(l,o,s)},f.prototype.getArtistTopTracks=function(r,o,s,l){var y={url:n+"/artists/"+r+"/top-tracks",params:{country:o}};return u(y,s,l)},f.prototype.getArtistRelatedArtists=function(r,o,s){var l={url:n+"/artists/"+r+"/related-artists"};return u(l,o,s)},f.prototype.getFeaturedPlaylists=function(r,o){var s={url:n+"/browse/featured-playlists"};return u(s,r,o)},f.prototype.getNewReleases=function(r,o){var s={url:n+"/browse/new-releases"};return u(s,r,o)},f.prototype.getCategories=function(r,o){var s={url:n+"/browse/categories"};return u(s,r,o)},f.prototype.getCategory=function(r,o,s){var l={url:n+"/browse/categories/"+r};return u(l,o,s)},f.prototype.getCategoryPlaylists=function(r,o,s){var l={url:n+"/browse/categories/"+r+"/playlists"};return u(l,o,s)},f.prototype.search=function(r,o,s,l){var y={url:n+"/search/",params:{q:r,type:o.join(",")}};return u(y,s,l)},f.prototype.searchAlbums=function(r,o,s){return this.search(r,["album"],o,s)},f.prototype.searchArtists=function(r,o,s){return this.search(r,["artist"],o,s)},f.prototype.searchTracks=function(r,o,s){return this.search(r,["track"],o,s)},f.prototype.searchPlaylists=function(r,o,s){return this.search(r,["playlist"],o,s)},f.prototype.searchShows=function(r,o,s){return this.search(r,["show"],o,s)},f.prototype.searchEpisodes=function(r,o,s){return this.search(r,["episode"],o,s)},f.prototype.getAudioFeaturesForTrack=function(r,o){var s={};return s.url=n+"/audio-features/"+r,u(s,{},o)},f.prototype.getAudioFeaturesForTracks=function(r,o){var s={url:n+"/audio-features",params:{ids:r}};return u(s,{},o)},f.prototype.getAudioAnalysisForTrack=function(r,o){var s={};return s.url=n+"/audio-analysis/"+r,u(s,{},o)},f.prototype.getRecommendations=function(r,o){var s={url:n+"/recommendations"};return u(s,r,o)},f.prototype.getAvailableGenreSeeds=function(r){var o={url:n+"/recommendations/available-genre-seeds"};return u(o,{},r)},f.prototype.getMyDevices=function(r){var o={url:n+"/me/player/devices"};return u(o,{},r)},f.prototype.getMyCurrentPlaybackState=function(r,o){var s={url:n+"/me/player"};return u(s,r,o)},f.prototype.getMyCurrentPlayingTrack=function(r,o){var s={url:n+"/me/player/currently-playing"};return u(s,r,o)},f.prototype.transferMyPlayback=function(r,o,s){var l=o||{};l.device_ids=r;var y={type:"PUT",url:n+"/me/player",postData:l};return u(y,o,s)},f.prototype.play=function(r,o){r=r||{};var s="device_id"in r?{device_id:r.device_id}:null,l={};["context_uri","uris","offset","position_ms"].forEach(function(h){h in r&&(l[h]=r[h])});var y={type:"PUT",url:n+"/me/player/play",params:s,postData:l},T=typeof r=="function"?r:{};return u(y,T,o)},f.prototype.queue=function(r,o,s){o=o||{};var l="device_id"in o?{uri:r,device_id:o.device_id}:{uri:r},y={type:"POST",url:n+"/me/player/queue",params:l};return u(y,o,s)},f.prototype.pause=function(r,o){r=r||{};var s="device_id"in r?{device_id:r.device_id}:null,l={type:"PUT",url:n+"/me/player/pause",params:s};return u(l,r,o)},f.prototype.skipToNext=function(r,o){r=r||{};var s="device_id"in r?{device_id:r.device_id}:null,l={type:"POST",url:n+"/me/player/next",params:s};return u(l,r,o)},f.prototype.skipToPrevious=function(r,o){r=r||{};var s="device_id"in r?{device_id:r.device_id}:null,l={type:"POST",url:n+"/me/player/previous",params:s};return u(l,r,o)},f.prototype.seek=function(r,o,s){o=o||{};var l={position_ms:r};"device_id"in o&&(l.device_id=o.device_id);var y={type:"PUT",url:n+"/me/player/seek",params:l};return u(y,o,s)},f.prototype.setRepeat=function(r,o,s){o=o||{};var l={state:r};"device_id"in o&&(l.device_id=o.device_id);var y={type:"PUT",url:n+"/me/player/repeat",params:l};return u(y,o,s)},f.prototype.setVolume=function(r,o,s){o=o||{};var l={volume_percent:r};"device_id"in o&&(l.device_id=o.device_id);var y={type:"PUT",url:n+"/me/player/volume",params:l};return u(y,o,s)},f.prototype.setShuffle=function(r,o,s){o=o||{};var l={state:r};"device_id"in o&&(l.device_id=o.device_id);var y={type:"PUT",url:n+"/me/player/shuffle",params:l};return u(y,o,s)},f.prototype.getShow=function(r,o,s){var l={};return l.url=n+"/shows/"+r,u(l,o,s)},f.prototype.getShows=function(r,o,s){var l={url:n+"/shows/",params:{ids:r.join(",")}};return u(l,o,s)},f.prototype.getMySavedShows=function(r,o){var s={url:n+"/me/shows"};return u(s,r,o)},f.prototype.addToMySavedShows=function(r,o,s){var l={url:n+"/me/shows",type:"PUT",postData:r};return u(l,o,s)},f.prototype.removeFromMySavedShows=function(r,o,s){var l={url:n+"/me/shows",type:"DELETE",postData:r};return u(l,o,s)},f.prototype.containsMySavedShows=function(r,o,s){var l={url:n+"/me/shows/contains",params:{ids:r.join(",")}};return u(l,o,s)},f.prototype.getShowEpisodes=function(r,o,s){var l={url:n+"/shows/"+r+"/episodes"};return u(l,o,s)},f.prototype.getEpisode=function(r,o,s){var l={};return l.url=n+"/episodes/"+r,u(l,o,s)},f.prototype.getEpisodes=function(r,o,s){var l={url:n+"/episodes/",params:{ids:r.join(",")}};return u(l,o,s)},f.prototype.getAccessToken=function(){return i},f.prototype.setAccessToken=function(r){i=r},f.prototype.setPromiseImplementation=function(r){var o=!1;try{var s=new r(function(l){l()});typeof s.then=="function"&&typeof s.catch=="function"&&(o=!0)}catch(l){console.error(l)}if(o)a=r;else throw new Error("Unsupported implementation of Promises/A+")},f}();e.exports=t})(en);var Un=en.exports,pe="/assets/llfs.b089f5f9.svg",Rn="/assets/fullscreen.91da601f.svg",Wn="/assets/close_fullscreen.7d3d3ee4.svg";function Ye(e){var n,i;const t=Date.now()-((n=e==null?void 0:e.timestamp)!=null?n:Date.now());return((i=e==null?void 0:e.progress_ms)!=null?i:0)+(e!=null&&e.is_playing?t:0)}function On(e){var t;return Ye(e)-((t=e==null?void 0:e.item)==null?void 0:t.duration_ms)}function Fn(e,t,n){e.progress_ms=n,t.set(e)}let se;async function Nn(e){if(localStorage){const t=JSON.parse(localStorage.getItem(e));if(t!=null)return t}return Bn(e)}async function Bn(e){try{se&&await se,se=fetch("https://cors-anywhere.herokuapp.com/https://spotify-lyric-api.herokuapp.com/?"+new URLSearchParams({trackid:e}).toString(),{mode:"cors"});const t=await se;if(se=void 0,!t.ok)return console.error(t),t.status===403?403:null;const n=await t.json();if(n.error)return null;if(n.syncType!=="LINE_SYNCED"&&n.syncType!=="UNSYNCED")return console.warn("Unhandled syncType: "+n.syncType),console.debug(n),null;const i=(await n.lines).map((a,p,c)=>{const m={words:a.words.trim(),startTimeMs:parseInt(a.startTimeMs),endTimeMs:parseInt(a.endTimeMs),syllables:a.syllables};return m.endTimeMs<m.startTimeMs&&(m.endTimeMs=p<c.length-1?parseInt(c[p+1].startTimeMs):0),m}).sort((a,p)=>a.startTimeMs-p.startTimeMs).filter(a=>a.words.length>0);return localStorage&&n.syncType==="LINE_SYNCED"&&localStorage.setItem(e,JSON.stringify(i)),i}catch(t){return console.log(t),null}}const tn=e=>e===void 0||e==="auto"||e==="instant"||e==="smooth";function Vn(e,t){this.scrollLeft=e,this.scrollTop=t}const nn=(e,t,n="cannot convert to dictionary.")=>`Failed to execute '${e}' on '${t}': ${n}`,rn=(e,t,n)=>nn(e,t,`The provided value '${n}' is not a valid enum value of type ScrollBehavior.`),Me=(e,t,n)=>{var i;const a=`__SEAMLESS.BACKUP$${t}`;return!e[a]&&e[t]&&!(!((i=e[t])===null||i===void 0)&&i.__isPolyfill)&&(e[a]=e[t]),e[a]||n},on=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")},xn=e=>"scrollBehavior"in window.document.documentElement.style&&(e==null?void 0:e.forcePolyfill)!==!0,Hn=e=>{Object.defineProperty(e,"__isPolyfill",{value:!0})},Xn=(e,t)=>{Hn(t),[HTMLElement.prototype,SVGElement.prototype,Element.prototype].forEach(n=>{Me(n,e),n[e]=t})},Ge=e=>e.ownerDocument.scrollingElement||e.ownerDocument.documentElement,Yn=e=>.5*(1-Math.cos(Math.PI*e));function ze(){var e;let t;return!((e=window.performance)===null||e===void 0)&&e.now?t=()=>window.performance.now():t=()=>window.Date.now(),ze=t,t()}const Gn=500,sn=e=>{const n=(ze()-e.timeStamp)/(e.duration||Gn);if(n>1){e.method(e.targetX,e.targetY),e.callback();return}const i=(e.timingFunc||Yn)(n),a=e.startX+(e.targetX-e.startX)*i,p=e.startY+(e.targetY-e.startY)*i;e.method(a,p),e.rafId=window.requestAnimationFrame(()=>{sn(e)})},je=e=>isFinite(e)?Number(e):0,zn=e=>{var t;return(t=e.isConnected)!==null&&t!==void 0?t:!e.ownerDocument||!(e.ownerDocument.compareDocumentPosition(e)&1)},Jn=(e,t,n)=>{var i,a;if(!zn(e))return;const p=e.scrollLeft,c=e.scrollTop,m=je((i=t.left)!==null&&i!==void 0?i:p),d=je((a=t.top)!==null&&a!==void 0?a:c);if(m===p&&d===c)return;const v=Me(HTMLElement.prototype,"scroll",Vn),u=Me(Object.getPrototypeOf(e),"scroll",v).bind(e);if(t.behavior!=="smooth"){u(m,d);return}const f=()=>{window.removeEventListener("wheel",o),window.removeEventListener("touchmove",o)},r=Object.assign(Object.assign({},n),{timeStamp:ze(),startX:p,startY:c,targetX:m,targetY:d,rafId:0,method:u,callback:f}),o=()=>{window.cancelAnimationFrame(r.rafId),f()};window.addEventListener("wheel",o,{passive:!0,once:!0}),window.addEventListener("touchmove",o,{passive:!0,once:!0}),sn(r)},Kn=e=>e.window===e,Qn=e=>(t,n,i)=>{const[a,p]=Kn(t)?[Ge(t.document.documentElement),"Window"]:[t,"Element"],c=n!=null?n:{};if(!on(c))throw new TypeError(nn(e,p));if(!tn(c.behavior))throw new TypeError(rn(e,p,c.behavior));e==="scrollBy"&&(c.left=je(c.left)+a.scrollLeft,c.top=je(c.top)+a.scrollTop),Jn(a,c,i)},Zn=Qn("scroll"),er=Zn,an=e=>{switch(e){case"horizontal-tb":case"lr":case"lr-tb":case"rl":case"rl-tb":return 0;case"vertical-rl":case"tb":case"tb-rl":return 1;case"vertical-lr":case"tb-lr":return 2;case"sideways-rl":return 3;case"sideways-lr":return 4}return 0},ln=(e,t,n,i)=>{let a=0;switch(t||(a^=2),e){case 0:a=a>>1|(a&1)<<1,[n,i]=[i,n];break;case 1:case 3:a^=1;break;case 4:a^=2;break}return[a,n,i]},tr=e=>(ln(an(e.writingMode),e.direction!=="rtl",void 0,void 0)[0]&1)===1,nr=(e,t,n)=>{const[i,a,p]=ln(t,n,e.block||"start",e.inline||"nearest");return[a,p].map((c,m)=>{switch(c){case"center":return 1;case"nearest":return 0;default:{const d=i>>m&1;return c==="start"==!d?2:3}}})},Pt=(e,t,n,i,a,p,c)=>e!==0?e:a<t&&p>n||a>t&&p<n?null:a<=t&&c<=i||p>=n&&c>=i?2:p>n&&c<i||a<t&&c>i?3:null,Lt=e=>e!=="visible"&&e!=="clip",rr=e=>{var t;try{return((t=e.ownerDocument.defaultView)===null||t===void 0?void 0:t.frameElement)||null}catch{return null}},or=(e,t)=>e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth?Lt(t.overflowY)||Lt(t.overflowX)||e===Ge(e):!1,qt=e=>{const t=e.parentNode,n=e.parentElement;if(n===null&&t!==null){if(t.nodeType===11)return t.host;if(t.nodeType===9)return rr(e)}return n},Re=(e,t,n)=>e<t?t:e>n?n:e,sr=e=>["scroll-margin","scroll-snap-margin"].filter(t=>t in e.documentElement.style)[0],ir=(e,t,n)=>{const{top:i,right:a,bottom:p,left:c}=t,m=sr(e.ownerDocument);if(!m)return[i,a,p,c];const d=v=>{const u=n.getPropertyValue(`${m}-${v}`);return parseInt(u,10)||0};return[i-d("top"),a+d("right"),p+d("bottom"),c-d("left")]},Te=(e,t,n)=>{switch(e){case 1:return(t+n)/2;case 3:return n;case 2:case 0:return t}},ar=(e,t)=>{var n,i,a;const p=(n=e.ownerDocument.defaultView)===null||n===void 0?void 0:n.visualViewport,[c,m,d,v]=e===Ge(e)?[0,0,(i=p==null?void 0:p.width)!==null&&i!==void 0?i:e.clientWidth,(a=p==null?void 0:p.height)!==null&&a!==void 0?a:e.clientHeight]:[t.left,t.top,e.clientWidth,e.clientHeight],u=c+e.clientLeft,f=m+e.clientTop,r=u+d,o=f+v;return[f,r,o,u]},lr=(e,t)=>{const n=[];let i=e.ownerDocument,a=i.defaultView;if(!a)return n;const p=window.getComputedStyle(e),c=p.direction!=="rtl",m=an(p.writingMode||p.getPropertyValue("-webkit-writing-mode")||p.getPropertyValue("-ms-writing-mode")),[d,v]=nr(t,m,c);let[u,f,r,o]=ir(e,e.getBoundingClientRect(),p);for(let s=qt(e);s!==null;s=qt(s)){if(i!==s.ownerDocument){if(i=s.ownerDocument,a=i.defaultView,!a)break;const{left:I,top:U}=s.getBoundingClientRect();u+=U,f+=I,r+=U,o+=I}const l=a.getComputedStyle(s);if(l.position==="fixed")break;if(!or(s,l))continue;const y=s.getBoundingClientRect(),[T,h,w,k]=ar(s,y),P=Pt(d,k,h,s.clientWidth,o,f,f-o),L=Pt(v,T,w,s.clientHeight,u,r,r-u),S=P===null?0:Te(P,o,f)-Te(P,k,h),R=L===null?0:Te(L,u,r)-Te(L,T,w),x=tr(l)?Re(S,-s.scrollWidth+s.clientWidth-s.scrollLeft,-s.scrollLeft):Re(S,-s.scrollLeft,s.scrollWidth-s.clientWidth-s.scrollLeft),D=Re(R,-s.scrollTop,s.scrollHeight-s.clientHeight-s.scrollTop);n.push([s,{left:s.scrollLeft+x,top:s.scrollTop+D,behavior:t.behavior}]),u=Math.max(u-D,T),f=Math.min(f-x,h),r=Math.min(r-D,w),o=Math.max(o-x,k)}return n},ur=(e,t,n)=>{const i=t||{};if(!tn(i.behavior))throw new TypeError(rn("scrollIntoView","Element",i.behavior));lr(e,i).forEach(([p,c])=>{er(p,c,n)})},un=ur;function cr(e){un(this,{block:e==null||e?"start":"end",inline:"nearest"})}const fr=e=>{if(xn(e))return;const t=Me(window.HTMLElement.prototype,"scrollIntoView",cr);Xn("scrollIntoView",function(){const i=arguments,a=i[0];if(i.length===1&&on(a)){un(this,a,e);return}t.apply(this,i)})};function pr(e){return e=e.filter(t=>t!=null),new Promise(t=>{const n=new IntersectionObserver(i=>{for(const a of i)n.unobserve(a.target),e.splice(e.indexOf(a.target),1),a.isIntersecting&&(n.disconnect(),t(!0));e.length===0&&t(!1)});for(const i of e)n.observe(i)})}function St(e,t,n){const i=e.slice();return i[15]=t[n],i[17]=n,i}function dr(e){let t,n=e[1],i=[];for(let a=0;a<n.length;a+=1)i[a]=At(St(e,n,a));return{c(){for(let a=0;a<i.length;a+=1)i[a].c();t=Nt()},m(a,p){for(let c=0;c<i.length;c+=1)i[c].m(a,p);M(a,t,p)},p(a,p){if(p&18){n=a[1];let c;for(c=0;c<n.length;c+=1){const m=St(a,n,c);i[c]?i[c].p(m,p):(i[c]=At(m),i[c].c(),i[c].m(t.parentNode,t))}for(;c<i.length;c+=1)i[c].d(1);i.length=n.length}},d(a){yn(i,a),a&&A(t)}}}function mr(e){let t,n,i,a,p,c,m;return{c(){t=E("span"),t.textContent="Can't access lyrics database",n=C(),i=E("a"),i.textContent="Enable access",a=C(),p=E("button"),p.textContent="Try again",g(t,"class","line svelte-pm5j2w"),g(i,"class","line svelte-pm5j2w"),g(i,"href","http://cors-anywhere.herokuapp.com/"),g(i,"rel","noreferrer noopener"),g(i,"target","_blank"),g(p,"class","line svelte-pm5j2w")},m(d,v){M(d,t,v),M(d,n,v),M(d,i,v),M(d,a,v),M(d,p,v),c||(m=de(p,"click",e[6]),c=!0)},p:j,d(d){d&&A(t),d&&A(n),d&&A(i),d&&A(a),d&&A(p),c=!1,m()}}}function vr(e){let t;return{c(){t=E("span"),t.textContent="Loading...",g(t,"class","line active svelte-pm5j2w")},m(n,i){M(n,t,i)},p:j,d(n){n&&A(t)}}}function yr(e){let t,n,i,a,p;return{c(){var c,m,d,v,u;t=E("span"),t.textContent="No live lyrics available",n=C(),i=E("a"),a=V("View on Genius instead"),g(t,"class","line svelte-pm5j2w"),g(i,"class","line svelte-pm5j2w"),g(i,"href",p="https://genius.com/"+(((d=(m=(c=e[0])==null?void 0:c.item)==null?void 0:m.artists)==null?void 0:d.map(Mt).join(" "))+" "+((u=(v=e[0])==null?void 0:v.item)==null?void 0:u.name)).replaceAll(/\s/gm,"-")+"-lyrics"),g(i,"target","_blank"),g(i,"rel","noreferrer noopener")},m(c,m){M(c,t,m),M(c,n,m),M(c,i,m),b(i,a)},p(c,m){var d,v,u,f,r;m&1&&p!==(p="https://genius.com/"+(((u=(v=(d=c[0])==null?void 0:d.item)==null?void 0:v.artists)==null?void 0:u.map(Mt).join(" "))+" "+((r=(f=c[0])==null?void 0:f.item)==null?void 0:r.name)).replaceAll(/\s/gm,"-")+"-lyrics")&&g(i,"href",p)},d(c){c&&A(t),c&&A(n),c&&A(i)}}}function hr(e){let t;return{c(){t=E("span"),t.textContent="Start playing something on Spotify to see the lyrics",g(t,"class","line svelte-pm5j2w")},m(n,i){M(n,t,i)},p:j,d(n){n&&A(t)}}}function At(e){let t,n=e[15].words+"",i,a,p;return{c(){t=E("span"),i=V(n),g(t,"class","line svelte-pm5j2w"),g(t,"id","line-"+e[17].toString())},m(c,m){M(c,t,m),b(t,i),a||(p=de(t,"click",e[4]),a=!0)},p(c,m){m&2&&n!==(n=c[15].words+"")&&ie(i,n)},d(c){c&&A(t),a=!1,p()}}}function gr(e){let t;function n(p,c){var m;return(m=p[0])!=null&&m.item?p[1]==null?yr:p[1]==""?vr:p[1]==403?mr:dr:hr}let i=n(e),a=i(e);return{c(){t=E("article"),a.c(),g(t,"id","lines-list"),g(t,"class","svelte-pm5j2w")},m(p,c){M(p,t,c),a.m(t,null),e[7](t)},p(p,[c]){i===(i=n(p))&&a?a.p(p,c):(a.d(1),a=i(p),a&&(a.c(),a.m(t,null)))},i:j,o:j,d(p){p&&A(t),a.d(),e[7](null)}}}const Mt=e=>e.name;function wr(e,t,n){fr();let i;const a=Ht();let{pbs:p}=t,c,m=null,d;async function v(h){var k,P,L;if(h===void 0)return;const w=((k=h==null?void 0:h.item)==null?void 0:k.id)!==m||(h==null?void 0:h.is_playing)&&!(c!=null&&c.is_playing)||d===403;n(0,c=h),w&&(n(1,d=""),m=(P=c==null?void 0:c.item)==null?void 0:P.id,n(1,d=await Nn((L=c==null?void 0:c.item)==null?void 0:L.id)),console.log(d)),kn().then(()=>f(w))}v($t(p)),p.subscribe(v);let u;async function f(h=!1){if(u==null&&(console.warn("linesList == null"),n(2,u=document.getElementById("lines-list")),u==null)){console.warn("linesList not found by id");return}if(d==null||d==""||d===403)return;const w=Ye(c),k=d.findIndex((S,R)=>S.startTimeMs<=w&&(S.endTimeMs<S.startTimeMs||w<S.endTimeMs)&&(R+1>=d.length||d[R+1].startTimeMs>w)),P=u.getElementsByClassName("active")[0];if(P!=null){if(parseInt(P.id.substring(5))==k)return r(k,w,d);P.classList.remove("active")}if(k==-1)return r(k,w,d);const L=document.getElementById("line-"+k);L!=null&&(L.classList.add("active"),(h||await pr([L,P]))&&L.scrollIntoView({behavior:"smooth",block:"center"})),r(k,w,d)}function r(h,w,k){var P,L;if(h<k.length-1){i!=null&&window.clearTimeout(i);const S=Math.max(((P=k[h+1])==null?void 0:P.startTimeMs)-w,((L=k[h])==null?void 0:L.endTimeMs)-w,1);i=window.setTimeout(f,S)}}function o(){if(u==null&&(n(2,u=document.getElementById("lines-list")),u==null))return;const h=u.getElementsByClassName("active")[0];h!=null&&h.scrollIntoView({behavior:"smooth",block:"center"})}function s(){document.visibilityState!=="hidden"&&o()}Xe(()=>{f(),document.addEventListener("visibilitychange",s),document.addEventListener("fullscreenchange",s),window.addEventListener("resize",s)}),xt(()=>{console.warn("Lyrics destroyed"),i!=null&&window.clearTimeout(i),document.removeEventListener("visibilitychange",s),document.removeEventListener("fullscreenchange",s),window.removeEventListener("resize",s)});function l(h){var L;const w=h.currentTarget;if(!w.id.startsWith("line-"))return;const k=parseInt(w.id.substring(5));if(!Array.isArray(d)||k<0||k>=d.length)return;const P=(L=d[k])==null?void 0:L.startTimeMs;a("skip",P)}const y=()=>{v(c)};function T(h){Q[h?"unshift":"push"](()=>{u=h,n(2,u)})}return e.$$set=h=>{"pbs"in h&&n(5,p=h.pbs)},[c,d,u,v,l,p,y,T]}class _r extends ye{constructor(t){super(),ve(this,t,wr,gr,te,{pbs:5})}}const br="wakeLock"in navigator;let K=null;function Tr(){Be(),document.addEventListener("visibilitychange",Be)}function kr(){document.removeEventListener("visibilitychange",Be),K!=null&&(K.release(),K=null)}async function Be(){br&&(K==null||K.released)&&document.visibilityState==="visible"&&(K=await navigator.wakeLock.request("screen"))}function cn(e,t,n){return Math.max(e,Math.min(t,n))}function Dr(e){let t,n,i,a,p,c,m;return{c(){t=E("div"),n=E("span"),i=C(),a=E("span"),a.innerHTML='<span class="progress svelte-pmkch5"></span>',g(n,"class","knob svelte-pmkch5"),g(a,"class","bar svelte-pmkch5"),g(t,"class","wrapper svelte-pmkch5"),g(t,"style",p=`--height:${e[1]};--width:${e[0]};--progress:${e[2]*100}%;--p:${e[2]};`)},m(d,v){M(d,t,v),b(t,n),e[6](n),b(t,i),b(t,a),e[7](a),c||(m=de(t,"mousedown",e[5]),c=!0)},p(d,[v]){v&7&&p!==(p=`--height:${d[1]};--width:${d[0]};--progress:${d[2]*100}%;--p:${d[2]};`)&&g(t,"style",p)},i:j,o:j,d(d){d&&A(t),e[6](null),e[7](null),c=!1,m()}}}function Er(e,t,n){let{width:i}=t,{height:a}=t,{progress:p}=t;const c=Ht();let m=null,d=null;function v(l){c("dragChange",r(l.clientX))}function u(l){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",u),m.classList.remove("active"),c("dragEnd",r(l.clientX))}function f(l){l.button==0&&(document.addEventListener("mousemove",v),document.addEventListener("mouseup",u),m.classList.add("active"),c("dragStart",r(l.clientX)))}function r(l){const y=d.getBoundingClientRect();return cn(0,(l-y.left)/y.width,1)}function o(l){Q[l?"unshift":"push"](()=>{m=l,n(3,m)})}function s(l){Q[l?"unshift":"push"](()=>{d=l,n(4,d)})}return e.$$set=l=>{"width"in l&&n(0,i=l.width),"height"in l&&n(1,a=l.height),"progress"in l&&n(2,p=l.progress)},[i,a,p,m,d,f,o,s]}class Pr extends ye{constructor(t){super(),ve(this,t,Er,Dr,te,{width:0,height:1,progress:2})}}function jt(e){let t,n,i;return{c(){var a;t=E("div"),n=E("aside"),g(n,"class","background-cover svelte-fsyjct"),g(n,"style",i=`--img:url("${(a=e[0])!=null?a:pe}");`),g(t,"class","background-cover svelte-fsyjct")},m(a,p){M(a,t,p),b(t,n)},p(a,p){var c;p&1&&i!==(i=`--img:url("${(c=a[0])!=null?c:pe}");`)&&g(n,"style",i)},d(a){a&&A(t)}}}function Lr(e){var Ke,Qe,Ze,et,tt,nt,rt,ot,st,it,at;let t,n,i,a,p,c,m,d,v=((Ze=(Qe=(Ke=e[1])==null?void 0:Ke.item)==null?void 0:Qe.name)!=null?Ze:"No playback")+"",u,f,r,o=((rt=(nt=(tt=(et=e[1])==null?void 0:et.item)==null?void 0:tt.artists)==null?void 0:nt.map(It).join(" & "))!=null?rt:"Live Lyrics for Spotify")+"",s,l,y,T,h,w,k,P,L,S=ke((ot=e[5])!=null?ot:0)+"",R,x,D,I,U,W=ke((at=(it=(st=e[1])==null?void 0:st.item)==null?void 0:it.duration_ms)!=null?at:0)+"",F,G,he,ne,N,Ie,Je;h=new _r({props:{pbs:e[6]}}),h.$on("skip",e[7]),D=new Pr({props:{width:"min(50vmax, 65vw, 80vmin)",height:"max(1vh, 5px)",progress:e[4]}}),D.$on("dragStart",e[9]),D.$on("dragChange",e[10]),D.$on("dragEnd",e[11]);let $=(e[0]||e[3])&&jt(e);return{c(){var q;t=E("main"),n=E("section"),i=E("header"),a=E("img"),c=C(),m=E("div"),d=E("h1"),u=V(v),f=C(),r=E("h2"),s=V(o),l=C(),y=E("button"),T=C(),Se(h.$$.fragment),w=C(),k=E("footer"),P=E("div"),L=E("span"),R=V(S),x=C(),Se(D.$$.fragment),I=C(),U=E("span"),F=V(W),G=C(),$&&$.c(),g(a,"class","album-art svelte-fsyjct"),g(a,"alt","Album art"),We(a.src,p=(q=e[0])!=null?q:pe)||g(a,"src",p),g(d,"class","song-name svelte-fsyjct"),g(r,"class","artist-name svelte-fsyjct"),g(m,"class","name-info svelte-fsyjct"),g(y,"class","fullscreen-toggle svelte-fsyjct"),g(y,"style",`--open:url("${Rn}");--close:url("${Wn}");`),g(i,"class","svelte-fsyjct"),g(L,"id","progress_time"),g(U,"id","song_length"),g(P,"class","seek svelte-fsyjct"),g(k,"class","svelte-fsyjct"),g(n,"class","main-section svelte-fsyjct"),g(t,"class","svelte-fsyjct")},m(q,B){M(q,t,B),b(t,n),b(n,i),b(i,a),b(i,c),b(i,m),b(m,d),b(d,u),b(m,f),b(m,r),b(r,s),b(i,l),b(i,y),b(n,T),ce(h,n,null),b(n,w),b(n,k),b(k,P),b(P,L),b(L,R),b(P,x),ce(D,P,null),b(P,I),b(P,U),b(U,F),b(t,G),$&&$.m(t,null),e[12](t),N=!0,Ie||(Je=de(y,"click",e[8]),Ie=!0)},p(q,[B]){var ut,ct,ft,pt,dt,mt,vt,yt,ht,gt,wt,_t;(!N||B&1&&!We(a.src,p=(ut=q[0])!=null?ut:pe))&&g(a,"src",p),(!N||B&2)&&v!==(v=((pt=(ft=(ct=q[1])==null?void 0:ct.item)==null?void 0:ft.name)!=null?pt:"No playback")+"")&&ie(u,v),(!N||B&2)&&o!==(o=((yt=(vt=(mt=(dt=q[1])==null?void 0:dt.item)==null?void 0:mt.artists)==null?void 0:vt.map(It).join(" & "))!=null?yt:"Live Lyrics for Spotify")+"")&&ie(s,o),(!N||B&32)&&S!==(S=ke((ht=q[5])!=null?ht:0)+"")&&ie(R,S);const lt={};B&16&&(lt.progress=q[4]),D.$set(lt),(!N||B&2)&&W!==(W=ke((_t=(wt=(gt=q[1])==null?void 0:gt.item)==null?void 0:wt.duration_ms)!=null?_t:0)+"")&&ie(F,W),q[0]||q[3]?$?$.p(q,B):($=jt(q),$.c(),$.m(t,null)):$&&($.d(1),$=null)},i(q){N||(Y(h.$$.fragment,q),Y(D.$$.fragment,q),X(()=>{ne&&ne.end(1),he=Kt(t,Ae,{duration:250,delay:250}),he.start()}),N=!0)},o(q){Z(h.$$.fragment,q),Z(D.$$.fragment,q),he&&he.invalidate(),ne=Qt(t,Ae,{duration:250,delay:0}),N=!1},d(q){q&&A(t),fe(h),fe(D),$&&$.d(),e[12](null),q&&ne&&ne.end(),Ie=!1,Je()}}}function ke(e){let t=Math.floor(e/1e3),n=(t%60).toString().padStart(2,"0");return t=Math.floor(t/60),n=(t%60).toString().padStart(2,"0")+":"+n,t=Math.floor(t/60),t>0&&(n=t+":"+n),n}const It=e=>e.name;function qr(e,t,n){const i=Tn("auth_data"),a=$t(i),p=new Un;p.setAccessToken(a.token);let c,m;const d=Zt(m);let v,u;Xe(()=>{Tr(),r()}),xt(()=>{v!=null&&window.clearInterval(v),u!=null&&window.clearInterval(u),kr()});let f=!1;async function r(D=!1){var I,U,W;if(!f||D){try{const G=Date.now();if(n(1,m=await p.getMyCurrentPlaybackState()),D&&(f=!1),f)return;m!=null&&m!=""&&n(1,m.timestamp=Date.now()-Math.floor((Date.now()-G)/2),m),n(0,c=(W=(U=(I=m==null?void 0:m.item)==null?void 0:I.album)==null?void 0:U.images[0])==null?void 0:W.url),f||d.set(m)}catch(G){console.error(G),i.set(void 0)}P();const F=On(m);v=window.setTimeout(r,Math.min(F>0&&(m==null?void 0:m.is_playing)?F:5e3,5e3))}}function o(D){s(D.detail,!0)}function s(D,I=!1){Fn(m,d,D),n(1,m.is_playing=!1,m),f=!0,p.seek(D).then(async()=>{I&&!m.is_playing&&await p.play({position_ms:D})}).finally(()=>{r(!0)})}let l,y=document.fullscreenElement!=null;async function T(){document.fullscreenElement?await(document==null?void 0:document.exitFullscreen()):await(l==null?void 0:l.requestFullscreen()),n(3,y=document.fullscreenElement!=null)}let h=0,w=0,k=!1;function P(){var I,U,W,F;k||(n(5,w=cn(0,Ye(m),(U=(I=m==null?void 0:m.item)==null?void 0:I.duration_ms)!=null?U:0)),((W=m==null?void 0:m.item)==null?void 0:W.duration_ms)==null?n(4,h=0):n(4,h=w/((F=m==null?void 0:m.item)==null?void 0:F.duration_ms)));const D=1e3-w%1e3;u!=null&&window.clearInterval(u),m!=null&&m.is_playing&&(u=window.setTimeout(P,D))}function L(D){k=!0,S(D)}function S(D){var I;n(4,h=D.detail),n(5,w=h*((I=m==null?void 0:m.item)==null?void 0:I.duration_ms))}function R(D){k=!1,S(D),s(Math.floor(w))}function x(D){Q[D?"unshift":"push"](()=>{l=D,n(2,l)})}return[c,m,l,y,h,w,d,o,T,L,S,R,x]}class Sr extends ye{constructor(t){super(),ve(this,t,qr,Lr,te,{})}}const Ar="285cd29de87649a5b55bc8ad56734d44";var Mr="/assets/checkmark.24214891.svg";function jr(e){let t,n,i,a,p,c,m,d,v,u,f,r,o,s,l,y,T,h;return{c(){t=E("main"),n=E("article"),i=E("img"),p=C(),c=E("h1"),c.textContent="Welcome to Live Lyrics for Spotify",m=C(),d=E("a"),v=V("Sign in with Spotify"),u=C(),f=E("input"),r=C(),o=E("label"),o.textContent="Automatically sign me in next time",We(i.src,a=pe)||g(i,"src",a),g(i,"class","logo svelte-niiqbe"),g(i,"alt","Live Lyrics for Spotify logo"),g(c,"class","svelte-niiqbe"),g(d,"href",e[0]),g(d,"class","svelte-niiqbe"),g(f,"type","checkbox"),g(f,"id","auto-auth"),g(f,"name","auto-auth"),f.checked=O.get("auto-auth")=="true",g(f,"class","svelte-niiqbe"),g(o,"for","auto-auth"),g(o,"class","svelte-niiqbe"),g(n,"class","svelte-niiqbe"),g(t,"class","flex-container svelte-niiqbe"),g(t,"style",`--checkmark:url("${Mr}");`)},m(w,k){M(w,t,k),b(t,n),b(n,i),b(n,p),b(n,c),b(n,m),b(n,d),b(d,v),b(n,u),b(n,f),b(n,r),b(n,o),y=!0,T||(h=de(f,"change",e[1]),T=!0)},p:j,i(w){y||(X(()=>{l&&l.end(1),s=Kt(t,Ae,{duration:250,delay:250}),s.start()}),y=!0)},o(w){s&&s.invalidate(),l=Qt(t,Ae,{duration:250,delay:0}),y=!1},d(w){w&&A(t),w&&l&&l.end(),T=!1,h()}}}function Ir(e){const t=new URLSearchParams;t.append("client_id",Ar),t.append("response_type","token"),t.append("show_dialog","false"),t.append("redirect_uri",window.location.href),t.append("scope","user-modify-playback-state user-read-playback-state user-library-modify user-read-currently-playing user-library-read");const n="https://accounts.spotify.com/authorize?"+t.toString();Xe(()=>{O.get("auto-auth")=="true"&&(window.location.href=n)});function i(a){O.set("auto-auth",JSON.stringify(a.currentTarget.checked),{expires:365})}return[n,i]}class Cr extends ye{constructor(t){super(),ve(this,t,Ir,jr,te,{})}}function $r(e){let t,n;return t=new Cr({}),{c(){Se(t.$$.fragment)},m(i,a){ce(t,i,a),n=!0},i(i){n||(Y(t.$$.fragment,i),n=!0)},o(i){Z(t.$$.fragment,i),n=!1},d(i){fe(t,i)}}}function Ur(e){let t,n;return t=new Sr({}),{c(){Se(t.$$.fragment)},m(i,a){ce(t,i,a),n=!0},i(i){n||(Y(t.$$.fragment,i),n=!0)},o(i){Z(t.$$.fragment,i),n=!1},d(i){fe(t,i)}}}function Rr(e){let t,n,i,a;const p=[Ur,$r],c=[];function m(d,v){return d[0]?0:1}return t=m(e),n=c[t]=p[t](e),{c(){n.c(),i=Nt()},m(d,v){c[t].m(d,v),M(d,i,v),a=!0},p(d,[v]){let u=t;t=m(d),t!==u&&(En(),Z(c[u],1,1,()=>{c[u]=null}),Pn(),n=c[t],n||(n=c[t]=p[t](d),n.c()),Y(n,1),n.m(i.parentNode,i))},i(d){a||(Y(n),a=!0)},o(d){Z(n),a=!1},d(d){c[t].d(d),d&&A(i)}}}function Wr(e,t,n){window.location.protocol==="http:"&&window.location.hostname!=="localhost"&&(window.location.protocol="https:"),In({onOfflineReady(){},onRegistered(p){p&&setInterval(()=>{p.update()},60*60*1e3)}});const i=Zt($n());bn("auth_data",i);let a;return i.subscribe(p=>n(0,a=p)),[a]}class Or extends ye{constructor(t){super(),ve(this,t,Wr,Rr,te,{})}}new Or({target:document.getElementById("app")});
