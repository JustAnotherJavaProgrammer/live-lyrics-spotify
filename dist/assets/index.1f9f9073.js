const Ot=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const p of a)if(p.type==="childList")for(const c of p.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const p={};return a.integrity&&(p.integrity=a.integrity),a.referrerpolicy&&(p.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?p.credentials="include":a.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function s(a){if(a.ep)return;a.ep=!0;const p=r(a);fetch(a.href,p)}};Ot();function j(){}const Le=e=>e;function ct(e){return e()}function Je(){return Object.create(null)}function N(e){e.forEach(ct)}function Ae(e){return typeof e=="function"}function ye(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let te;function be(e,t){return te||(te=document.createElement("a")),te.href=t,e===te.href}function Ft(e){return Object.keys(e).length===0}function Vt(e,...t){if(e==null)return j;const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function ut(e){let t;return Vt(e,r=>t=r)(),t}const ft=typeof window!="undefined";let pt=ft?()=>window.performance.now():()=>Date.now(),Se=ft?e=>requestAnimationFrame(e):j;const V=new Set;function dt(e){V.forEach(t=>{t.c(e)||(V.delete(t),t.f())}),V.size!==0&&Se(dt)}function mt(e){let t;return V.size===0&&Se(dt),{promise:new Promise(r=>{V.add(t={c:e,f:r})}),abort(){V.delete(t)}}}function E(e,t){e.appendChild(t)}function vt(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Bt(e){const t=P("style");return Nt(vt(e),t),t.sheet}function Nt(e,t){E(e.head||e,t)}function S(e,t,r){e.insertBefore(t,r||null)}function A(e){e.parentNode.removeChild(e)}function Ht(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function P(e){return document.createElement(e)}function R(e){return document.createTextNode(e)}function I(){return R(" ")}function yt(){return R("")}function je(e,t,r,s){return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r,s)}function g(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function Xt(e){return Array.from(e.childNodes)}function ke(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ht(e,t,r=!1){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,r,!1,t),s}const le=new Map;let ce=0;function Gt(e){let t=5381,r=e.length;for(;r--;)t=(t<<5)-t^e.charCodeAt(r);return t>>>0}function Yt(e,t){const r={stylesheet:Bt(t),rules:{}};return le.set(e,r),r}function gt(e,t,r,s,a,p,c,v=0){const d=16.666/s;let m=`{
`;for(let y=0;y<=1;y+=d){const w=t+(r-t)*p(y);m+=y*100+`%{${c(w,1-w)}}
`}const l=m+`100% {${c(r,1-r)}}
}`,u=`__svelte_${Gt(l)}_${v}`,n=vt(e),{stylesheet:o,rules:i}=le.get(n)||Yt(n,e);i[u]||(i[u]=!0,o.insertRule(`@keyframes ${u} ${l}`,o.cssRules.length));const f=e.style.animation||"";return e.style.animation=`${f?`${f}, `:""}${u} ${s}ms linear ${a}ms 1 both`,ce+=1,u}function De(e,t){const r=(e.style.animation||"").split(", "),s=r.filter(t?p=>p.indexOf(t)<0:p=>p.indexOf("__svelte")===-1),a=r.length-s.length;a&&(e.style.animation=s.join(", "),ce-=a,ce||zt())}function zt(){Se(()=>{ce||(le.forEach(e=>{const{stylesheet:t}=e;let r=t.cssRules.length;for(;r--;)t.deleteRule(r);e.rules={}}),le.clear())})}let Q;function K(e){Q=e}function ee(){if(!Q)throw new Error("Function called outside component initialization");return Q}function wt(e){ee().$$.on_mount.push(e)}function _t(e){ee().$$.on_destroy.push(e)}function Jt(){const e=ee();return(t,r)=>{const s=e.$$.callbacks[t];if(s){const a=ht(t,r);s.slice().forEach(p=>{p.call(e,a)})}}}function Kt(e,t){ee().$$.context.set(e,t)}function Qt(e){return ee().$$.context.get(e)}const J=[],ue=[],se=[],Ke=[],bt=Promise.resolve();let Te=!1;function kt(){Te||(Te=!0,bt.then(Dt))}function Zt(){return kt(),bt}function W(e){se.push(e)}const he=new Set;let re=0;function Dt(){const e=Q;do{for(;re<J.length;){const t=J[re];re++,K(t),er(t.$$)}for(K(null),J.length=0,re=0;ue.length;)ue.pop()();for(let t=0;t<se.length;t+=1){const r=se[t];he.has(r)||(he.add(r),r())}se.length=0}while(J.length);for(;Ke.length;)Ke.pop()();Te=!1,he.clear(),K(e)}function er(e){if(e.fragment!==null){e.update(),N(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(W)}}let G;function Tt(){return G||(G=Promise.resolve(),G.then(()=>{G=null})),G}function fe(e,t,r){e.dispatchEvent(ht(`${t?"intro":"outro"}${r}`))}const ae=new Set;let U;function tr(){U={r:0,c:[],p:U}}function rr(){U.r||N(U.c),U=U.p}function Z(e,t){e&&e.i&&(ae.delete(e),e.i(t))}function pe(e,t,r,s){if(e&&e.o){if(ae.has(e))return;ae.add(e),U.c.push(()=>{ae.delete(e),s&&(r&&e.d(1),s())}),e.o(t)}}const Et={duration:0};function Pt(e,t,r){let s=t(e,r),a=!1,p,c,v=0;function d(){p&&De(e,p)}function m(){const{delay:u=0,duration:n=300,easing:o=Le,tick:i=j,css:f}=s||Et;f&&(p=gt(e,0,1,n,u,o,f,v++)),i(0,1);const y=pt()+u,w=y+n;c&&c.abort(),a=!0,W(()=>fe(e,!0,"start")),c=mt(h=>{if(a){if(h>=w)return i(1,0),fe(e,!0,"end"),d(),a=!1;if(h>=y){const T=o((h-y)/n);i(T,1-T)}}return a})}let l=!1;return{start(){l||(l=!0,De(e),Ae(s)?(s=s(),Tt().then(m)):m())},invalidate(){l=!1},end(){a&&(d(),a=!1)}}}function qt(e,t,r){let s=t(e,r),a=!0,p;const c=U;c.r+=1;function v(){const{delay:d=0,duration:m=300,easing:l=Le,tick:u=j,css:n}=s||Et;n&&(p=gt(e,1,0,m,d,l,n));const o=pt()+d,i=o+m;W(()=>fe(e,!1,"start")),mt(f=>{if(a){if(f>=i)return u(0,1),fe(e,!1,"end"),--c.r||N(c.c),!1;if(f>=o){const y=l((f-o)/m);u(1-y,y)}}return a})}return Ae(s)?Tt().then(()=>{s=s(),v()}):v(),{end(d){d&&s.tick&&s.tick(1,0),a&&(p&&De(e,p),a=!1)}}}function Lt(e){e&&e.c()}function $e(e,t,r,s){const{fragment:a,on_mount:p,on_destroy:c,after_update:v}=e.$$;a&&a.m(t,r),s||W(()=>{const d=p.map(ct).filter(Ae);c?c.push(...d):N(d),e.$$.on_mount=[]}),v.forEach(W)}function Ie(e,t){const r=e.$$;r.fragment!==null&&(N(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function nr(e,t){e.$$.dirty[0]===-1&&(J.push(e),kt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ce(e,t,r,s,a,p,c,v=[-1]){const d=Q;K(e);const m=e.$$={fragment:null,ctx:null,props:p,update:j,not_equal:a,bound:Je(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:Je(),dirty:v,skip_bound:!1,root:t.target||d.$$.root};c&&c(m.root);let l=!1;if(m.ctx=r?r(e,t.props||{},(u,n,...o)=>{const i=o.length?o[0]:n;return m.ctx&&a(m.ctx[u],m.ctx[u]=i)&&(!m.skip_bound&&m.bound[u]&&m.bound[u](i),l&&nr(e,u)),n}):[],m.update(),l=!0,N(m.before_update),m.fragment=s?s(m.ctx):!1,t.target){if(t.hydrate){const u=Xt(t.target);m.fragment&&m.fragment.l(u),u.forEach(A)}else m.fragment&&m.fragment.c();t.intro&&Z(e.$$.fragment),$e(e,t.target,t.anchor,t.customElement),Dt()}K(d)}class Ue{$destroy(){Ie(this,1),this.$destroy=j}$on(t,r){const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(r),()=>{const a=s.indexOf(r);a!==-1&&s.splice(a,1)}}$set(t){this.$$set&&!Ft(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}try{self["workbox:window:6.5.1"]&&_()}catch{}function Qe(e,t){return new Promise(function(r){var s=new MessageChannel;s.port1.onmessage=function(a){r(a.data)},e.postMessage(t,[s.port2])})}function or(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function Ze(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function ir(e,t){var r;if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(r=function(a,p){if(a){if(typeof a=="string")return Ze(a,p);var c=Object.prototype.toString.call(a).slice(8,-1);return c==="Object"&&a.constructor&&(c=a.constructor.name),c==="Map"||c==="Set"?Array.from(a):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Ze(a,p):void 0}}(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(r=e[Symbol.iterator]()).next.bind(r)}try{self["workbox:core:6.5.1"]&&_()}catch{}var ge=function(){var e=this;this.promise=new Promise(function(t,r){e.resolve=t,e.reject=r})};function we(e,t){var r=location.href;return new URL(e,r).href===new URL(t,r).href}var Y=function(e,t){this.type=e,Object.assign(this,t)};function ne(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function sr(){}var ar={type:"SKIP_WAITING"};function et(e,t){if(!t)return e&&e.then?e.then(sr):Promise.resolve()}var lr=function(e){var t,r;function s(v,d){var m,l;return d===void 0&&(d={}),(m=e.call(this)||this).nn={},m.tn=0,m.rn=new ge,m.en=new ge,m.on=new ge,m.un=0,m.an=new Set,m.cn=function(){var u=m.fn,n=u.installing;m.tn>0||!we(n.scriptURL,m.sn.toString())||performance.now()>m.un+6e4?(m.vn=n,u.removeEventListener("updatefound",m.cn)):(m.hn=n,m.an.add(n),m.rn.resolve(n)),++m.tn,n.addEventListener("statechange",m.ln)},m.ln=function(u){var n=m.fn,o=u.target,i=o.state,f=o===m.vn,y={sw:o,isExternal:f,originalEvent:u};!f&&m.mn&&(y.isUpdate=!0),m.dispatchEvent(new Y(i,y)),i==="installed"?m.wn=self.setTimeout(function(){i==="installed"&&n.waiting===o&&m.dispatchEvent(new Y("waiting",y))},200):i==="activating"&&(clearTimeout(m.wn),f||m.en.resolve(o))},m.dn=function(u){var n=m.hn,o=n!==navigator.serviceWorker.controller;m.dispatchEvent(new Y("controlling",{isExternal:o,originalEvent:u,sw:n,isUpdate:m.mn})),o||m.on.resolve(n)},m.gn=(l=function(u){var n=u.data,o=u.ports,i=u.source;return ne(m.getSW(),function(){m.an.has(i)&&m.dispatchEvent(new Y("message",{data:n,originalEvent:u,ports:o,sw:i}))})},function(){for(var u=[],n=0;n<arguments.length;n++)u[n]=arguments[n];try{return Promise.resolve(l.apply(this,u))}catch(o){return Promise.reject(o)}}),m.sn=v,m.nn=d,navigator.serviceWorker.addEventListener("message",m.gn),m}r=e,(t=s).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a,p,c=s.prototype;return c.register=function(v){var d=(v===void 0?{}:v).immediate,m=d!==void 0&&d;try{var l=this;return function(u,n){var o=u();return o&&o.then?o.then(n):n(o)}(function(){if(!m&&document.readyState!=="complete")return et(new Promise(function(u){return window.addEventListener("load",u)}))},function(){return l.mn=Boolean(navigator.serviceWorker.controller),l.yn=l.pn(),ne(l.bn(),function(u){l.fn=u,l.yn&&(l.hn=l.yn,l.en.resolve(l.yn),l.on.resolve(l.yn),l.yn.addEventListener("statechange",l.ln,{once:!0}));var n=l.fn.waiting;return n&&we(n.scriptURL,l.sn.toString())&&(l.hn=n,Promise.resolve().then(function(){l.dispatchEvent(new Y("waiting",{sw:n,wasWaitingBeforeRegister:!0}))}).then(function(){})),l.hn&&(l.rn.resolve(l.hn),l.an.add(l.hn)),l.fn.addEventListener("updatefound",l.cn),navigator.serviceWorker.addEventListener("controllerchange",l.dn),l.fn})})}catch(u){return Promise.reject(u)}},c.update=function(){try{return this.fn?et(this.fn.update()):void 0}catch(v){return Promise.reject(v)}},c.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},c.messageSW=function(v){try{return ne(this.getSW(),function(d){return Qe(d,v)})}catch(d){return Promise.reject(d)}},c.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Qe(this.fn.waiting,ar)},c.pn=function(){var v=navigator.serviceWorker.controller;return v&&we(v.scriptURL,this.sn.toString())?v:void 0},c.bn=function(){try{var v=this;return function(d,m){try{var l=d()}catch(u){return m(u)}return l&&l.then?l.then(void 0,m):l}(function(){return ne(navigator.serviceWorker.register(v.sn,v.nn),function(d){return v.un=performance.now(),d})},function(d){throw d})}catch(d){return Promise.reject(d)}},a=s,(p=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&or(a.prototype,p),s}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(r,s){this.Sn(r).add(s)},t.removeEventListener=function(r,s){this.Sn(r).delete(s)},t.dispatchEvent=function(r){r.target=this;for(var s,a=ir(this.Sn(r.type));!(s=a()).done;)(0,s.value)(r)},t.Sn=function(r){return this.Pn.has(r)||this.Pn.set(r,new Set),this.Pn.get(r)},e}());function cr(e={}){const{immediate:t=!1,onNeedRefresh:r,onOfflineReady:s,onRegistered:a,onRegisterError:p}=e;let c;const v=async(d=!0)=>{};return"serviceWorker"in navigator&&(c=new lr("/sw.js",{scope:"/",type:"classic"}),c.addEventListener("activated",d=>{d.isUpdate?window.location.reload():s==null||s()}),c.register({immediate:t}).then(d=>{a==null||a(d)}).catch(d=>{p==null||p(d)})),v}var Ee="/assets/llfs.b089f5f9.svg";/*! js-cookie v3.0.1 | MIT */function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)e[s]=r[s]}return e}var ur={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Pe(e,t){function r(a,p,c){if(typeof document!="undefined"){c=oe({},t,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var v="";for(var d in c)!c[d]||(v+="; "+d,c[d]!==!0&&(v+="="+c[d].split(";")[0]));return document.cookie=a+"="+e.write(p,a)+v}}function s(a){if(!(typeof document=="undefined"||arguments.length&&!a)){for(var p=document.cookie?document.cookie.split("; "):[],c={},v=0;v<p.length;v++){var d=p[v].split("="),m=d.slice(1).join("=");try{var l=decodeURIComponent(d[0]);if(c[l]=e.read(m,l),a===l)break}catch{}}return a?c[a]:c}}return Object.create({set:r,get:s,remove:function(a,p){r(a,"",oe({},p,{expires:-1}))},withAttributes:function(a){return Pe(this.converter,oe({},this.attributes,a))},withConverter:function(a){return Pe(oe({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var M=Pe(ur,{path:"/"});function fr(){{const e=new URLSearchParams(window.location.hash.substring(1));if(e.has("access_token")&&e.has("expires_in")&&(M.set("token",e.get("access_token"),{sameSite:"Strict"}),M.set("expires_at",(Date.now()+parseInt(e.get("expires_in"))*1e3).toString(),{sameSite:"Strict"}),window.history.replaceState({},document.title,"/")),M.get("token")&&M.get("expires_at")&&M.get("expires_at")>Date.now().toString())return{token:M.get("token"),expiresAt:parseInt(M.get("expires_at"))}}}const pr="285cd29de87649a5b55bc8ad56734d44";function de(e,{delay:t=0,duration:r=400,easing:s=Le}={}){const a=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:s,css:p=>`opacity: ${p*a}`}}const F=[];function At(e,t=j){let r;const s=new Set;function a(v){if(ye(e,v)&&(e=v,r)){const d=!F.length;for(const m of s)m[1](),F.push(m,e);if(d){for(let m=0;m<F.length;m+=2)F[m][0](F[m+1]);F.length=0}}}function p(v){a(v(e))}function c(v,d=j){const m=[v,d];return s.add(m),s.size===1&&(r=t(a)||j),v(e),()=>{s.delete(m),s.size===0&&(r(),r=null)}}return{set:a,update:p,subscribe:c}}var St={exports:{}};(function(e){var t=function(){var r="https://api.spotify.com/v1",s=null,a=null,p=function(n,o){return n.abort=o,n},c=function(n,o){var i;if(a!==null){var f=a.defer();n(function(y){f.resolve(y)},function(y){f.reject(y)}),i=f.promise}else window.Promise&&(i=new window.Promise(n));return i?new p(i,o):null},v=function(){var n=Array.prototype.slice.call(arguments),o=n[0],i=n.slice(1);return o=o||{},i.forEach(function(f){for(var y in f)f.hasOwnProperty(y)&&(o[y]=f[y])}),o},d=function(n,o){var i="";for(var f in o)if(o.hasOwnProperty(f)){var y=o[f];i+=encodeURIComponent(f)+"="+encodeURIComponent(y)+"&"}return i.length>0&&(i=i.substring(0,i.length-1),n=n+"?"+i),n},m=function(n,o){var i=new XMLHttpRequest,f=function(y,w){function h(D){y&&y(D),o&&o(null,D)}function T(){w&&w(i),o&&o(i,null)}var b=n.type||"GET";if(i.open(b,d(n.url,n.params)),s&&i.setRequestHeader("Authorization","Bearer "+s),i.onreadystatechange=function(){if(i.readyState===4){var D=null;try{D=i.responseText?JSON.parse(i.responseText):""}catch($){console.error($)}i.status>=200&&i.status<300?h(D):T()}},b==="GET")i.send(null);else{var k=null;n.postData&&(n.contentType==="image/jpeg"?(k=n.postData,i.setRequestHeader("Content-Type",n.contentType)):(k=JSON.stringify(n.postData),i.setRequestHeader("Content-Type","application/json"))),i.send(k)}};return o?(f(),null):c(f,function(){i.abort()})},l=function(n,o,i,f){var y={},w=null;typeof o=="object"?(y=o,w=i):typeof o=="function"&&(w=o);var h=n.type||"GET";return h!=="GET"&&n.postData&&!f?n.postData=v(n.postData,y):n.params=v(n.params,y),m(n,w)},u=function(){};return u.prototype={constructor:t},u.prototype.getGeneric=function(n,o){var i={url:n};return l(i,o)},u.prototype.getMe=function(n,o){var i={url:r+"/me"};return l(i,n,o)},u.prototype.getMySavedTracks=function(n,o){var i={url:r+"/me/tracks"};return l(i,n,o)},u.prototype.addToMySavedTracks=function(n,o,i){var f={url:r+"/me/tracks",type:"PUT",postData:n};return l(f,o,i)},u.prototype.removeFromMySavedTracks=function(n,o,i){var f={url:r+"/me/tracks",type:"DELETE",postData:n};return l(f,o,i)},u.prototype.containsMySavedTracks=function(n,o,i){var f={url:r+"/me/tracks/contains",params:{ids:n.join(",")}};return l(f,o,i)},u.prototype.getMySavedAlbums=function(n,o){var i={url:r+"/me/albums"};return l(i,n,o)},u.prototype.addToMySavedAlbums=function(n,o,i){var f={url:r+"/me/albums",type:"PUT",postData:n};return l(f,o,i)},u.prototype.removeFromMySavedAlbums=function(n,o,i){var f={url:r+"/me/albums",type:"DELETE",postData:n};return l(f,o,i)},u.prototype.containsMySavedAlbums=function(n,o,i){var f={url:r+"/me/albums/contains",params:{ids:n.join(",")}};return l(f,o,i)},u.prototype.getMyTopArtists=function(n,o){var i={url:r+"/me/top/artists"};return l(i,n,o)},u.prototype.getMyTopTracks=function(n,o){var i={url:r+"/me/top/tracks"};return l(i,n,o)},u.prototype.getMyRecentlyPlayedTracks=function(n,o){var i={url:r+"/me/player/recently-played"};return l(i,n,o)},u.prototype.followUsers=function(n,o){var i={url:r+"/me/following/",type:"PUT",params:{ids:n.join(","),type:"user"}};return l(i,o)},u.prototype.followArtists=function(n,o){var i={url:r+"/me/following/",type:"PUT",params:{ids:n.join(","),type:"artist"}};return l(i,o)},u.prototype.followPlaylist=function(n,o,i){var f={url:r+"/playlists/"+n+"/followers",type:"PUT",postData:{}};return l(f,o,i)},u.prototype.unfollowUsers=function(n,o){var i={url:r+"/me/following/",type:"DELETE",params:{ids:n.join(","),type:"user"}};return l(i,o)},u.prototype.unfollowArtists=function(n,o){var i={url:r+"/me/following/",type:"DELETE",params:{ids:n.join(","),type:"artist"}};return l(i,o)},u.prototype.unfollowPlaylist=function(n,o){var i={url:r+"/playlists/"+n+"/followers",type:"DELETE"};return l(i,o)},u.prototype.isFollowingUsers=function(n,o){var i={url:r+"/me/following/contains",type:"GET",params:{ids:n.join(","),type:"user"}};return l(i,o)},u.prototype.isFollowingArtists=function(n,o){var i={url:r+"/me/following/contains",type:"GET",params:{ids:n.join(","),type:"artist"}};return l(i,o)},u.prototype.areFollowingPlaylist=function(n,o,i){var f={url:r+"/playlists/"+n+"/followers/contains",type:"GET",params:{ids:o.join(",")}};return l(f,i)},u.prototype.getFollowedArtists=function(n,o){var i={url:r+"/me/following",type:"GET",params:{type:"artist"}};return l(i,n,o)},u.prototype.getUser=function(n,o,i){var f={url:r+"/users/"+encodeURIComponent(n)};return l(f,o,i)},u.prototype.getUserPlaylists=function(n,o,i){var f;return typeof n=="string"?f={url:r+"/users/"+encodeURIComponent(n)+"/playlists"}:(f={url:r+"/me/playlists"},i=o,o=n),l(f,o,i)},u.prototype.getPlaylist=function(n,o,i){var f={url:r+"/playlists/"+n};return l(f,o,i)},u.prototype.getPlaylistTracks=function(n,o,i){var f={url:r+"/playlists/"+n+"/tracks"};return l(f,o,i)},u.prototype.getPlaylistCoverImage=function(n,o){var i={url:r+"/playlists/"+n+"/images"};return l(i,o)},u.prototype.createPlaylist=function(n,o,i){var f={url:r+"/users/"+encodeURIComponent(n)+"/playlists",type:"POST",postData:o};return l(f,o,i)},u.prototype.changePlaylistDetails=function(n,o,i){var f={url:r+"/playlists/"+n,type:"PUT",postData:o};return l(f,o,i)},u.prototype.addTracksToPlaylist=function(n,o,i,f){var y={url:r+"/playlists/"+n+"/tracks",type:"POST",postData:{uris:o}};return l(y,i,f,!0)},u.prototype.replaceTracksInPlaylist=function(n,o,i){var f={url:r+"/playlists/"+n+"/tracks",type:"PUT",postData:{uris:o}};return l(f,{},i)},u.prototype.reorderTracksInPlaylist=function(n,o,i,f,y){var w={url:r+"/playlists/"+n+"/tracks",type:"PUT",postData:{range_start:o,insert_before:i}};return l(w,f,y)},u.prototype.removeTracksFromPlaylist=function(n,o,i){var f=o.map(function(w){return typeof w=="string"?{uri:w}:w}),y={url:r+"/playlists/"+n+"/tracks",type:"DELETE",postData:{tracks:f}};return l(y,{},i)},u.prototype.removeTracksFromPlaylistWithSnapshotId=function(n,o,i,f){var y=o.map(function(h){return typeof h=="string"?{uri:h}:h}),w={url:r+"/playlists/"+n+"/tracks",type:"DELETE",postData:{tracks:y,snapshot_id:i}};return l(w,{},f)},u.prototype.removeTracksFromPlaylistInPositions=function(n,o,i,f){var y={url:r+"/playlists/"+n+"/tracks",type:"DELETE",postData:{positions:o,snapshot_id:i}};return l(y,{},f)},u.prototype.uploadCustomPlaylistCoverImage=function(n,o,i){var f={url:r+"/playlists/"+n+"/images",type:"PUT",postData:o.replace(/^data:image\/jpeg;base64,/,""),contentType:"image/jpeg"};return l(f,{},i)},u.prototype.getAlbum=function(n,o,i){var f={url:r+"/albums/"+n};return l(f,o,i)},u.prototype.getAlbumTracks=function(n,o,i){var f={url:r+"/albums/"+n+"/tracks"};return l(f,o,i)},u.prototype.getAlbums=function(n,o,i){var f={url:r+"/albums/",params:{ids:n.join(",")}};return l(f,o,i)},u.prototype.getTrack=function(n,o,i){var f={};return f.url=r+"/tracks/"+n,l(f,o,i)},u.prototype.getTracks=function(n,o,i){var f={url:r+"/tracks/",params:{ids:n.join(",")}};return l(f,o,i)},u.prototype.getArtist=function(n,o,i){var f={url:r+"/artists/"+n};return l(f,o,i)},u.prototype.getArtists=function(n,o,i){var f={url:r+"/artists/",params:{ids:n.join(",")}};return l(f,o,i)},u.prototype.getArtistAlbums=function(n,o,i){var f={url:r+"/artists/"+n+"/albums"};return l(f,o,i)},u.prototype.getArtistTopTracks=function(n,o,i,f){var y={url:r+"/artists/"+n+"/top-tracks",params:{country:o}};return l(y,i,f)},u.prototype.getArtistRelatedArtists=function(n,o,i){var f={url:r+"/artists/"+n+"/related-artists"};return l(f,o,i)},u.prototype.getFeaturedPlaylists=function(n,o){var i={url:r+"/browse/featured-playlists"};return l(i,n,o)},u.prototype.getNewReleases=function(n,o){var i={url:r+"/browse/new-releases"};return l(i,n,o)},u.prototype.getCategories=function(n,o){var i={url:r+"/browse/categories"};return l(i,n,o)},u.prototype.getCategory=function(n,o,i){var f={url:r+"/browse/categories/"+n};return l(f,o,i)},u.prototype.getCategoryPlaylists=function(n,o,i){var f={url:r+"/browse/categories/"+n+"/playlists"};return l(f,o,i)},u.prototype.search=function(n,o,i,f){var y={url:r+"/search/",params:{q:n,type:o.join(",")}};return l(y,i,f)},u.prototype.searchAlbums=function(n,o,i){return this.search(n,["album"],o,i)},u.prototype.searchArtists=function(n,o,i){return this.search(n,["artist"],o,i)},u.prototype.searchTracks=function(n,o,i){return this.search(n,["track"],o,i)},u.prototype.searchPlaylists=function(n,o,i){return this.search(n,["playlist"],o,i)},u.prototype.searchShows=function(n,o,i){return this.search(n,["show"],o,i)},u.prototype.searchEpisodes=function(n,o,i){return this.search(n,["episode"],o,i)},u.prototype.getAudioFeaturesForTrack=function(n,o){var i={};return i.url=r+"/audio-features/"+n,l(i,{},o)},u.prototype.getAudioFeaturesForTracks=function(n,o){var i={url:r+"/audio-features",params:{ids:n}};return l(i,{},o)},u.prototype.getAudioAnalysisForTrack=function(n,o){var i={};return i.url=r+"/audio-analysis/"+n,l(i,{},o)},u.prototype.getRecommendations=function(n,o){var i={url:r+"/recommendations"};return l(i,n,o)},u.prototype.getAvailableGenreSeeds=function(n){var o={url:r+"/recommendations/available-genre-seeds"};return l(o,{},n)},u.prototype.getMyDevices=function(n){var o={url:r+"/me/player/devices"};return l(o,{},n)},u.prototype.getMyCurrentPlaybackState=function(n,o){var i={url:r+"/me/player"};return l(i,n,o)},u.prototype.getMyCurrentPlayingTrack=function(n,o){var i={url:r+"/me/player/currently-playing"};return l(i,n,o)},u.prototype.transferMyPlayback=function(n,o,i){var f=o||{};f.device_ids=n;var y={type:"PUT",url:r+"/me/player",postData:f};return l(y,o,i)},u.prototype.play=function(n,o){n=n||{};var i="device_id"in n?{device_id:n.device_id}:null,f={};["context_uri","uris","offset","position_ms"].forEach(function(h){h in n&&(f[h]=n[h])});var y={type:"PUT",url:r+"/me/player/play",params:i,postData:f},w=typeof n=="function"?n:{};return l(y,w,o)},u.prototype.queue=function(n,o,i){o=o||{};var f="device_id"in o?{uri:n,device_id:o.device_id}:{uri:n},y={type:"POST",url:r+"/me/player/queue",params:f};return l(y,o,i)},u.prototype.pause=function(n,o){n=n||{};var i="device_id"in n?{device_id:n.device_id}:null,f={type:"PUT",url:r+"/me/player/pause",params:i};return l(f,n,o)},u.prototype.skipToNext=function(n,o){n=n||{};var i="device_id"in n?{device_id:n.device_id}:null,f={type:"POST",url:r+"/me/player/next",params:i};return l(f,n,o)},u.prototype.skipToPrevious=function(n,o){n=n||{};var i="device_id"in n?{device_id:n.device_id}:null,f={type:"POST",url:r+"/me/player/previous",params:i};return l(f,n,o)},u.prototype.seek=function(n,o,i){o=o||{};var f={position_ms:n};"device_id"in o&&(f.device_id=o.device_id);var y={type:"PUT",url:r+"/me/player/seek",params:f};return l(y,o,i)},u.prototype.setRepeat=function(n,o,i){o=o||{};var f={state:n};"device_id"in o&&(f.device_id=o.device_id);var y={type:"PUT",url:r+"/me/player/repeat",params:f};return l(y,o,i)},u.prototype.setVolume=function(n,o,i){o=o||{};var f={volume_percent:n};"device_id"in o&&(f.device_id=o.device_id);var y={type:"PUT",url:r+"/me/player/volume",params:f};return l(y,o,i)},u.prototype.setShuffle=function(n,o,i){o=o||{};var f={state:n};"device_id"in o&&(f.device_id=o.device_id);var y={type:"PUT",url:r+"/me/player/shuffle",params:f};return l(y,o,i)},u.prototype.getShow=function(n,o,i){var f={};return f.url=r+"/shows/"+n,l(f,o,i)},u.prototype.getShows=function(n,o,i){var f={url:r+"/shows/",params:{ids:n.join(",")}};return l(f,o,i)},u.prototype.getMySavedShows=function(n,o){var i={url:r+"/me/shows"};return l(i,n,o)},u.prototype.addToMySavedShows=function(n,o,i){var f={url:r+"/me/shows",type:"PUT",postData:n};return l(f,o,i)},u.prototype.removeFromMySavedShows=function(n,o,i){var f={url:r+"/me/shows",type:"DELETE",postData:n};return l(f,o,i)},u.prototype.containsMySavedShows=function(n,o,i){var f={url:r+"/me/shows/contains",params:{ids:n.join(",")}};return l(f,o,i)},u.prototype.getShowEpisodes=function(n,o,i){var f={url:r+"/shows/"+n+"/episodes"};return l(f,o,i)},u.prototype.getEpisode=function(n,o,i){var f={};return f.url=r+"/episodes/"+n,l(f,o,i)},u.prototype.getEpisodes=function(n,o,i){var f={url:r+"/episodes/",params:{ids:n.join(",")}};return l(f,o,i)},u.prototype.getAccessToken=function(){return s},u.prototype.setAccessToken=function(n){s=n},u.prototype.setPromiseImplementation=function(n){var o=!1;try{var i=new n(function(f){f()});typeof i.then=="function"&&typeof i.catch=="function"&&(o=!0)}catch(f){console.error(f)}if(o)a=n;else throw new Error("Unsupported implementation of Promises/A+")},u}();e.exports=t})(St);var dr=St.exports,mr="/assets/fullscreen.91da601f.svg",vr="/assets/close_fullscreen.7d3d3ee4.svg";function jt(e){var r,s;const t=Date.now()-((r=e==null?void 0:e.timestamp)!=null?r:Date.now());return((s=e==null?void 0:e.progress_ms)!=null?s:0)+(e!=null&&e.is_playing?t:0)}function yr(e){var t;return jt(e)-((t=e==null?void 0:e.item)==null?void 0:t.duration_ms)}function hr(e,t,r){e.progress_ms=r,t.set(e)}let z;async function gr(e){try{z&&await z,z=fetch("https://cors-anywhere.herokuapp.com/https://api.textyl.co/api/lyrics?"+new URLSearchParams({q:e}).toString(),{mode:"cors"});const t=await z;return z=void 0,t.ok?await t.json():(console.error(t),t.status===403?403:null)}catch(t){return console.log(t),null}}const $t=e=>e===void 0||e==="auto"||e==="instant"||e==="smooth";function wr(e,t){this.scrollLeft=e,this.scrollTop=t}const It=(e,t,r="cannot convert to dictionary.")=>`Failed to execute '${e}' on '${t}': ${r}`,Ct=(e,t,r)=>It(e,t,`The provided value '${r}' is not a valid enum value of type ScrollBehavior.`),me=(e,t,r)=>{var s;const a=`__SEAMLESS.BACKUP$${t}`;return!e[a]&&e[t]&&!(!((s=e[t])===null||s===void 0)&&s.__isPolyfill)&&(e[a]=e[t]),e[a]||r},Ut=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")},_r=()=>"scrollBehavior"in window.document.documentElement.style,br=e=>{Object.defineProperty(e,"__isPolyfill",{value:!0})},kr=(e,t)=>{br(t),[HTMLElement.prototype,SVGElement.prototype,Element.prototype].forEach(r=>{me(r,e),r[e]=t})},Me=e=>e.ownerDocument.scrollingElement||e.ownerDocument.documentElement,Dr=e=>.5*(1-Math.cos(Math.PI*e));function Re(){var e;let t;return!((e=window.performance)===null||e===void 0)&&e.now?t=()=>window.performance.now():t=()=>window.Date.now(),Re=t,t()}const Tr=500,Mt=e=>{const r=(Re()-e.timeStamp)/(e.duration||Tr);if(r>1){e.method(e.targetX,e.targetY),e.callback();return}const s=(e.timingFunc||Dr)(r),a=e.startX+(e.targetX-e.startX)*s,p=e.startY+(e.targetY-e.startY)*s;e.method(a,p),e.rafId=window.requestAnimationFrame(()=>{Mt(e)})},ve=e=>isFinite(e)?Number(e):0,Er=e=>{var t;return(t=e.isConnected)!==null&&t!==void 0?t:!e.ownerDocument||!(e.ownerDocument.compareDocumentPosition(e)&1)},Pr=(e,t,r)=>{var s,a;if(!Er(e))return;const p=e.scrollLeft,c=e.scrollTop,v=ve((s=t.left)!==null&&s!==void 0?s:p),d=ve((a=t.top)!==null&&a!==void 0?a:c);if(v===p&&d===c)return;const m=me(HTMLElement.prototype,"scroll",wr),l=me(Object.getPrototypeOf(e),"scroll",m).bind(e);if(t.behavior!=="smooth"){l(v,d);return}const u=()=>{window.removeEventListener("wheel",o),window.removeEventListener("touchmove",o)},n=Object.assign(Object.assign({},r),{timeStamp:Re(),startX:p,startY:c,targetX:v,targetY:d,rafId:0,method:l,callback:u}),o=()=>{window.cancelAnimationFrame(n.rafId),u()};window.addEventListener("wheel",o,{passive:!0,once:!0}),window.addEventListener("touchmove",o,{passive:!0,once:!0}),Mt(n)},qr=e=>e.window===e,Lr=e=>(t,r,s)=>{const[a,p]=qr(t)?[Me(t.document.documentElement),"Window"]:[t,"Element"],c=r!=null?r:{};if(!Ut(c))throw new TypeError(It(e,p));if(!$t(c.behavior))throw new TypeError(Ct(e,p,c.behavior));e==="scrollBy"&&(c.left=ve(c.left)+a.scrollLeft,c.top=ve(c.top)+a.scrollTop),Pr(a,c,s)},Ar=Lr("scroll"),Sr=Ar,Rt=e=>{switch(e){case"horizontal-tb":case"lr":case"lr-tb":case"rl":case"rl-tb":return 0;case"vertical-rl":case"tb":case"tb-rl":return 1;case"vertical-lr":case"tb-lr":return 2;case"sideways-rl":return 3;case"sideways-lr":return 4}return 0},Wt=(e,t,r,s)=>{let a=0;switch(t||(a^=2),e){case 0:a=a>>1|(a&1)<<1,[r,s]=[s,r];break;case 1:case 3:a^=1;break;case 4:a^=2;break}return[a,r,s]},jr=e=>(Wt(Rt(e.writingMode),e.direction!=="rtl",void 0,void 0)[0]&1)===1,$r=(e,t,r)=>{const[s,a,p]=Wt(t,r,e.block||"start",e.inline||"nearest");return[a,p].map((c,v)=>{switch(c){case"center":return 1;case"nearest":return 0;default:{const d=s>>v&1;return c==="start"==!d?2:3}}})},tt=(e,t,r,s,a,p,c)=>e!==0?e:a<t&&p>r||a>t&&p<r?null:a<=t&&c<=s||p>=r&&c>=s?2:p>r&&c<s||a<t&&c>s?3:null,rt=e=>e!=="visible"&&e!=="clip",Ir=e=>{var t;try{return((t=e.ownerDocument.defaultView)===null||t===void 0?void 0:t.frameElement)||null}catch{return null}},Cr=(e,t)=>e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth?rt(t.overflowY)||rt(t.overflowX)||e===Me(e):!1,nt=e=>{const t=e.parentNode,r=e.parentElement;if(r===null&&t!==null){if(t.nodeType===11)return t.host;if(t.nodeType===9)return Ir(e)}return r},_e=(e,t,r)=>e<t?t:e>r?r:e,Ur=e=>["scroll-margin","scroll-snap-margin"].filter(t=>t in e.documentElement.style)[0],Mr=(e,t,r)=>{const{top:s,right:a,bottom:p,left:c}=t,v=Ur(e.ownerDocument);if(!v)return[s,a,p,c];const d=m=>{const l=r.getPropertyValue(`${v}-${m}`);return parseInt(l,10)||0};return[s-d("top"),a+d("right"),p+d("bottom"),c-d("left")]},ie=(e,t,r)=>{switch(e){case 1:return(t+r)/2;case 3:return r;case 2:case 0:return t}},Rr=(e,t)=>{var r,s,a;const p=(r=e.ownerDocument.defaultView)===null||r===void 0?void 0:r.visualViewport,[c,v,d,m]=e===Me(e)?[0,0,(s=p==null?void 0:p.width)!==null&&s!==void 0?s:e.clientWidth,(a=p==null?void 0:p.height)!==null&&a!==void 0?a:e.clientHeight]:[t.left,t.top,e.clientWidth,e.clientHeight],l=c+e.clientLeft,u=v+e.clientTop,n=l+d,o=u+m;return[u,n,o,l]},Wr=(e,t)=>{const r=[];let s=e.ownerDocument,a=s.defaultView;if(!a)return r;const p=window.getComputedStyle(e),c=p.direction!=="rtl",v=Rt(p.writingMode||p.getPropertyValue("-webkit-writing-mode")||p.getPropertyValue("-ms-writing-mode")),[d,m]=$r(t,v,c);let[l,u,n,o]=Mr(e,e.getBoundingClientRect(),p);for(let i=nt(e);i!==null;i=nt(i)){if(s!==i.ownerDocument){if(s=i.ownerDocument,a=s.defaultView,!a)break;const{left:H,top:X}=i.getBoundingClientRect();l+=X,u+=H,n+=X,o+=H}const f=a.getComputedStyle(i);if(f.position==="fixed")break;if(!Cr(i,f))continue;const y=i.getBoundingClientRect(),[w,h,T,b]=Rr(i,y),k=tt(d,b,h,i.clientWidth,o,u,u-o),D=tt(m,w,T,i.clientHeight,l,n,n-l),$=k===null?0:ie(k,o,u)-ie(k,b,h),C=D===null?0:ie(D,l,n)-ie(D,w,T),q=jr(f)?_e($,-i.scrollWidth+i.clientWidth-i.scrollLeft,-i.scrollLeft):_e($,-i.scrollLeft,i.scrollWidth-i.clientWidth-i.scrollLeft),x=_e(C,-i.scrollTop,i.scrollHeight-i.clientHeight-i.scrollTop);r.push([i,{left:i.scrollLeft+q,top:i.scrollTop+x,behavior:t.behavior}]),l=Math.max(l-x,w),u=Math.min(u-q,h),n=Math.min(n-x,T),o=Math.max(o-q,b)}return r},xr=(e,t,r)=>{const s=t||{};if(!$t(s.behavior))throw new TypeError(Ct("scrollIntoView","Element",s.behavior));Wr(e,s).forEach(([p,c])=>{Sr(p,c,r)})},xt=xr;function Or(e){xt(this,{block:e==null||e?"start":"end",inline:"nearest"})}const Fr=e=>{if(_r())return;const t=me(window.HTMLElement.prototype,"scrollIntoView",Or);kr("scrollIntoView",function(){const s=arguments,a=s[0];if(s.length===1&&Ut(a)){xt(this,a,e);return}t.apply(this,s)})};function Vr(e){return e=e.filter(t=>t!=null),new Promise(t=>{const r=new IntersectionObserver(s=>{for(const a of s)r.unobserve(a.target),e.splice(e.indexOf(a.target),1),a.isIntersecting&&(r.disconnect(),t(!0));e.length===0&&t(!1)});for(const s of e)r.observe(s)})}function ot(e,t,r){const s=e.slice();return s[15]=t[r],s[17]=r,s}function Br(e){let t,r=e[1],s=[];for(let a=0;a<r.length;a+=1)s[a]=it(ot(e,r,a));return{c(){for(let a=0;a<s.length;a+=1)s[a].c();t=yt()},m(a,p){for(let c=0;c<s.length;c+=1)s[c].m(a,p);S(a,t,p)},p(a,p){if(p&18){r=a[1];let c;for(c=0;c<r.length;c+=1){const v=ot(a,r,c);s[c]?s[c].p(v,p):(s[c]=it(v),s[c].c(),s[c].m(t.parentNode,t))}for(;c<s.length;c+=1)s[c].d(1);s.length=r.length}},d(a){Ht(s,a),a&&A(t)}}}function Nr(e){let t,r,s,a,p,c,v;return{c(){t=P("span"),t.textContent="Can't access lyrics database",r=I(),s=P("a"),s.textContent="Enable access",a=I(),p=P("button"),p.textContent="Try again",g(t,"class","line svelte-pm5j2w"),g(s,"class","line svelte-pm5j2w"),g(s,"href","http://cors-anywhere.herokuapp.com/"),g(s,"rel","noreferrer noopener"),g(s,"target","_blank"),g(p,"class","line svelte-pm5j2w")},m(d,m){S(d,t,m),S(d,r,m),S(d,s,m),S(d,a,m),S(d,p,m),c||(v=je(p,"click",e[6]),c=!0)},p:j,d(d){d&&A(t),d&&A(r),d&&A(s),d&&A(a),d&&A(p),c=!1,v()}}}function Hr(e){let t;return{c(){t=P("span"),t.textContent="Loading...",g(t,"class","line active svelte-pm5j2w")},m(r,s){S(r,t,s)},p:j,d(r){r&&A(t)}}}function Xr(e){let t,r,s,a,p;return{c(){var c,v,d,m,l;t=P("span"),t.textContent="No live lyrics available",r=I(),s=P("a"),a=R("View on Genius instead"),g(t,"class","line svelte-pm5j2w"),g(s,"class","line svelte-pm5j2w"),g(s,"href",p="https://genius.com/"+(((d=(v=(c=e[0])==null?void 0:c.item)==null?void 0:v.artists)==null?void 0:d.map(st).join(" "))+" "+((l=(m=e[0])==null?void 0:m.item)==null?void 0:l.name)).replaceAll(/\s/gm,"-")+"-lyrics"),g(s,"target","_blank"),g(s,"rel","noreferrer noopener")},m(c,v){S(c,t,v),S(c,r,v),S(c,s,v),E(s,a)},p(c,v){var d,m,l,u,n;v&1&&p!==(p="https://genius.com/"+(((l=(m=(d=c[0])==null?void 0:d.item)==null?void 0:m.artists)==null?void 0:l.map(st).join(" "))+" "+((n=(u=c[0])==null?void 0:u.item)==null?void 0:n.name)).replaceAll(/\s/gm,"-")+"-lyrics")&&g(s,"href",p)},d(c){c&&A(t),c&&A(r),c&&A(s)}}}function Gr(e){let t;return{c(){t=P("span"),t.textContent="Start playing something on Spotify to see the lyrics",g(t,"class","line svelte-pm5j2w")},m(r,s){S(r,t,s)},p:j,d(r){r&&A(t)}}}function it(e){let t,r=e[15].lyrics+"",s,a,p,c;return{c(){t=P("span"),s=R(r),g(t,"class","line svelte-pm5j2w"),g(t,"id",a="line-"+e[17].toString())},m(v,d){S(v,t,d),E(t,s),p||(c=je(t,"click",e[4]),p=!0)},p(v,d){d&2&&r!==(r=v[15].lyrics+"")&&ke(s,r)},d(v){v&&A(t),p=!1,c()}}}function Yr(e){let t;function r(p,c){var v;return(v=p[0])!=null&&v.item?p[1]==null?Xr:p[1]==""?Hr:p[1]==403?Nr:Br:Gr}let s=r(e),a=s(e);return{c(){t=P("article"),a.c(),g(t,"id","lines-list"),g(t,"class","svelte-pm5j2w")},m(p,c){S(p,t,c),a.m(t,null),e[7](t)},p(p,[c]){s===(s=r(p))&&a?a.p(p,c):(a.d(1),a=s(p),a&&(a.c(),a.m(t,null)))},i:j,o:j,d(p){p&&A(t),a.d(),e[7](null)}}}const st=e=>e.name;function zr(e,t,r){Fr();let s;const a=Jt();let{pbs:p}=t,c,v=null,d;async function m(h){var T,b,k,D,$;h!==void 0&&(r(0,c=h),(((T=c==null?void 0:c.item)==null?void 0:T.id)!==v||d===403)&&(r(1,d=""),v=(b=c==null?void 0:c.item)==null?void 0:b.id,r(1,d=await gr(((k=c==null?void 0:c.item)==null?void 0:k.name)+" "+(($=(D=c==null?void 0:c.item)==null?void 0:D.artists)==null?void 0:$.map(C=>C.name).join(", ")))),console.log(d)),Zt().then(u))}m(ut(p)),p.subscribe(m);let l;async function u(){if(l==null&&(console.warn("linesList == null"),r(2,l=document.getElementById("lines-list")),l==null)){console.warn("linesList not found by id");return}if(d==null||d==""||d===403)return;const h=jt(c),T=Math.floor(h/1e3),b=d.findIndex(($,C)=>$.seconds<=T&&(C+1>=d.length||d[C+1].seconds>T)),k=l.getElementsByClassName("active")[0];if(k!=null){if(parseInt(k.id.substring(5))==b)return n(b,h,d);k.classList.remove("active")}if(b==-1)return n(b,h,d);const D=document.getElementById("line-"+b);D!=null&&(D.classList.add("active"),await Vr([D,k])&&D.scrollIntoView({behavior:"smooth",block:"center"})),n(b,h,d)}function n(h,T,b){if(h<b.length-1){s!=null&&window.clearTimeout(s);const k=Math.max(b[h+1].seconds*1e3-T,1);s=window.setTimeout(u,k)}}function o(){if(l==null&&(r(2,l=document.getElementById("lines-list")),l==null))return;const h=l.getElementsByClassName("active")[0];h!=null&&h.scrollIntoView({behavior:"smooth",block:"center"})}function i(){document.visibilityState!=="hidden"&&o()}wt(()=>{u(),document.addEventListener("visibilitychange",i),document.addEventListener("fullscreenchange",i)}),_t(()=>{console.warn("Lyrics destroyed"),s!=null&&window.clearTimeout(s),document.removeEventListener("visibilitychange",i),document.removeEventListener("fullscreenchange",i)});function f(h){var D;const T=h.currentTarget;if(!T.id.startsWith("line-"))return;const b=parseInt(T.id.substring(5));if(!Array.isArray(d)||b<0||b>=d.length)return;const k=((D=d[b])==null?void 0:D.seconds)*1e3;a("skip",k)}const y=()=>{m(c)};function w(h){ue[h?"unshift":"push"](()=>{l=h,r(2,l)})}return e.$$set=h=>{"pbs"in h&&r(5,p=h.pbs)},[c,d,l,m,f,p,y,w]}class Jr extends Ue{constructor(t){super(),Ce(this,t,zr,Yr,ye,{pbs:5})}}const Kr="wakeLock"in navigator;let B=null;function Qr(){qe(),document.addEventListener("visibilitychange",qe)}function Zr(){document.removeEventListener("visibilitychange",qe),B!=null&&(B.release(),B=null)}async function qe(){Kr&&(B==null||B.released)&&document.visibilityState==="visible"&&(B=await navigator.wakeLock.request("screen"))}function at(e){let t,r,s;return{c(){t=P("div"),r=P("aside"),g(r,"class","background-cover svelte-1t41cjk"),g(r,"style",s=`--img:url("${e[0]}");`),g(t,"class","background-cover svelte-1t41cjk")},m(a,p){S(a,t,p),E(t,r)},p(a,p){p&1&&s!==(s=`--img:url("${a[0]}");`)&&g(r,"style",s)},d(a){a&&A(t)}}}function en(e){var x,H,X,We,xe,Oe,Fe;let t,r,s,a,p,c,v,d,m=((X=(H=(x=e[1])==null?void 0:x.item)==null?void 0:H.name)!=null?X:"No playback")+"",l,u,n,o=((Fe=(Oe=(xe=(We=e[1])==null?void 0:We.item)==null?void 0:xe.artists)==null?void 0:Oe.map(lt).join(" & "))!=null?Fe:"Live Lyrics for Spotify")+"",i,f,y,w,h,T,b,k,D,$,C;h=new Jr({props:{pbs:e[3]}}),h.$on("skip",e[4]);let q=e[0]&&at(e);return{c(){var L;t=P("main"),r=P("section"),s=P("header"),a=P("img"),c=I(),v=P("div"),d=P("h1"),l=R(m),u=I(),n=P("h2"),i=R(o),f=I(),y=P("button"),w=I(),Lt(h.$$.fragment),T=I(),q&&q.c(),g(a,"class","album-art svelte-1t41cjk"),g(a,"alt","Album art"),be(a.src,p=(L=e[0])!=null?L:Ee)||g(a,"src",p),g(d,"class","song-name svelte-1t41cjk"),g(n,"class","artist-name svelte-1t41cjk"),g(v,"class","name-info svelte-1t41cjk"),g(y,"class","fullscreen-toggle svelte-1t41cjk"),g(y,"style",`--open:url("${mr}");--close:url("${vr}");`),g(s,"class","svelte-1t41cjk"),g(r,"class","main-section svelte-1t41cjk"),g(t,"class","svelte-1t41cjk")},m(L,O){S(L,t,O),E(t,r),E(r,s),E(s,a),E(s,c),E(s,v),E(v,d),E(d,l),E(v,u),E(v,n),E(n,i),E(s,f),E(s,y),E(r,w),$e(h,r,null),E(t,T),q&&q.m(t,null),e[6](t),D=!0,$||(C=je(y,"click",e[5]),$=!0)},p(L,[O]){var Ve,Be,Ne,He,Xe,Ge,Ye,ze;(!D||O&1&&!be(a.src,p=(Ve=L[0])!=null?Ve:Ee))&&g(a,"src",p),(!D||O&2)&&m!==(m=((He=(Ne=(Be=L[1])==null?void 0:Be.item)==null?void 0:Ne.name)!=null?He:"No playback")+"")&&ke(l,m),(!D||O&2)&&o!==(o=((ze=(Ye=(Ge=(Xe=L[1])==null?void 0:Xe.item)==null?void 0:Ge.artists)==null?void 0:Ye.map(lt).join(" & "))!=null?ze:"Live Lyrics for Spotify")+"")&&ke(i,o),L[0]?q?q.p(L,O):(q=at(L),q.c(),q.m(t,null)):q&&(q.d(1),q=null)},i(L){D||(Z(h.$$.fragment,L),W(()=>{k&&k.end(1),b=Pt(t,de,{duration:250,delay:250}),b.start()}),D=!0)},o(L){pe(h.$$.fragment,L),b&&b.invalidate(),k=qt(t,de,{duration:250,delay:0}),D=!1},d(L){L&&A(t),Ie(h),q&&q.d(),e[6](null),L&&k&&k.end(),$=!1,C()}}}const lt=e=>e.name;function tn(e,t,r){const s=Qt("auth_data"),a=ut(s),p=new dr;p.setAccessToken(a.token);let c,v;const d=At(v);let m;wt(()=>{Qr(),u()}),_t(()=>{m!=null&&window.clearInterval(m),Zr()});let l=!1;async function u(y=!1){var w,h,T;if(!l||y){try{const k=Date.now();if(r(1,v=await p.getMyCurrentPlaybackState()),y&&(l=!1),l)return;v!=null&&v!=""&&r(1,v.timestamp=Date.now()-Math.floor((Date.now()-k)/2),v),r(0,c=(T=(h=(w=v==null?void 0:v.item)==null?void 0:w.album)==null?void 0:h.images[0])==null?void 0:T.url),l||d.set(v)}catch(k){console.error(k),s.set(void 0)}const b=yr(v);m=window.setTimeout(u,Math.min(b>0&&(v==null?void 0:v.is_playing)?b:5e3,5e3))}}function n(y){hr(v,d,y.detail),l=!0,p.seek(y.detail).then(()=>{u(!0)})}let o;function i(){document.fullscreenElement?document==null||document.exitFullscreen():o==null||o.requestFullscreen()}function f(y){ue[y?"unshift":"push"](()=>{o=y,r(2,o)})}return[c,v,o,d,n,i,f]}class rn extends Ue{constructor(t){super(),Ce(this,t,tn,en,ye,{})}}function nn(e){let t,r,s,a,p,c,v,d,m,l,u,n;return{c(){t=P("main"),r=P("article"),s=P("img"),p=I(),c=P("h1"),c.textContent="Welcome to Live Lyrics for Spotify",v=I(),d=P("a"),m=R("Sign in with Spotify"),be(s.src,a=Ee)||g(s,"src",a),g(s,"class","logo svelte-kziro1"),g(s,"alt","Live Lyrics for Spotify logo"),g(c,"class","svelte-kziro1"),g(d,"href",e[1]),g(d,"class","svelte-kziro1"),g(r,"class","svelte-kziro1"),g(t,"class","flex-container svelte-kziro1")},m(o,i){S(o,t,i),E(t,r),E(r,s),E(r,p),E(r,c),E(r,v),E(r,d),E(d,m),n=!0},p:j,i(o){n||(W(()=>{u&&u.end(1),l=Pt(t,de,{duration:250,delay:250}),l.start()}),n=!0)},o(o){l&&l.invalidate(),u=qt(t,de,{duration:250,delay:0}),n=!1},d(o){o&&A(t),o&&u&&u.end()}}}function on(e){let t,r;return t=new rn({}),{c(){Lt(t.$$.fragment)},m(s,a){$e(t,s,a),r=!0},p:j,i(s){r||(Z(t.$$.fragment,s),r=!0)},o(s){pe(t.$$.fragment,s),r=!1},d(s){Ie(t,s)}}}function sn(e){let t,r,s,a;const p=[on,nn],c=[];function v(d,m){return d[0]?0:1}return t=v(e),r=c[t]=p[t](e),{c(){r.c(),s=yt()},m(d,m){c[t].m(d,m),S(d,s,m),a=!0},p(d,[m]){let l=t;t=v(d),t===l?c[t].p(d,m):(tr(),pe(c[l],1,1,()=>{c[l]=null}),rr(),r=c[t],r?r.p(d,m):(r=c[t]=p[t](d),r.c()),Z(r,1),r.m(s.parentNode,s))},i(d){a||(Z(r),a=!0)},o(d){pe(r),a=!1},d(d){c[t].d(d),d&&A(s)}}}function an(e,t,r){window.location.protocol==="http:"&&window.location.hostname!=="localhost"&&(window.location.protocol="https:"),cr({onOfflineReady(){}});const s=new URLSearchParams;s.append("client_id",pr),s.append("response_type","token"),s.append("show_dialog","false"),s.append("redirect_uri",window.location.href),s.append("scope","user-modify-playback-state user-read-playback-state user-library-modify user-read-currently-playing user-library-read");const a="https://accounts.spotify.com/authorize?"+s.toString(),p=At(fr());Kt("auth_data",p);let c;return p.subscribe(v=>r(0,c=v)),[c,a]}class ln extends Ue{constructor(t){super(),Ce(this,t,an,sn,ye,{})}}new ln({target:document.getElementById("app")});
