const Ot=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const p of a)if(p.type==="childList")for(const u of p.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const p={};return a.integrity&&(p.integrity=a.integrity),a.referrerpolicy&&(p.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?p.credentials="include":a.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function s(a){if(a.ep)return;a.ep=!0;const p=r(a);fetch(a.href,p)}};Ot();function $(){}const Le=e=>e;function ut(e){return e()}function Je(){return Object.create(null)}function N(e){e.forEach(ut)}function Ae(e){return typeof e=="function"}function ye(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let te;function be(e,t){return te||(te=document.createElement("a")),te.href=t,e===te.href}function Ft(e){return Object.keys(e).length===0}function Vt(e,...t){if(e==null)return $;const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function ct(e){let t;return Vt(e,r=>t=r)(),t}const ft=typeof window!="undefined";let pt=ft?()=>window.performance.now():()=>Date.now(),Se=ft?e=>requestAnimationFrame(e):$;const V=new Set;function dt(e){V.forEach(t=>{t.c(e)||(V.delete(t),t.f())}),V.size!==0&&Se(dt)}function mt(e){let t;return V.size===0&&Se(dt),{promise:new Promise(r=>{V.add(t={c:e,f:r})}),abort(){V.delete(t)}}}function E(e,t){e.appendChild(t)}function vt(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Bt(e){const t=P("style");return Nt(vt(e),t),t.sheet}function Nt(e,t){E(e.head||e,t)}function S(e,t,r){e.insertBefore(t,r||null)}function A(e){e.parentNode.removeChild(e)}function Ht(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function P(e){return document.createElement(e)}function R(e){return document.createTextNode(e)}function I(){return R(" ")}function yt(){return R("")}function $e(e,t,r,s){return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r,s)}function g(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function Xt(e){return Array.from(e.childNodes)}function De(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ht(e,t,r=!1){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,r,!1,t),s}const le=new Map;let ue=0;function Gt(e){let t=5381,r=e.length;for(;r--;)t=(t<<5)-t^e.charCodeAt(r);return t>>>0}function Yt(e,t){const r={stylesheet:Bt(t),rules:{}};return le.set(e,r),r}function gt(e,t,r,s,a,p,u,v=0){const d=16.666/s;let m=`{
`;for(let y=0;y<=1;y+=d){const w=t+(r-t)*p(y);m+=y*100+`%{${u(w,1-w)}}
`}const l=m+`100% {${u(r,1-r)}}
}`,c=`__svelte_${Gt(l)}_${v}`,n=vt(e),{stylesheet:o,rules:i}=le.get(n)||Yt(n,e);i[c]||(i[c]=!0,o.insertRule(`@keyframes ${c} ${l}`,o.cssRules.length));const f=e.style.animation||"";return e.style.animation=`${f?`${f}, `:""}${c} ${s}ms linear ${a}ms 1 both`,ue+=1,c}function ke(e,t){const r=(e.style.animation||"").split(", "),s=r.filter(t?p=>p.indexOf(t)<0:p=>p.indexOf("__svelte")===-1),a=r.length-s.length;a&&(e.style.animation=s.join(", "),ue-=a,ue||zt())}function zt(){Se(()=>{ue||(le.forEach(e=>{const{stylesheet:t}=e;let r=t.cssRules.length;for(;r--;)t.deleteRule(r);e.rules={}}),le.clear())})}let Q;function K(e){Q=e}function ee(){if(!Q)throw new Error("Function called outside component initialization");return Q}function wt(e){ee().$$.on_mount.push(e)}function _t(e){ee().$$.on_destroy.push(e)}function Jt(){const e=ee();return(t,r)=>{const s=e.$$.callbacks[t];if(s){const a=ht(t,r);s.slice().forEach(p=>{p.call(e,a)})}}}function Kt(e,t){ee().$$.context.set(e,t)}function Qt(e){return ee().$$.context.get(e)}const J=[],ce=[],se=[],Ke=[],bt=Promise.resolve();let Te=!1;function Dt(){Te||(Te=!0,bt.then(kt))}function Zt(){return Dt(),bt}function W(e){se.push(e)}const he=new Set;let re=0;function kt(){const e=Q;do{for(;re<J.length;){const t=J[re];re++,K(t),er(t.$$)}for(K(null),J.length=0,re=0;ce.length;)ce.pop()();for(let t=0;t<se.length;t+=1){const r=se[t];he.has(r)||(he.add(r),r())}se.length=0}while(J.length);for(;Ke.length;)Ke.pop()();Te=!1,he.clear(),K(e)}function er(e){if(e.fragment!==null){e.update(),N(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(W)}}let G;function Tt(){return G||(G=Promise.resolve(),G.then(()=>{G=null})),G}function fe(e,t,r){e.dispatchEvent(ht(`${t?"intro":"outro"}${r}`))}const ae=new Set;let U;function tr(){U={r:0,c:[],p:U}}function rr(){U.r||N(U.c),U=U.p}function Z(e,t){e&&e.i&&(ae.delete(e),e.i(t))}function pe(e,t,r,s){if(e&&e.o){if(ae.has(e))return;ae.add(e),U.c.push(()=>{ae.delete(e),s&&(r&&e.d(1),s())}),e.o(t)}}const Et={duration:0};function Pt(e,t,r){let s=t(e,r),a=!1,p,u,v=0;function d(){p&&ke(e,p)}function m(){const{delay:c=0,duration:n=300,easing:o=Le,tick:i=$,css:f}=s||Et;f&&(p=gt(e,0,1,n,c,o,f,v++)),i(0,1);const y=pt()+c,w=y+n;u&&u.abort(),a=!0,W(()=>fe(e,!0,"start")),u=mt(h=>{if(a){if(h>=w)return i(1,0),fe(e,!0,"end"),d(),a=!1;if(h>=y){const T=o((h-y)/n);i(T,1-T)}}return a})}let l=!1;return{start(){l||(l=!0,ke(e),Ae(s)?(s=s(),Tt().then(m)):m())},invalidate(){l=!1},end(){a&&(d(),a=!1)}}}function qt(e,t,r){let s=t(e,r),a=!0,p;const u=U;u.r+=1;function v(){const{delay:d=0,duration:m=300,easing:l=Le,tick:c=$,css:n}=s||Et;n&&(p=gt(e,1,0,m,d,l,n));const o=pt()+d,i=o+m;W(()=>fe(e,!1,"start")),mt(f=>{if(a){if(f>=i)return c(0,1),fe(e,!1,"end"),--u.r||N(u.c),!1;if(f>=o){const y=l((f-o)/m);c(1-y,y)}}return a})}return Ae(s)?Tt().then(()=>{s=s(),v()}):v(),{end(d){d&&s.tick&&s.tick(1,0),a&&(p&&ke(e,p),a=!1)}}}function Lt(e){e&&e.c()}function je(e,t,r,s){const{fragment:a,on_mount:p,on_destroy:u,after_update:v}=e.$$;a&&a.m(t,r),s||W(()=>{const d=p.map(ut).filter(Ae);u?u.push(...d):N(d),e.$$.on_mount=[]}),v.forEach(W)}function Ie(e,t){const r=e.$$;r.fragment!==null&&(N(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function nr(e,t){e.$$.dirty[0]===-1&&(J.push(e),Dt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ce(e,t,r,s,a,p,u,v=[-1]){const d=Q;K(e);const m=e.$$={fragment:null,ctx:null,props:p,update:$,not_equal:a,bound:Je(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:Je(),dirty:v,skip_bound:!1,root:t.target||d.$$.root};u&&u(m.root);let l=!1;if(m.ctx=r?r(e,t.props||{},(c,n,...o)=>{const i=o.length?o[0]:n;return m.ctx&&a(m.ctx[c],m.ctx[c]=i)&&(!m.skip_bound&&m.bound[c]&&m.bound[c](i),l&&nr(e,c)),n}):[],m.update(),l=!0,N(m.before_update),m.fragment=s?s(m.ctx):!1,t.target){if(t.hydrate){const c=Xt(t.target);m.fragment&&m.fragment.l(c),c.forEach(A)}else m.fragment&&m.fragment.c();t.intro&&Z(e.$$.fragment),je(e,t.target,t.anchor,t.customElement),kt()}K(d)}class Ue{$destroy(){Ie(this,1),this.$destroy=$}$on(t,r){const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(r),()=>{const a=s.indexOf(r);a!==-1&&s.splice(a,1)}}$set(t){this.$$set&&!Ft(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}try{self["workbox:window:6.5.1"]&&_()}catch{}function Qe(e,t){return new Promise(function(r){var s=new MessageChannel;s.port1.onmessage=function(a){r(a.data)},e.postMessage(t,[s.port2])})}function or(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function Ze(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function ir(e,t){var r;if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(r=function(a,p){if(a){if(typeof a=="string")return Ze(a,p);var u=Object.prototype.toString.call(a).slice(8,-1);return u==="Object"&&a.constructor&&(u=a.constructor.name),u==="Map"||u==="Set"?Array.from(a):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?Ze(a,p):void 0}}(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(r=e[Symbol.iterator]()).next.bind(r)}try{self["workbox:core:6.5.1"]&&_()}catch{}var ge=function(){var e=this;this.promise=new Promise(function(t,r){e.resolve=t,e.reject=r})};function we(e,t){var r=location.href;return new URL(e,r).href===new URL(t,r).href}var Y=function(e,t){this.type=e,Object.assign(this,t)};function ne(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function sr(){}var ar={type:"SKIP_WAITING"};function et(e,t){if(!t)return e&&e.then?e.then(sr):Promise.resolve()}var lr=function(e){var t,r;function s(v,d){var m,l;return d===void 0&&(d={}),(m=e.call(this)||this).nn={},m.tn=0,m.rn=new ge,m.en=new ge,m.on=new ge,m.un=0,m.an=new Set,m.cn=function(){var c=m.fn,n=c.installing;m.tn>0||!we(n.scriptURL,m.sn.toString())||performance.now()>m.un+6e4?(m.vn=n,c.removeEventListener("updatefound",m.cn)):(m.hn=n,m.an.add(n),m.rn.resolve(n)),++m.tn,n.addEventListener("statechange",m.ln)},m.ln=function(c){var n=m.fn,o=c.target,i=o.state,f=o===m.vn,y={sw:o,isExternal:f,originalEvent:c};!f&&m.mn&&(y.isUpdate=!0),m.dispatchEvent(new Y(i,y)),i==="installed"?m.wn=self.setTimeout(function(){i==="installed"&&n.waiting===o&&m.dispatchEvent(new Y("waiting",y))},200):i==="activating"&&(clearTimeout(m.wn),f||m.en.resolve(o))},m.dn=function(c){var n=m.hn,o=n!==navigator.serviceWorker.controller;m.dispatchEvent(new Y("controlling",{isExternal:o,originalEvent:c,sw:n,isUpdate:m.mn})),o||m.on.resolve(n)},m.gn=(l=function(c){var n=c.data,o=c.ports,i=c.source;return ne(m.getSW(),function(){m.an.has(i)&&m.dispatchEvent(new Y("message",{data:n,originalEvent:c,ports:o,sw:i}))})},function(){for(var c=[],n=0;n<arguments.length;n++)c[n]=arguments[n];try{return Promise.resolve(l.apply(this,c))}catch(o){return Promise.reject(o)}}),m.sn=v,m.nn=d,navigator.serviceWorker.addEventListener("message",m.gn),m}r=e,(t=s).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a,p,u=s.prototype;return u.register=function(v){var d=(v===void 0?{}:v).immediate,m=d!==void 0&&d;try{var l=this;return function(c,n){var o=c();return o&&o.then?o.then(n):n(o)}(function(){if(!m&&document.readyState!=="complete")return et(new Promise(function(c){return window.addEventListener("load",c)}))},function(){return l.mn=Boolean(navigator.serviceWorker.controller),l.yn=l.pn(),ne(l.bn(),function(c){l.fn=c,l.yn&&(l.hn=l.yn,l.en.resolve(l.yn),l.on.resolve(l.yn),l.yn.addEventListener("statechange",l.ln,{once:!0}));var n=l.fn.waiting;return n&&we(n.scriptURL,l.sn.toString())&&(l.hn=n,Promise.resolve().then(function(){l.dispatchEvent(new Y("waiting",{sw:n,wasWaitingBeforeRegister:!0}))}).then(function(){})),l.hn&&(l.rn.resolve(l.hn),l.an.add(l.hn)),l.fn.addEventListener("updatefound",l.cn),navigator.serviceWorker.addEventListener("controllerchange",l.dn),l.fn})})}catch(c){return Promise.reject(c)}},u.update=function(){try{return this.fn?et(this.fn.update()):void 0}catch(v){return Promise.reject(v)}},u.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},u.messageSW=function(v){try{return ne(this.getSW(),function(d){return Qe(d,v)})}catch(d){return Promise.reject(d)}},u.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Qe(this.fn.waiting,ar)},u.pn=function(){var v=navigator.serviceWorker.controller;return v&&we(v.scriptURL,this.sn.toString())?v:void 0},u.bn=function(){try{var v=this;return function(d,m){try{var l=d()}catch(c){return m(c)}return l&&l.then?l.then(void 0,m):l}(function(){return ne(navigator.serviceWorker.register(v.sn,v.nn),function(d){return v.un=performance.now(),d})},function(d){throw d})}catch(d){return Promise.reject(d)}},a=s,(p=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&or(a.prototype,p),s}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(r,s){this.Sn(r).add(s)},t.removeEventListener=function(r,s){this.Sn(r).delete(s)},t.dispatchEvent=function(r){r.target=this;for(var s,a=ir(this.Sn(r.type));!(s=a()).done;)(0,s.value)(r)},t.Sn=function(r){return this.Pn.has(r)||this.Pn.set(r,new Set),this.Pn.get(r)},e}());function ur(e={}){const{immediate:t=!1,onNeedRefresh:r,onOfflineReady:s,onRegistered:a,onRegisterError:p}=e;let u;const v=async(d=!0)=>{};return"serviceWorker"in navigator&&(u=new lr("/sw.js",{scope:"/",type:"classic"}),u.addEventListener("activated",d=>{d.isUpdate?window.location.reload():s==null||s()}),u.register({immediate:t}).then(d=>{a==null||a(d)}).catch(d=>{p==null||p(d)})),v}var Ee="/assets/llfs.b089f5f9.svg";/*! js-cookie v3.0.1 | MIT */function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)e[s]=r[s]}return e}var cr={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Pe(e,t){function r(a,p,u){if(typeof document!="undefined"){u=oe({},t,u),typeof u.expires=="number"&&(u.expires=new Date(Date.now()+u.expires*864e5)),u.expires&&(u.expires=u.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var v="";for(var d in u)!u[d]||(v+="; "+d,u[d]!==!0&&(v+="="+u[d].split(";")[0]));return document.cookie=a+"="+e.write(p,a)+v}}function s(a){if(!(typeof document=="undefined"||arguments.length&&!a)){for(var p=document.cookie?document.cookie.split("; "):[],u={},v=0;v<p.length;v++){var d=p[v].split("="),m=d.slice(1).join("=");try{var l=decodeURIComponent(d[0]);if(u[l]=e.read(m,l),a===l)break}catch{}}return a?u[a]:u}}return Object.create({set:r,get:s,remove:function(a,p){r(a,"",oe({},p,{expires:-1}))},withAttributes:function(a){return Pe(this.converter,oe({},this.attributes,a))},withConverter:function(a){return Pe(oe({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var M=Pe(cr,{path:"/"});function fr(){{const e=new URLSearchParams(window.location.hash.substring(1));if(e.has("access_token")&&e.has("expires_in")&&(M.set("token",e.get("access_token"),{sameSite:"Strict"}),M.set("expires_at",(Date.now()+parseInt(e.get("expires_in"))*1e3).toString(),{sameSite:"Strict"}),window.history.replaceState({},document.title,"/")),M.get("token")&&M.get("expires_at")&&M.get("expires_at")>Date.now().toString())return{token:M.get("token"),expiresAt:parseInt(M.get("expires_at"))}}}const pr="285cd29de87649a5b55bc8ad56734d44";function de(e,{delay:t=0,duration:r=400,easing:s=Le}={}){const a=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:s,css:p=>`opacity: ${p*a}`}}const F=[];function At(e,t=$){let r;const s=new Set;function a(v){if(ye(e,v)&&(e=v,r)){const d=!F.length;for(const m of s)m[1](),F.push(m,e);if(d){for(let m=0;m<F.length;m+=2)F[m][0](F[m+1]);F.length=0}}}function p(v){a(v(e))}function u(v,d=$){const m=[v,d];return s.add(m),s.size===1&&(r=t(a)||$),v(e),()=>{s.delete(m),s.size===0&&(r(),r=null)}}return{set:a,update:p,subscribe:u}}var St={exports:{}};(function(e){var t=function(){var r="https://api.spotify.com/v1",s=null,a=null,p=function(n,o){return n.abort=o,n},u=function(n,o){var i;if(a!==null){var f=a.defer();n(function(y){f.resolve(y)},function(y){f.reject(y)}),i=f.promise}else window.Promise&&(i=new window.Promise(n));return i?new p(i,o):null},v=function(){var n=Array.prototype.slice.call(arguments),o=n[0],i=n.slice(1);return o=o||{},i.forEach(function(f){for(var y in f)f.hasOwnProperty(y)&&(o[y]=f[y])}),o},d=function(n,o){var i="";for(var f in o)if(o.hasOwnProperty(f)){var y=o[f];i+=encodeURIComponent(f)+"="+encodeURIComponent(y)+"&"}return i.length>0&&(i=i.substring(0,i.length-1),n=n+"?"+i),n},m=function(n,o){var i=new XMLHttpRequest,f=function(y,w){function h(k){y&&y(k),o&&o(null,k)}function T(){w&&w(i),o&&o(i,null)}var b=n.type||"GET";if(i.open(b,d(n.url,n.params)),s&&i.setRequestHeader("Authorization","Bearer "+s),i.onreadystatechange=function(){if(i.readyState===4){var k=null;try{k=i.responseText?JSON.parse(i.responseText):""}catch(j){console.error(j)}i.status>=200&&i.status<300?h(k):T()}},b==="GET")i.send(null);else{var D=null;n.postData&&(n.contentType==="image/jpeg"?(D=n.postData,i.setRequestHeader("Content-Type",n.contentType)):(D=JSON.stringify(n.postData),i.setRequestHeader("Content-Type","application/json"))),i.send(D)}};return o?(f(),null):u(f,function(){i.abort()})},l=function(n,o,i,f){var y={},w=null;typeof o=="object"?(y=o,w=i):typeof o=="function"&&(w=o);var h=n.type||"GET";return h!=="GET"&&n.postData&&!f?n.postData=v(n.postData,y):n.params=v(n.params,y),m(n,w)},c=function(){};return c.prototype={constructor:t},c.prototype.getGeneric=function(n,o){var i={url:n};return l(i,o)},c.prototype.getMe=function(n,o){var i={url:r+"/me"};return l(i,n,o)},c.prototype.getMySavedTracks=function(n,o){var i={url:r+"/me/tracks"};return l(i,n,o)},c.prototype.addToMySavedTracks=function(n,o,i){var f={url:r+"/me/tracks",type:"PUT",postData:n};return l(f,o,i)},c.prototype.removeFromMySavedTracks=function(n,o,i){var f={url:r+"/me/tracks",type:"DELETE",postData:n};return l(f,o,i)},c.prototype.containsMySavedTracks=function(n,o,i){var f={url:r+"/me/tracks/contains",params:{ids:n.join(",")}};return l(f,o,i)},c.prototype.getMySavedAlbums=function(n,o){var i={url:r+"/me/albums"};return l(i,n,o)},c.prototype.addToMySavedAlbums=function(n,o,i){var f={url:r+"/me/albums",type:"PUT",postData:n};return l(f,o,i)},c.prototype.removeFromMySavedAlbums=function(n,o,i){var f={url:r+"/me/albums",type:"DELETE",postData:n};return l(f,o,i)},c.prototype.containsMySavedAlbums=function(n,o,i){var f={url:r+"/me/albums/contains",params:{ids:n.join(",")}};return l(f,o,i)},c.prototype.getMyTopArtists=function(n,o){var i={url:r+"/me/top/artists"};return l(i,n,o)},c.prototype.getMyTopTracks=function(n,o){var i={url:r+"/me/top/tracks"};return l(i,n,o)},c.prototype.getMyRecentlyPlayedTracks=function(n,o){var i={url:r+"/me/player/recently-played"};return l(i,n,o)},c.prototype.followUsers=function(n,o){var i={url:r+"/me/following/",type:"PUT",params:{ids:n.join(","),type:"user"}};return l(i,o)},c.prototype.followArtists=function(n,o){var i={url:r+"/me/following/",type:"PUT",params:{ids:n.join(","),type:"artist"}};return l(i,o)},c.prototype.followPlaylist=function(n,o,i){var f={url:r+"/playlists/"+n+"/followers",type:"PUT",postData:{}};return l(f,o,i)},c.prototype.unfollowUsers=function(n,o){var i={url:r+"/me/following/",type:"DELETE",params:{ids:n.join(","),type:"user"}};return l(i,o)},c.prototype.unfollowArtists=function(n,o){var i={url:r+"/me/following/",type:"DELETE",params:{ids:n.join(","),type:"artist"}};return l(i,o)},c.prototype.unfollowPlaylist=function(n,o){var i={url:r+"/playlists/"+n+"/followers",type:"DELETE"};return l(i,o)},c.prototype.isFollowingUsers=function(n,o){var i={url:r+"/me/following/contains",type:"GET",params:{ids:n.join(","),type:"user"}};return l(i,o)},c.prototype.isFollowingArtists=function(n,o){var i={url:r+"/me/following/contains",type:"GET",params:{ids:n.join(","),type:"artist"}};return l(i,o)},c.prototype.areFollowingPlaylist=function(n,o,i){var f={url:r+"/playlists/"+n+"/followers/contains",type:"GET",params:{ids:o.join(",")}};return l(f,i)},c.prototype.getFollowedArtists=function(n,o){var i={url:r+"/me/following",type:"GET",params:{type:"artist"}};return l(i,n,o)},c.prototype.getUser=function(n,o,i){var f={url:r+"/users/"+encodeURIComponent(n)};return l(f,o,i)},c.prototype.getUserPlaylists=function(n,o,i){var f;return typeof n=="string"?f={url:r+"/users/"+encodeURIComponent(n)+"/playlists"}:(f={url:r+"/me/playlists"},i=o,o=n),l(f,o,i)},c.prototype.getPlaylist=function(n,o,i){var f={url:r+"/playlists/"+n};return l(f,o,i)},c.prototype.getPlaylistTracks=function(n,o,i){var f={url:r+"/playlists/"+n+"/tracks"};return l(f,o,i)},c.prototype.getPlaylistCoverImage=function(n,o){var i={url:r+"/playlists/"+n+"/images"};return l(i,o)},c.prototype.createPlaylist=function(n,o,i){var f={url:r+"/users/"+encodeURIComponent(n)+"/playlists",type:"POST",postData:o};return l(f,o,i)},c.prototype.changePlaylistDetails=function(n,o,i){var f={url:r+"/playlists/"+n,type:"PUT",postData:o};return l(f,o,i)},c.prototype.addTracksToPlaylist=function(n,o,i,f){var y={url:r+"/playlists/"+n+"/tracks",type:"POST",postData:{uris:o}};return l(y,i,f,!0)},c.prototype.replaceTracksInPlaylist=function(n,o,i){var f={url:r+"/playlists/"+n+"/tracks",type:"PUT",postData:{uris:o}};return l(f,{},i)},c.prototype.reorderTracksInPlaylist=function(n,o,i,f,y){var w={url:r+"/playlists/"+n+"/tracks",type:"PUT",postData:{range_start:o,insert_before:i}};return l(w,f,y)},c.prototype.removeTracksFromPlaylist=function(n,o,i){var f=o.map(function(w){return typeof w=="string"?{uri:w}:w}),y={url:r+"/playlists/"+n+"/tracks",type:"DELETE",postData:{tracks:f}};return l(y,{},i)},c.prototype.removeTracksFromPlaylistWithSnapshotId=function(n,o,i,f){var y=o.map(function(h){return typeof h=="string"?{uri:h}:h}),w={url:r+"/playlists/"+n+"/tracks",type:"DELETE",postData:{tracks:y,snapshot_id:i}};return l(w,{},f)},c.prototype.removeTracksFromPlaylistInPositions=function(n,o,i,f){var y={url:r+"/playlists/"+n+"/tracks",type:"DELETE",postData:{positions:o,snapshot_id:i}};return l(y,{},f)},c.prototype.uploadCustomPlaylistCoverImage=function(n,o,i){var f={url:r+"/playlists/"+n+"/images",type:"PUT",postData:o.replace(/^data:image\/jpeg;base64,/,""),contentType:"image/jpeg"};return l(f,{},i)},c.prototype.getAlbum=function(n,o,i){var f={url:r+"/albums/"+n};return l(f,o,i)},c.prototype.getAlbumTracks=function(n,o,i){var f={url:r+"/albums/"+n+"/tracks"};return l(f,o,i)},c.prototype.getAlbums=function(n,o,i){var f={url:r+"/albums/",params:{ids:n.join(",")}};return l(f,o,i)},c.prototype.getTrack=function(n,o,i){var f={};return f.url=r+"/tracks/"+n,l(f,o,i)},c.prototype.getTracks=function(n,o,i){var f={url:r+"/tracks/",params:{ids:n.join(",")}};return l(f,o,i)},c.prototype.getArtist=function(n,o,i){var f={url:r+"/artists/"+n};return l(f,o,i)},c.prototype.getArtists=function(n,o,i){var f={url:r+"/artists/",params:{ids:n.join(",")}};return l(f,o,i)},c.prototype.getArtistAlbums=function(n,o,i){var f={url:r+"/artists/"+n+"/albums"};return l(f,o,i)},c.prototype.getArtistTopTracks=function(n,o,i,f){var y={url:r+"/artists/"+n+"/top-tracks",params:{country:o}};return l(y,i,f)},c.prototype.getArtistRelatedArtists=function(n,o,i){var f={url:r+"/artists/"+n+"/related-artists"};return l(f,o,i)},c.prototype.getFeaturedPlaylists=function(n,o){var i={url:r+"/browse/featured-playlists"};return l(i,n,o)},c.prototype.getNewReleases=function(n,o){var i={url:r+"/browse/new-releases"};return l(i,n,o)},c.prototype.getCategories=function(n,o){var i={url:r+"/browse/categories"};return l(i,n,o)},c.prototype.getCategory=function(n,o,i){var f={url:r+"/browse/categories/"+n};return l(f,o,i)},c.prototype.getCategoryPlaylists=function(n,o,i){var f={url:r+"/browse/categories/"+n+"/playlists"};return l(f,o,i)},c.prototype.search=function(n,o,i,f){var y={url:r+"/search/",params:{q:n,type:o.join(",")}};return l(y,i,f)},c.prototype.searchAlbums=function(n,o,i){return this.search(n,["album"],o,i)},c.prototype.searchArtists=function(n,o,i){return this.search(n,["artist"],o,i)},c.prototype.searchTracks=function(n,o,i){return this.search(n,["track"],o,i)},c.prototype.searchPlaylists=function(n,o,i){return this.search(n,["playlist"],o,i)},c.prototype.searchShows=function(n,o,i){return this.search(n,["show"],o,i)},c.prototype.searchEpisodes=function(n,o,i){return this.search(n,["episode"],o,i)},c.prototype.getAudioFeaturesForTrack=function(n,o){var i={};return i.url=r+"/audio-features/"+n,l(i,{},o)},c.prototype.getAudioFeaturesForTracks=function(n,o){var i={url:r+"/audio-features",params:{ids:n}};return l(i,{},o)},c.prototype.getAudioAnalysisForTrack=function(n,o){var i={};return i.url=r+"/audio-analysis/"+n,l(i,{},o)},c.prototype.getRecommendations=function(n,o){var i={url:r+"/recommendations"};return l(i,n,o)},c.prototype.getAvailableGenreSeeds=function(n){var o={url:r+"/recommendations/available-genre-seeds"};return l(o,{},n)},c.prototype.getMyDevices=function(n){var o={url:r+"/me/player/devices"};return l(o,{},n)},c.prototype.getMyCurrentPlaybackState=function(n,o){var i={url:r+"/me/player"};return l(i,n,o)},c.prototype.getMyCurrentPlayingTrack=function(n,o){var i={url:r+"/me/player/currently-playing"};return l(i,n,o)},c.prototype.transferMyPlayback=function(n,o,i){var f=o||{};f.device_ids=n;var y={type:"PUT",url:r+"/me/player",postData:f};return l(y,o,i)},c.prototype.play=function(n,o){n=n||{};var i="device_id"in n?{device_id:n.device_id}:null,f={};["context_uri","uris","offset","position_ms"].forEach(function(h){h in n&&(f[h]=n[h])});var y={type:"PUT",url:r+"/me/player/play",params:i,postData:f},w=typeof n=="function"?n:{};return l(y,w,o)},c.prototype.queue=function(n,o,i){o=o||{};var f="device_id"in o?{uri:n,device_id:o.device_id}:{uri:n},y={type:"POST",url:r+"/me/player/queue",params:f};return l(y,o,i)},c.prototype.pause=function(n,o){n=n||{};var i="device_id"in n?{device_id:n.device_id}:null,f={type:"PUT",url:r+"/me/player/pause",params:i};return l(f,n,o)},c.prototype.skipToNext=function(n,o){n=n||{};var i="device_id"in n?{device_id:n.device_id}:null,f={type:"POST",url:r+"/me/player/next",params:i};return l(f,n,o)},c.prototype.skipToPrevious=function(n,o){n=n||{};var i="device_id"in n?{device_id:n.device_id}:null,f={type:"POST",url:r+"/me/player/previous",params:i};return l(f,n,o)},c.prototype.seek=function(n,o,i){o=o||{};var f={position_ms:n};"device_id"in o&&(f.device_id=o.device_id);var y={type:"PUT",url:r+"/me/player/seek",params:f};return l(y,o,i)},c.prototype.setRepeat=function(n,o,i){o=o||{};var f={state:n};"device_id"in o&&(f.device_id=o.device_id);var y={type:"PUT",url:r+"/me/player/repeat",params:f};return l(y,o,i)},c.prototype.setVolume=function(n,o,i){o=o||{};var f={volume_percent:n};"device_id"in o&&(f.device_id=o.device_id);var y={type:"PUT",url:r+"/me/player/volume",params:f};return l(y,o,i)},c.prototype.setShuffle=function(n,o,i){o=o||{};var f={state:n};"device_id"in o&&(f.device_id=o.device_id);var y={type:"PUT",url:r+"/me/player/shuffle",params:f};return l(y,o,i)},c.prototype.getShow=function(n,o,i){var f={};return f.url=r+"/shows/"+n,l(f,o,i)},c.prototype.getShows=function(n,o,i){var f={url:r+"/shows/",params:{ids:n.join(",")}};return l(f,o,i)},c.prototype.getMySavedShows=function(n,o){var i={url:r+"/me/shows"};return l(i,n,o)},c.prototype.addToMySavedShows=function(n,o,i){var f={url:r+"/me/shows",type:"PUT",postData:n};return l(f,o,i)},c.prototype.removeFromMySavedShows=function(n,o,i){var f={url:r+"/me/shows",type:"DELETE",postData:n};return l(f,o,i)},c.prototype.containsMySavedShows=function(n,o,i){var f={url:r+"/me/shows/contains",params:{ids:n.join(",")}};return l(f,o,i)},c.prototype.getShowEpisodes=function(n,o,i){var f={url:r+"/shows/"+n+"/episodes"};return l(f,o,i)},c.prototype.getEpisode=function(n,o,i){var f={};return f.url=r+"/episodes/"+n,l(f,o,i)},c.prototype.getEpisodes=function(n,o,i){var f={url:r+"/episodes/",params:{ids:n.join(",")}};return l(f,o,i)},c.prototype.getAccessToken=function(){return s},c.prototype.setAccessToken=function(n){s=n},c.prototype.setPromiseImplementation=function(n){var o=!1;try{var i=new n(function(f){f()});typeof i.then=="function"&&typeof i.catch=="function"&&(o=!0)}catch(f){console.error(f)}if(o)a=n;else throw new Error("Unsupported implementation of Promises/A+")},c}();e.exports=t})(St);var dr=St.exports,mr="/assets/fullscreen.91da601f.svg",vr="/assets/close_fullscreen.7d3d3ee4.svg";function $t(e){var r,s;const t=Date.now()-((r=e==null?void 0:e.timestamp)!=null?r:Date.now());return((s=e==null?void 0:e.progress_ms)!=null?s:0)+(e!=null&&e.is_playing?t:0)}function yr(e){var t;return $t(e)-((t=e==null?void 0:e.item)==null?void 0:t.duration_ms)}function hr(e,t,r){e.progress_ms=r,t.set(e)}let z;async function gr(e){try{z&&await z,z=fetch("https://cors-anywhere.herokuapp.com/https://api.textyl.co/api/lyrics?"+new URLSearchParams({q:e}).toString(),{mode:"cors"});const t=await z;return z=void 0,t.ok?await t.json():(console.error(t),t.status===403?403:null)}catch(t){return console.log(t),null}}const jt=e=>e===void 0||e==="auto"||e==="instant"||e==="smooth";function wr(e,t){this.scrollLeft=e,this.scrollTop=t}const It=(e,t,r="cannot convert to dictionary.")=>`Failed to execute '${e}' on '${t}': ${r}`,Ct=(e,t,r)=>It(e,t,`The provided value '${r}' is not a valid enum value of type ScrollBehavior.`),me=(e,t,r)=>{var s;const a=`__SEAMLESS.BACKUP$${t}`;return!e[a]&&e[t]&&!(!((s=e[t])===null||s===void 0)&&s.__isPolyfill)&&(e[a]=e[t]),e[a]||r},Ut=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")},_r=()=>"scrollBehavior"in window.document.documentElement.style,br=e=>{Object.defineProperty(e,"__isPolyfill",{value:!0})},Dr=(e,t)=>{br(t),[HTMLElement.prototype,SVGElement.prototype,Element.prototype].forEach(r=>{me(r,e),r[e]=t})},Me=e=>e.ownerDocument.scrollingElement||e.ownerDocument.documentElement,kr=e=>.5*(1-Math.cos(Math.PI*e));function Re(){var e;let t;return!((e=window.performance)===null||e===void 0)&&e.now?t=()=>window.performance.now():t=()=>window.Date.now(),Re=t,t()}const Tr=500,Mt=e=>{const r=(Re()-e.timeStamp)/(e.duration||Tr);if(r>1){e.method(e.targetX,e.targetY),e.callback();return}const s=(e.timingFunc||kr)(r),a=e.startX+(e.targetX-e.startX)*s,p=e.startY+(e.targetY-e.startY)*s;e.method(a,p),e.rafId=window.requestAnimationFrame(()=>{Mt(e)})},ve=e=>isFinite(e)?Number(e):0,Er=e=>{var t;return(t=e.isConnected)!==null&&t!==void 0?t:!e.ownerDocument||!(e.ownerDocument.compareDocumentPosition(e)&1)},Pr=(e,t,r)=>{var s,a;if(!Er(e))return;const p=e.scrollLeft,u=e.scrollTop,v=ve((s=t.left)!==null&&s!==void 0?s:p),d=ve((a=t.top)!==null&&a!==void 0?a:u);if(v===p&&d===u)return;const m=me(HTMLElement.prototype,"scroll",wr),l=me(Object.getPrototypeOf(e),"scroll",m).bind(e);if(t.behavior!=="smooth"){l(v,d);return}const c=()=>{window.removeEventListener("wheel",o),window.removeEventListener("touchmove",o)},n=Object.assign(Object.assign({},r),{timeStamp:Re(),startX:p,startY:u,targetX:v,targetY:d,rafId:0,method:l,callback:c}),o=()=>{window.cancelAnimationFrame(n.rafId),c()};window.addEventListener("wheel",o,{passive:!0,once:!0}),window.addEventListener("touchmove",o,{passive:!0,once:!0}),Mt(n)},qr=e=>e.window===e,Lr=e=>(t,r,s)=>{const[a,p]=qr(t)?[Me(t.document.documentElement),"Window"]:[t,"Element"],u=r!=null?r:{};if(!Ut(u))throw new TypeError(It(e,p));if(!jt(u.behavior))throw new TypeError(Ct(e,p,u.behavior));e==="scrollBy"&&(u.left=ve(u.left)+a.scrollLeft,u.top=ve(u.top)+a.scrollTop),Pr(a,u,s)},Ar=Lr("scroll"),Sr=Ar,Rt=e=>{switch(e){case"horizontal-tb":case"lr":case"lr-tb":case"rl":case"rl-tb":return 0;case"vertical-rl":case"tb":case"tb-rl":return 1;case"vertical-lr":case"tb-lr":return 2;case"sideways-rl":return 3;case"sideways-lr":return 4}return 0},Wt=(e,t,r,s)=>{let a=0;switch(t||(a^=2),e){case 0:a=a>>1|(a&1)<<1,[r,s]=[s,r];break;case 1:case 3:a^=1;break;case 4:a^=2;break}return[a,r,s]},$r=e=>(Wt(Rt(e.writingMode),e.direction!=="rtl",void 0,void 0)[0]&1)===1,jr=(e,t,r)=>{const[s,a,p]=Wt(t,r,e.block||"start",e.inline||"nearest");return[a,p].map((u,v)=>{switch(u){case"center":return 1;case"nearest":return 0;default:{const d=s>>v&1;return u==="start"==!d?2:3}}})},tt=(e,t,r,s,a,p,u)=>e!==0?e:a<t&&p>r||a>t&&p<r?null:a<=t&&u<=s||p>=r&&u>=s?2:p>r&&u<s||a<t&&u>s?3:null,rt=e=>e!=="visible"&&e!=="clip",Ir=e=>{var t;try{return((t=e.ownerDocument.defaultView)===null||t===void 0?void 0:t.frameElement)||null}catch{return null}},Cr=(e,t)=>e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth?rt(t.overflowY)||rt(t.overflowX)||e===Me(e):!1,nt=e=>{const t=e.parentNode,r=e.parentElement;if(r===null&&t!==null){if(t.nodeType===11)return t.host;if(t.nodeType===9)return Ir(e)}return r},_e=(e,t,r)=>e<t?t:e>r?r:e,Ur=e=>["scroll-margin","scroll-snap-margin"].filter(t=>t in e.documentElement.style)[0],Mr=(e,t,r)=>{const{top:s,right:a,bottom:p,left:u}=t,v=Ur(e.ownerDocument);if(!v)return[s,a,p,u];const d=m=>{const l=r.getPropertyValue(`${v}-${m}`);return parseInt(l,10)||0};return[s-d("top"),a+d("right"),p+d("bottom"),u-d("left")]},ie=(e,t,r)=>{switch(e){case 1:return(t+r)/2;case 3:return r;case 2:case 0:return t}},Rr=(e,t)=>{var r,s,a;const p=(r=e.ownerDocument.defaultView)===null||r===void 0?void 0:r.visualViewport,[u,v,d,m]=e===Me(e)?[0,0,(s=p==null?void 0:p.width)!==null&&s!==void 0?s:e.clientWidth,(a=p==null?void 0:p.height)!==null&&a!==void 0?a:e.clientHeight]:[t.left,t.top,e.clientWidth,e.clientHeight],l=u+e.clientLeft,c=v+e.clientTop,n=l+d,o=c+m;return[c,n,o,l]},Wr=(e,t)=>{const r=[];let s=e.ownerDocument,a=s.defaultView;if(!a)return r;const p=window.getComputedStyle(e),u=p.direction!=="rtl",v=Rt(p.writingMode||p.getPropertyValue("-webkit-writing-mode")||p.getPropertyValue("-ms-writing-mode")),[d,m]=jr(t,v,u);let[l,c,n,o]=Mr(e,e.getBoundingClientRect(),p);for(let i=nt(e);i!==null;i=nt(i)){if(s!==i.ownerDocument){if(s=i.ownerDocument,a=s.defaultView,!a)break;const{left:H,top:X}=i.getBoundingClientRect();l+=X,c+=H,n+=X,o+=H}const f=a.getComputedStyle(i);if(f.position==="fixed")break;if(!Cr(i,f))continue;const y=i.getBoundingClientRect(),[w,h,T,b]=Rr(i,y),D=tt(d,b,h,i.clientWidth,o,c,c-o),k=tt(m,w,T,i.clientHeight,l,n,n-l),j=D===null?0:ie(D,o,c)-ie(D,b,h),C=k===null?0:ie(k,l,n)-ie(k,w,T),q=$r(f)?_e(j,-i.scrollWidth+i.clientWidth-i.scrollLeft,-i.scrollLeft):_e(j,-i.scrollLeft,i.scrollWidth-i.clientWidth-i.scrollLeft),x=_e(C,-i.scrollTop,i.scrollHeight-i.clientHeight-i.scrollTop);r.push([i,{left:i.scrollLeft+q,top:i.scrollTop+x,behavior:t.behavior}]),l=Math.max(l-x,w),c=Math.min(c-q,h),n=Math.min(n-x,T),o=Math.max(o-q,b)}return r},xr=(e,t,r)=>{const s=t||{};if(!jt(s.behavior))throw new TypeError(Ct("scrollIntoView","Element",s.behavior));Wr(e,s).forEach(([p,u])=>{Sr(p,u,r)})},xt=xr;function Or(e){xt(this,{block:e==null||e?"start":"end",inline:"nearest"})}const Fr=e=>{if(_r())return;const t=me(window.HTMLElement.prototype,"scrollIntoView",Or);Dr("scrollIntoView",function(){const s=arguments,a=s[0];if(s.length===1&&Ut(a)){xt(this,a,e);return}t.apply(this,s)})};function Vr(e){return e=e.filter(t=>t!=null),new Promise(t=>{const r=new IntersectionObserver(s=>{for(const a of s)r.unobserve(a.target),e.splice(e.indexOf(a.target),1),a.isIntersecting&&(r.disconnect(),t(!0));e.length===0&&t(!1)});for(const s of e)r.observe(s)})}function ot(e,t,r){const s=e.slice();return s[15]=t[r],s[17]=r,s}function Br(e){let t,r=e[1],s=[];for(let a=0;a<r.length;a+=1)s[a]=it(ot(e,r,a));return{c(){for(let a=0;a<s.length;a+=1)s[a].c();t=yt()},m(a,p){for(let u=0;u<s.length;u+=1)s[u].m(a,p);S(a,t,p)},p(a,p){if(p&18){r=a[1];let u;for(u=0;u<r.length;u+=1){const v=ot(a,r,u);s[u]?s[u].p(v,p):(s[u]=it(v),s[u].c(),s[u].m(t.parentNode,t))}for(;u<s.length;u+=1)s[u].d(1);s.length=r.length}},d(a){Ht(s,a),a&&A(t)}}}function Nr(e){let t,r,s,a,p,u,v;return{c(){t=P("span"),t.textContent="Can't access lyrics database",r=I(),s=P("a"),s.textContent="Enable access",a=I(),p=P("button"),p.textContent="Try again",g(t,"class","line svelte-pm5j2w"),g(s,"class","line svelte-pm5j2w"),g(s,"href","http://cors-anywhere.herokuapp.com/"),g(s,"rel","noreferrer noopener"),g(s,"target","_blank"),g(p,"class","line svelte-pm5j2w")},m(d,m){S(d,t,m),S(d,r,m),S(d,s,m),S(d,a,m),S(d,p,m),u||(v=$e(p,"click",e[6]),u=!0)},p:$,d(d){d&&A(t),d&&A(r),d&&A(s),d&&A(a),d&&A(p),u=!1,v()}}}function Hr(e){let t;return{c(){t=P("span"),t.textContent="Loading...",g(t,"class","line active svelte-pm5j2w")},m(r,s){S(r,t,s)},p:$,d(r){r&&A(t)}}}function Xr(e){let t,r,s,a,p;return{c(){var u,v,d,m,l;t=P("span"),t.textContent="No live lyrics available",r=I(),s=P("a"),a=R("View on Genius instead"),g(t,"class","line svelte-pm5j2w"),g(s,"class","line svelte-pm5j2w"),g(s,"href",p="https://genius.com/"+(((d=(v=(u=e[0])==null?void 0:u.item)==null?void 0:v.artists)==null?void 0:d.map(st).join(" "))+" "+((l=(m=e[0])==null?void 0:m.item)==null?void 0:l.name)).replaceAll(/\s/gm,"-")+"-lyrics"),g(s,"target","_blank"),g(s,"rel","noreferrer noopener")},m(u,v){S(u,t,v),S(u,r,v),S(u,s,v),E(s,a)},p(u,v){var d,m,l,c,n;v&1&&p!==(p="https://genius.com/"+(((l=(m=(d=u[0])==null?void 0:d.item)==null?void 0:m.artists)==null?void 0:l.map(st).join(" "))+" "+((n=(c=u[0])==null?void 0:c.item)==null?void 0:n.name)).replaceAll(/\s/gm,"-")+"-lyrics")&&g(s,"href",p)},d(u){u&&A(t),u&&A(r),u&&A(s)}}}function Gr(e){let t;return{c(){t=P("span"),t.textContent="Start playing something on Spotify to see the lyrics",g(t,"class","line svelte-pm5j2w")},m(r,s){S(r,t,s)},p:$,d(r){r&&A(t)}}}function it(e){let t,r=e[15].lyrics+"",s,a,p,u;return{c(){t=P("span"),s=R(r),g(t,"class","line svelte-pm5j2w"),g(t,"id",a="line-"+e[17].toString())},m(v,d){S(v,t,d),E(t,s),p||(u=$e(t,"click",e[4]),p=!0)},p(v,d){d&2&&r!==(r=v[15].lyrics+"")&&De(s,r)},d(v){v&&A(t),p=!1,u()}}}function Yr(e){let t;function r(p,u){var v;return(v=p[0])!=null&&v.item?p[1]==null?Xr:p[1]==""?Hr:p[1]==403?Nr:Br:Gr}let s=r(e),a=s(e);return{c(){t=P("article"),a.c(),g(t,"id","lines-list"),g(t,"class","svelte-pm5j2w")},m(p,u){S(p,t,u),a.m(t,null),e[7](t)},p(p,[u]){s===(s=r(p))&&a?a.p(p,u):(a.d(1),a=s(p),a&&(a.c(),a.m(t,null)))},i:$,o:$,d(p){p&&A(t),a.d(),e[7](null)}}}const st=e=>e.name;function zr(e,t,r){Fr();let s;const a=Jt();let{pbs:p}=t,u,v=null,d;async function m(h){var T,b,D,k,j;h!==void 0&&(r(0,u=h),(((T=u==null?void 0:u.item)==null?void 0:T.id)!==v||d===403)&&(r(1,d=""),v=(b=u==null?void 0:u.item)==null?void 0:b.id,r(1,d=await gr(((D=u==null?void 0:u.item)==null?void 0:D.name)+" "+((j=(k=u==null?void 0:u.item)==null?void 0:k.artists)==null?void 0:j.map(C=>C.name).join(", ")))),console.log(d)),Zt().then(c))}m(ct(p)),p.subscribe(m);let l;async function c(){if(l==null&&(console.warn("linesList == null"),r(2,l=document.getElementById("lines-list")),l==null)){console.warn("linesList not found by id");return}if(d==null||d==""||d===403)return;const h=$t(u),T=Math.floor(h/1e3),b=d.findIndex((j,C)=>j.seconds<=T&&(C+1>=d.length||d[C+1].seconds>T)),D=l.getElementsByClassName("active")[0];if(D!=null){if(parseInt(D.id.substring(5))==b)return n(b,h,d);D.classList.remove("active")}if(b==-1)return n(b,h,d);const k=document.getElementById("line-"+b);k!=null&&(k.classList.add("active"),await Vr([k,D])&&k.scrollIntoView({behavior:"smooth",block:"center"})),n(b,h,d)}function n(h,T,b){if(h<b.length-1){s!=null&&window.clearTimeout(s);const D=Math.max(b[h+1].seconds*1e3-T,1);s=window.setTimeout(c,D)}}function o(){if(l==null&&(r(2,l=document.getElementById("lines-list")),l==null))return;const h=l.getElementsByClassName("active")[0];h!=null&&h.scrollIntoView({behavior:"smooth",block:"center"})}function i(){document.visibilityState!=="hidden"&&o()}wt(()=>{c(),document.addEventListener("visibilitychange",i),document.addEventListener("fullscreenchange",i)}),_t(()=>{console.warn("Lyrics destroyed"),s!=null&&window.clearTimeout(s),document.removeEventListener("visibilitychange",i),document.removeEventListener("fullscreenchange",i)});function f(h){var k;const T=h.currentTarget;if(!T.id.startsWith("line-"))return;const b=parseInt(T.id.substring(5));if(!Array.isArray(d)||b<0||b>=d.length)return;const D=((k=d[b])==null?void 0:k.seconds)*1e3;a("skip",D)}const y=()=>{m(u)};function w(h){ce[h?"unshift":"push"](()=>{l=h,r(2,l)})}return e.$$set=h=>{"pbs"in h&&r(5,p=h.pbs)},[u,d,l,m,f,p,y,w]}class Jr extends Ue{constructor(t){super(),Ce(this,t,zr,Yr,ye,{pbs:5})}}const Kr="wakeLock"in navigator;let B=null;function Qr(){qe(),document.addEventListener("visibilitychange",qe)}function Zr(){document.removeEventListener("visibilitychange",qe),B!=null&&(B.release(),B=null)}async function qe(){Kr&&(B==null||B.released)&&document.visibilityState==="visible"&&(B=await navigator.wakeLock.request("screen"))}function at(e){let t,r,s;return{c(){t=P("div"),r=P("aside"),g(r,"class","background-cover svelte-uo24gv"),g(r,"style",s=`--img:url("${e[0]}");`),g(t,"class","background-cover svelte-uo24gv")},m(a,p){S(a,t,p),E(t,r)},p(a,p){p&1&&s!==(s=`--img:url("${a[0]}");`)&&g(r,"style",s)},d(a){a&&A(t)}}}function en(e){var x,H,X,We,xe,Oe,Fe;let t,r,s,a,p,u,v,d,m=((X=(H=(x=e[1])==null?void 0:x.item)==null?void 0:H.name)!=null?X:"No playback")+"",l,c,n,o=((Fe=(Oe=(xe=(We=e[1])==null?void 0:We.item)==null?void 0:xe.artists)==null?void 0:Oe.map(lt).join(" & "))!=null?Fe:"Live Lyrics for Spotify")+"",i,f,y,w,h,T,b,D,k,j,C;h=new Jr({props:{pbs:e[3]}}),h.$on("skip",e[4]);let q=e[0]&&at(e);return{c(){var L;t=P("main"),r=P("section"),s=P("header"),a=P("img"),u=I(),v=P("div"),d=P("h1"),l=R(m),c=I(),n=P("h2"),i=R(o),f=I(),y=P("button"),w=I(),Lt(h.$$.fragment),T=I(),q&&q.c(),g(a,"class","album-art svelte-uo24gv"),g(a,"alt","Album art"),be(a.src,p=(L=e[0])!=null?L:Ee)||g(a,"src",p),g(d,"class","song-name svelte-uo24gv"),g(n,"class","artist-name svelte-uo24gv"),g(v,"class","name-info svelte-uo24gv"),g(y,"class","fullscreen-toggle svelte-uo24gv"),g(y,"style",`--open:url("${mr}");--close:url("${vr}");`),g(s,"class","svelte-uo24gv"),g(r,"class","main-section svelte-uo24gv"),g(t,"class","svelte-uo24gv")},m(L,O){S(L,t,O),E(t,r),E(r,s),E(s,a),E(s,u),E(s,v),E(v,d),E(d,l),E(v,c),E(v,n),E(n,i),E(s,f),E(s,y),E(r,w),je(h,r,null),E(t,T),q&&q.m(t,null),e[6](t),k=!0,j||(C=$e(y,"click",e[5]),j=!0)},p(L,[O]){var Ve,Be,Ne,He,Xe,Ge,Ye,ze;(!k||O&1&&!be(a.src,p=(Ve=L[0])!=null?Ve:Ee))&&g(a,"src",p),(!k||O&2)&&m!==(m=((He=(Ne=(Be=L[1])==null?void 0:Be.item)==null?void 0:Ne.name)!=null?He:"No playback")+"")&&De(l,m),(!k||O&2)&&o!==(o=((ze=(Ye=(Ge=(Xe=L[1])==null?void 0:Xe.item)==null?void 0:Ge.artists)==null?void 0:Ye.map(lt).join(" & "))!=null?ze:"Live Lyrics for Spotify")+"")&&De(i,o),L[0]?q?q.p(L,O):(q=at(L),q.c(),q.m(t,null)):q&&(q.d(1),q=null)},i(L){k||(Z(h.$$.fragment,L),W(()=>{D&&D.end(1),b=Pt(t,de,{duration:250,delay:250}),b.start()}),k=!0)},o(L){pe(h.$$.fragment,L),b&&b.invalidate(),D=qt(t,de,{duration:250,delay:0}),k=!1},d(L){L&&A(t),Ie(h),q&&q.d(),e[6](null),L&&D&&D.end(),j=!1,C()}}}const lt=e=>e.name;function tn(e,t,r){const s=Qt("auth_data"),a=ct(s),p=new dr;p.setAccessToken(a.token);let u,v;const d=At(v);let m;wt(()=>{Qr(),c()}),_t(()=>{m!=null&&window.clearInterval(m),Zr()});let l=!1;async function c(y=!1){var w,h,T;if(!l||y){try{const D=Date.now();if(r(1,v=await p.getMyCurrentPlaybackState()),y&&(l=!1),l)return;v!=null&&v!=""&&r(1,v.timestamp=Date.now()-Math.floor((Date.now()-D)/2),v),r(0,u=(T=(h=(w=v==null?void 0:v.item)==null?void 0:w.album)==null?void 0:h.images[0])==null?void 0:T.url),l||d.set(v)}catch(D){console.error(D),s.set(void 0)}const b=yr(v);m=window.setTimeout(c,Math.min(b>0&&(v==null?void 0:v.is_playing)?b:5e3,5e3))}}function n(y){hr(v,d,y.detail),l=!0,p.seek(y.detail).then(()=>{c(!0)})}let o;function i(){document.fullscreenElement?document==null||document.exitFullscreen():o==null||o.requestFullscreen()}function f(y){ce[y?"unshift":"push"](()=>{o=y,r(2,o)})}return[u,v,o,d,n,i,f]}class rn extends Ue{constructor(t){super(),Ce(this,t,tn,en,ye,{})}}function nn(e){let t,r,s,a,p,u,v,d,m,l,c,n;return{c(){t=P("main"),r=P("article"),s=P("img"),p=I(),u=P("h1"),u.textContent="Welcome to Live Lyrics for Spotify",v=I(),d=P("a"),m=R("Sign in with Spotify"),be(s.src,a=Ee)||g(s,"src",a),g(s,"class","logo svelte-tv2ss4"),g(s,"alt","Live Lyrics for Spotify logo"),g(u,"class","svelte-tv2ss4"),g(d,"href",e[1]),g(d,"class","svelte-tv2ss4"),g(r,"class","svelte-tv2ss4"),g(t,"class","flex-container svelte-tv2ss4")},m(o,i){S(o,t,i),E(t,r),E(r,s),E(r,p),E(r,u),E(r,v),E(r,d),E(d,m),n=!0},p:$,i(o){n||(W(()=>{c&&c.end(1),l=Pt(t,de,{duration:250,delay:250}),l.start()}),n=!0)},o(o){l&&l.invalidate(),c=qt(t,de,{duration:250,delay:0}),n=!1},d(o){o&&A(t),o&&c&&c.end()}}}function on(e){let t,r;return t=new rn({}),{c(){Lt(t.$$.fragment)},m(s,a){je(t,s,a),r=!0},p:$,i(s){r||(Z(t.$$.fragment,s),r=!0)},o(s){pe(t.$$.fragment,s),r=!1},d(s){Ie(t,s)}}}function sn(e){let t,r,s,a;const p=[on,nn],u=[];function v(d,m){return d[0]?0:1}return t=v(e),r=u[t]=p[t](e),{c(){r.c(),s=yt()},m(d,m){u[t].m(d,m),S(d,s,m),a=!0},p(d,[m]){let l=t;t=v(d),t===l?u[t].p(d,m):(tr(),pe(u[l],1,1,()=>{u[l]=null}),rr(),r=u[t],r?r.p(d,m):(r=u[t]=p[t](d),r.c()),Z(r,1),r.m(s.parentNode,s))},i(d){a||(Z(r),a=!0)},o(d){pe(r),a=!1},d(d){u[t].d(d),d&&A(s)}}}function an(e,t,r){window.location.protocol==="http:"&&window.location.hostname!=="localhost"&&(window.location.protocol="https:");const s=ur({onOfflineReady(){}}),a=new URLSearchParams;a.append("client_id",pr),a.append("response_type","token"),a.append("show_dialog","false"),a.append("redirect_uri",window.location.href),a.append("scope","user-modify-playback-state user-read-playback-state user-library-modify user-read-currently-playing user-library-read");const p="https://accounts.spotify.com/authorize?"+a.toString(),u=At(fr());Kt("auth_data",u);let v;return u.subscribe(d=>r(0,v=d)),s(),[v,p]}class ln extends Ue{constructor(t){super(),Ce(this,t,an,sn,ye,{})}}new ln({target:document.getElementById("app")});
