const pn=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const p of a)if(p.type==="childList")for(const c of p.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const p={};return a.integrity&&(p.integrity=a.integrity),a.referrerpolicy&&(p.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?p.credentials="include":a.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function s(a){if(a.ep)return;a.ep=!0;const p=n(a);fetch(a.href,p)}};pn();function I(){}const Ve=e=>e;function Mt(e){return e()}function bt(){return Object.create(null)}function ee(e){e.forEach(Mt)}function Ne(e){return typeof e=="function"}function te(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let ge;function We(e,t){return ge||(ge=document.createElement("a")),ge.href=t,e===ge.href}function dn(e){return Object.keys(e).length===0}function mn(e,...t){if(e==null)return I;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Ut(e){let t;return mn(e,n=>t=n)(),t}const Rt=typeof window!="undefined";let Wt=Rt?()=>window.performance.now():()=>Date.now(),He=Rt?e=>requestAnimationFrame(e):I;const J=new Set;function Ot(e){J.forEach(t=>{t.c(e)||(J.delete(t),t.f())}),J.size!==0&&He(Ot)}function Ft(e){let t;return J.size===0&&He(Ot),{promise:new Promise(n=>{J.add(t={c:e,f:n})}),abort(){J.delete(t)}}}function w(e,t){e.appendChild(t)}function xt(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function vn(e){const t=E("style");return yn(xt(e),t),t.sheet}function yn(e,t){w(e.head||e,t)}function j(e,t,n){e.insertBefore(t,n||null)}function A(e){e.parentNode.removeChild(e)}function hn(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function E(e){return document.createElement(e)}function N(e){return document.createTextNode(e)}function $(){return N(" ")}function Bt(){return N("")}function de(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function g(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function gn(e){return Array.from(e.childNodes)}function se(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Vt(e,t,n=!1){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,n,!1,t),s}const Pe=new Map;let qe=0;function wn(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function _n(e,t){const n={stylesheet:vn(t),rules:{}};return Pe.set(e,n),n}function Nt(e,t,n,s,a,p,c,m=0){const d=16.666/s;let v=`{
`;for(let y=0;y<=1;y+=d){const k=t+(n-t)*p(y);v+=y*100+`%{${c(k,1-k)}}
`}const u=v+`100% {${c(n,1-n)}}
}`,f=`__svelte_${wn(u)}_${m}`,r=xt(e),{stylesheet:o,rules:i}=Pe.get(r)||_n(r,e);i[f]||(i[f]=!0,o.insertRule(`@keyframes ${f} ${u}`,o.cssRules.length));const l=e.style.animation||"";return e.style.animation=`${l?`${l}, `:""}${f} ${s}ms linear ${a}ms 1 both`,qe+=1,f}function Oe(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?p=>p.indexOf(t)<0:p=>p.indexOf("__svelte")===-1),a=n.length-s.length;a&&(e.style.animation=s.join(", "),qe-=a,qe||bn())}function bn(){He(()=>{qe||(Pe.forEach(e=>{const{stylesheet:t}=e;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.rules={}}),Pe.clear())})}let ue;function le(e){ue=e}function me(){if(!ue)throw new Error("Function called outside component initialization");return ue}function Xe(e){me().$$.on_mount.push(e)}function Ht(e){me().$$.on_destroy.push(e)}function Xt(){const e=me();return(t,n)=>{const s=e.$$.callbacks[t];if(s){const a=Vt(t,n);s.slice().forEach(p=>{p.call(e,a)})}}}function kn(e,t){me().$$.context.set(e,t)}function Dn(e){return me().$$.context.get(e)}const ae=[],Q=[],Ee=[],kt=[],Gt=Promise.resolve();let Fe=!1;function Yt(){Fe||(Fe=!0,Gt.then(zt))}function En(){return Yt(),Gt}function X(e){Ee.push(e)}const $e=new Set;let we=0;function zt(){const e=ue;do{for(;we<ae.length;){const t=ae[we];we++,le(t),Tn(t.$$)}for(le(null),ae.length=0,we=0;Q.length;)Q.pop()();for(let t=0;t<Ee.length;t+=1){const n=Ee[t];$e.has(n)||($e.add(n),n())}Ee.length=0}while(ae.length);for(;kt.length;)kt.pop()();Fe=!1,$e.clear(),le(e)}function Tn(e){if(e.fragment!==null){e.update(),ee(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(X)}}let re;function Jt(){return re||(re=Promise.resolve(),re.then(()=>{re=null})),re}function Le(e,t,n){e.dispatchEvent(Vt(`${t?"intro":"outro"}${n}`))}const Te=new Set;let H;function Pn(){H={r:0,c:[],p:H}}function qn(){H.r||ee(H.c),H=H.p}function G(e,t){e&&e.i&&(Te.delete(e),e.i(t))}function Z(e,t,n,s){if(e&&e.o){if(Te.has(e))return;Te.add(e),H.c.push(()=>{Te.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}}const Kt={duration:0};function Qt(e,t,n){let s=t(e,n),a=!1,p,c,m=0;function d(){p&&Oe(e,p)}function v(){const{delay:f=0,duration:r=300,easing:o=Ve,tick:i=I,css:l}=s||Kt;l&&(p=Nt(e,0,1,r,f,o,l,m++)),i(0,1);const y=Wt()+f,k=y+r;c&&c.abort(),a=!0,X(()=>Le(e,!0,"start")),c=Ft(h=>{if(a){if(h>=k)return i(1,0),Le(e,!0,"end"),d(),a=!1;if(h>=y){const b=o((h-y)/r);i(b,1-b)}}return a})}let u=!1;return{start(){u||(u=!0,Oe(e),Ne(s)?(s=s(),Jt().then(v)):v())},invalidate(){u=!1},end(){a&&(d(),a=!1)}}}function Zt(e,t,n){let s=t(e,n),a=!0,p;const c=H;c.r+=1;function m(){const{delay:d=0,duration:v=300,easing:u=Ve,tick:f=I,css:r}=s||Kt;r&&(p=Nt(e,1,0,v,d,u,r));const o=Wt()+d,i=o+v;X(()=>Le(e,!1,"start")),Ft(l=>{if(a){if(l>=i)return f(0,1),Le(e,!1,"end"),--c.r||ee(c.c),!1;if(l>=o){const y=u((l-o)/v);f(1-y,y)}}return a})}return Ne(s)?Jt().then(()=>{s=s(),m()}):m(),{end(d){d&&s.tick&&s.tick(1,0),a&&(p&&Oe(e,p),a=!1)}}}function Se(e){e&&e.c()}function ce(e,t,n,s){const{fragment:a,on_mount:p,on_destroy:c,after_update:m}=e.$$;a&&a.m(t,n),s||X(()=>{const d=p.map(Mt).filter(Ne);c?c.push(...d):ee(d),e.$$.on_mount=[]}),m.forEach(X)}function fe(e,t){const n=e.$$;n.fragment!==null&&(ee(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ln(e,t){e.$$.dirty[0]===-1&&(ae.push(e),Yt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ve(e,t,n,s,a,p,c,m=[-1]){const d=ue;le(e);const v=e.$$={fragment:null,ctx:null,props:p,update:I,not_equal:a,bound:bt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:bt(),dirty:m,skip_bound:!1,root:t.target||d.$$.root};c&&c(v.root);let u=!1;if(v.ctx=n?n(e,t.props||{},(f,r,...o)=>{const i=o.length?o[0]:r;return v.ctx&&a(v.ctx[f],v.ctx[f]=i)&&(!v.skip_bound&&v.bound[f]&&v.bound[f](i),u&&Ln(e,f)),r}):[],v.update(),u=!0,ee(v.before_update),v.fragment=s?s(v.ctx):!1,t.target){if(t.hydrate){const f=gn(t.target);v.fragment&&v.fragment.l(f),f.forEach(A)}else v.fragment&&v.fragment.c();t.intro&&G(e.$$.fragment),ce(e,t.target,t.anchor,t.customElement),zt()}le(d)}class ye{$destroy(){fe(this,1),this.$destroy=I}$on(t,n){const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const a=s.indexOf(n);a!==-1&&s.splice(a,1)}}$set(t){this.$$set&&!dn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}try{self["workbox:window:6.5.1"]&&_()}catch{}function Dt(e,t){return new Promise(function(n){var s=new MessageChannel;s.port1.onmessage=function(a){n(a.data)},e.postMessage(t,[s.port2])})}function Sn(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function Et(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function An(e,t){var n;if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=function(a,p){if(a){if(typeof a=="string")return Et(a,p);var c=Object.prototype.toString.call(a).slice(8,-1);return c==="Object"&&a.constructor&&(c=a.constructor.name),c==="Map"||c==="Set"?Array.from(a):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Et(a,p):void 0}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=e[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.1"]&&_()}catch{}var Me=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})};function Ue(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}var oe=function(e,t){this.type=e,Object.assign(this,t)};function _e(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function jn(){}var In={type:"SKIP_WAITING"};function Tt(e,t){if(!t)return e&&e.then?e.then(jn):Promise.resolve()}var Cn=function(e){var t,n;function s(m,d){var v,u;return d===void 0&&(d={}),(v=e.call(this)||this).nn={},v.tn=0,v.rn=new Me,v.en=new Me,v.on=new Me,v.un=0,v.an=new Set,v.cn=function(){var f=v.fn,r=f.installing;v.tn>0||!Ue(r.scriptURL,v.sn.toString())||performance.now()>v.un+6e4?(v.vn=r,f.removeEventListener("updatefound",v.cn)):(v.hn=r,v.an.add(r),v.rn.resolve(r)),++v.tn,r.addEventListener("statechange",v.ln)},v.ln=function(f){var r=v.fn,o=f.target,i=o.state,l=o===v.vn,y={sw:o,isExternal:l,originalEvent:f};!l&&v.mn&&(y.isUpdate=!0),v.dispatchEvent(new oe(i,y)),i==="installed"?v.wn=self.setTimeout(function(){i==="installed"&&r.waiting===o&&v.dispatchEvent(new oe("waiting",y))},200):i==="activating"&&(clearTimeout(v.wn),l||v.en.resolve(o))},v.dn=function(f){var r=v.hn,o=r!==navigator.serviceWorker.controller;v.dispatchEvent(new oe("controlling",{isExternal:o,originalEvent:f,sw:r,isUpdate:v.mn})),o||v.on.resolve(r)},v.gn=(u=function(f){var r=f.data,o=f.ports,i=f.source;return _e(v.getSW(),function(){v.an.has(i)&&v.dispatchEvent(new oe("message",{data:r,originalEvent:f,ports:o,sw:i}))})},function(){for(var f=[],r=0;r<arguments.length;r++)f[r]=arguments[r];try{return Promise.resolve(u.apply(this,f))}catch(o){return Promise.reject(o)}}),v.sn=m,v.nn=d,navigator.serviceWorker.addEventListener("message",v.gn),v}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,p,c=s.prototype;return c.register=function(m){var d=(m===void 0?{}:m).immediate,v=d!==void 0&&d;try{var u=this;return function(f,r){var o=f();return o&&o.then?o.then(r):r(o)}(function(){if(!v&&document.readyState!=="complete")return Tt(new Promise(function(f){return window.addEventListener("load",f)}))},function(){return u.mn=Boolean(navigator.serviceWorker.controller),u.yn=u.pn(),_e(u.bn(),function(f){u.fn=f,u.yn&&(u.hn=u.yn,u.en.resolve(u.yn),u.on.resolve(u.yn),u.yn.addEventListener("statechange",u.ln,{once:!0}));var r=u.fn.waiting;return r&&Ue(r.scriptURL,u.sn.toString())&&(u.hn=r,Promise.resolve().then(function(){u.dispatchEvent(new oe("waiting",{sw:r,wasWaitingBeforeRegister:!0}))}).then(function(){})),u.hn&&(u.rn.resolve(u.hn),u.an.add(u.hn)),u.fn.addEventListener("updatefound",u.cn),navigator.serviceWorker.addEventListener("controllerchange",u.dn),u.fn})})}catch(f){return Promise.reject(f)}},c.update=function(){try{return this.fn?Tt(this.fn.update()):void 0}catch(m){return Promise.reject(m)}},c.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},c.messageSW=function(m){try{return _e(this.getSW(),function(d){return Dt(d,m)})}catch(d){return Promise.reject(d)}},c.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Dt(this.fn.waiting,In)},c.pn=function(){var m=navigator.serviceWorker.controller;return m&&Ue(m.scriptURL,this.sn.toString())?m:void 0},c.bn=function(){try{var m=this;return function(d,v){try{var u=d()}catch(f){return v(f)}return u&&u.then?u.then(void 0,v):u}(function(){return _e(navigator.serviceWorker.register(m.sn,m.nn),function(d){return m.un=performance.now(),d})},function(d){throw d})}catch(d){return Promise.reject(d)}},a=s,(p=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&Sn(a.prototype,p),s}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(n,s){this.Sn(n).add(s)},t.removeEventListener=function(n,s){this.Sn(n).delete(s)},t.dispatchEvent=function(n){n.target=this;for(var s,a=An(this.Sn(n.type));!(s=a()).done;)(0,s.value)(n)},t.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},e}());function $n(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:s,onRegistered:a,onRegisterError:p}=e;let c;const m=async(d=!0)=>{};return"serviceWorker"in navigator&&(c=new Cn("/sw.js",{scope:"/",type:"classic"}),c.addEventListener("activated",d=>{d.isUpdate?window.location.reload():s==null||s()}),c.register({immediate:t}).then(d=>{a==null||a(d)}).catch(d=>{p==null||p(d)})),m}var pe="/assets/llfs.b089f5f9.svg";/*! js-cookie v3.0.1 | MIT */function be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)e[s]=n[s]}return e}var Mn={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function xe(e,t){function n(a,p,c){if(typeof document!="undefined"){c=be({},t,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var m="";for(var d in c)!c[d]||(m+="; "+d,c[d]!==!0&&(m+="="+c[d].split(";")[0]));return document.cookie=a+"="+e.write(p,a)+m}}function s(a){if(!(typeof document=="undefined"||arguments.length&&!a)){for(var p=document.cookie?document.cookie.split("; "):[],c={},m=0;m<p.length;m++){var d=p[m].split("="),v=d.slice(1).join("=");try{var u=decodeURIComponent(d[0]);if(c[u]=e.read(v,u),a===u)break}catch{}}return a?c[a]:c}}return Object.create({set:n,get:s,remove:function(a,p){n(a,"",be({},p,{expires:-1}))},withAttributes:function(a){return xe(this.converter,be({},this.attributes,a))},withConverter:function(a){return xe(be({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var F=xe(Mn,{path:"/"});function Un(){{const e=new URLSearchParams(window.location.hash.substring(1));if(e.has("access_token")&&e.has("expires_in")&&(F.set("token",e.get("access_token"),{sameSite:"Strict"}),F.set("expires_at",(Date.now()+parseInt(e.get("expires_in"))*1e3).toString(),{sameSite:"Strict"}),window.history.replaceState({},document.title,"/")),F.get("token")&&F.get("expires_at")&&F.get("expires_at")>Date.now().toString())return{token:F.get("token"),expiresAt:parseInt(F.get("expires_at"))}}}const Rn="285cd29de87649a5b55bc8ad56734d44";function Ae(e,{delay:t=0,duration:n=400,easing:s=Ve}={}){const a=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:s,css:p=>`opacity: ${p*a}`}}const z=[];function en(e,t=I){let n;const s=new Set;function a(m){if(te(e,m)&&(e=m,n)){const d=!z.length;for(const v of s)v[1](),z.push(v,e);if(d){for(let v=0;v<z.length;v+=2)z[v][0](z[v+1]);z.length=0}}}function p(m){a(m(e))}function c(m,d=I){const v=[m,d];return s.add(v),s.size===1&&(n=t(a)||I),m(e),()=>{s.delete(v),s.size===0&&(n(),n=null)}}return{set:a,update:p,subscribe:c}}var tn={exports:{}};(function(e){var t=function(){var n="https://api.spotify.com/v1",s=null,a=null,p=function(r,o){return r.abort=o,r},c=function(r,o){var i;if(a!==null){var l=a.defer();r(function(y){l.resolve(y)},function(y){l.reject(y)}),i=l.promise}else window.Promise&&(i=new window.Promise(r));return i?new p(i,o):null},m=function(){var r=Array.prototype.slice.call(arguments),o=r[0],i=r.slice(1);return o=o||{},i.forEach(function(l){for(var y in l)l.hasOwnProperty(y)&&(o[y]=l[y])}),o},d=function(r,o){var i="";for(var l in o)if(o.hasOwnProperty(l)){var y=o[l];i+=encodeURIComponent(l)+"="+encodeURIComponent(y)+"&"}return i.length>0&&(i=i.substring(0,i.length-1),r=r+"?"+i),r},v=function(r,o){var i=new XMLHttpRequest,l=function(y,k){function h(q){y&&y(q),o&&o(null,q)}function b(){k&&k(i),o&&o(i,null)}var P=r.type||"GET";if(i.open(P,d(r.url,r.params)),s&&i.setRequestHeader("Authorization","Bearer "+s),i.onreadystatechange=function(){if(i.readyState===4){var q=null;try{q=i.responseText?JSON.parse(i.responseText):""}catch(S){console.error(S)}i.status>=200&&i.status<300?h(q):b()}},P==="GET")i.send(null);else{var T=null;r.postData&&(r.contentType==="image/jpeg"?(T=r.postData,i.setRequestHeader("Content-Type",r.contentType)):(T=JSON.stringify(r.postData),i.setRequestHeader("Content-Type","application/json"))),i.send(T)}};return o?(l(),null):c(l,function(){i.abort()})},u=function(r,o,i,l){var y={},k=null;typeof o=="object"?(y=o,k=i):typeof o=="function"&&(k=o);var h=r.type||"GET";return h!=="GET"&&r.postData&&!l?r.postData=m(r.postData,y):r.params=m(r.params,y),v(r,k)},f=function(){};return f.prototype={constructor:t},f.prototype.getGeneric=function(r,o){var i={url:r};return u(i,o)},f.prototype.getMe=function(r,o){var i={url:n+"/me"};return u(i,r,o)},f.prototype.getMySavedTracks=function(r,o){var i={url:n+"/me/tracks"};return u(i,r,o)},f.prototype.addToMySavedTracks=function(r,o,i){var l={url:n+"/me/tracks",type:"PUT",postData:r};return u(l,o,i)},f.prototype.removeFromMySavedTracks=function(r,o,i){var l={url:n+"/me/tracks",type:"DELETE",postData:r};return u(l,o,i)},f.prototype.containsMySavedTracks=function(r,o,i){var l={url:n+"/me/tracks/contains",params:{ids:r.join(",")}};return u(l,o,i)},f.prototype.getMySavedAlbums=function(r,o){var i={url:n+"/me/albums"};return u(i,r,o)},f.prototype.addToMySavedAlbums=function(r,o,i){var l={url:n+"/me/albums",type:"PUT",postData:r};return u(l,o,i)},f.prototype.removeFromMySavedAlbums=function(r,o,i){var l={url:n+"/me/albums",type:"DELETE",postData:r};return u(l,o,i)},f.prototype.containsMySavedAlbums=function(r,o,i){var l={url:n+"/me/albums/contains",params:{ids:r.join(",")}};return u(l,o,i)},f.prototype.getMyTopArtists=function(r,o){var i={url:n+"/me/top/artists"};return u(i,r,o)},f.prototype.getMyTopTracks=function(r,o){var i={url:n+"/me/top/tracks"};return u(i,r,o)},f.prototype.getMyRecentlyPlayedTracks=function(r,o){var i={url:n+"/me/player/recently-played"};return u(i,r,o)},f.prototype.followUsers=function(r,o){var i={url:n+"/me/following/",type:"PUT",params:{ids:r.join(","),type:"user"}};return u(i,o)},f.prototype.followArtists=function(r,o){var i={url:n+"/me/following/",type:"PUT",params:{ids:r.join(","),type:"artist"}};return u(i,o)},f.prototype.followPlaylist=function(r,o,i){var l={url:n+"/playlists/"+r+"/followers",type:"PUT",postData:{}};return u(l,o,i)},f.prototype.unfollowUsers=function(r,o){var i={url:n+"/me/following/",type:"DELETE",params:{ids:r.join(","),type:"user"}};return u(i,o)},f.prototype.unfollowArtists=function(r,o){var i={url:n+"/me/following/",type:"DELETE",params:{ids:r.join(","),type:"artist"}};return u(i,o)},f.prototype.unfollowPlaylist=function(r,o){var i={url:n+"/playlists/"+r+"/followers",type:"DELETE"};return u(i,o)},f.prototype.isFollowingUsers=function(r,o){var i={url:n+"/me/following/contains",type:"GET",params:{ids:r.join(","),type:"user"}};return u(i,o)},f.prototype.isFollowingArtists=function(r,o){var i={url:n+"/me/following/contains",type:"GET",params:{ids:r.join(","),type:"artist"}};return u(i,o)},f.prototype.areFollowingPlaylist=function(r,o,i){var l={url:n+"/playlists/"+r+"/followers/contains",type:"GET",params:{ids:o.join(",")}};return u(l,i)},f.prototype.getFollowedArtists=function(r,o){var i={url:n+"/me/following",type:"GET",params:{type:"artist"}};return u(i,r,o)},f.prototype.getUser=function(r,o,i){var l={url:n+"/users/"+encodeURIComponent(r)};return u(l,o,i)},f.prototype.getUserPlaylists=function(r,o,i){var l;return typeof r=="string"?l={url:n+"/users/"+encodeURIComponent(r)+"/playlists"}:(l={url:n+"/me/playlists"},i=o,o=r),u(l,o,i)},f.prototype.getPlaylist=function(r,o,i){var l={url:n+"/playlists/"+r};return u(l,o,i)},f.prototype.getPlaylistTracks=function(r,o,i){var l={url:n+"/playlists/"+r+"/tracks"};return u(l,o,i)},f.prototype.getPlaylistCoverImage=function(r,o){var i={url:n+"/playlists/"+r+"/images"};return u(i,o)},f.prototype.createPlaylist=function(r,o,i){var l={url:n+"/users/"+encodeURIComponent(r)+"/playlists",type:"POST",postData:o};return u(l,o,i)},f.prototype.changePlaylistDetails=function(r,o,i){var l={url:n+"/playlists/"+r,type:"PUT",postData:o};return u(l,o,i)},f.prototype.addTracksToPlaylist=function(r,o,i,l){var y={url:n+"/playlists/"+r+"/tracks",type:"POST",postData:{uris:o}};return u(y,i,l,!0)},f.prototype.replaceTracksInPlaylist=function(r,o,i){var l={url:n+"/playlists/"+r+"/tracks",type:"PUT",postData:{uris:o}};return u(l,{},i)},f.prototype.reorderTracksInPlaylist=function(r,o,i,l,y){var k={url:n+"/playlists/"+r+"/tracks",type:"PUT",postData:{range_start:o,insert_before:i}};return u(k,l,y)},f.prototype.removeTracksFromPlaylist=function(r,o,i){var l=o.map(function(k){return typeof k=="string"?{uri:k}:k}),y={url:n+"/playlists/"+r+"/tracks",type:"DELETE",postData:{tracks:l}};return u(y,{},i)},f.prototype.removeTracksFromPlaylistWithSnapshotId=function(r,o,i,l){var y=o.map(function(h){return typeof h=="string"?{uri:h}:h}),k={url:n+"/playlists/"+r+"/tracks",type:"DELETE",postData:{tracks:y,snapshot_id:i}};return u(k,{},l)},f.prototype.removeTracksFromPlaylistInPositions=function(r,o,i,l){var y={url:n+"/playlists/"+r+"/tracks",type:"DELETE",postData:{positions:o,snapshot_id:i}};return u(y,{},l)},f.prototype.uploadCustomPlaylistCoverImage=function(r,o,i){var l={url:n+"/playlists/"+r+"/images",type:"PUT",postData:o.replace(/^data:image\/jpeg;base64,/,""),contentType:"image/jpeg"};return u(l,{},i)},f.prototype.getAlbum=function(r,o,i){var l={url:n+"/albums/"+r};return u(l,o,i)},f.prototype.getAlbumTracks=function(r,o,i){var l={url:n+"/albums/"+r+"/tracks"};return u(l,o,i)},f.prototype.getAlbums=function(r,o,i){var l={url:n+"/albums/",params:{ids:r.join(",")}};return u(l,o,i)},f.prototype.getTrack=function(r,o,i){var l={};return l.url=n+"/tracks/"+r,u(l,o,i)},f.prototype.getTracks=function(r,o,i){var l={url:n+"/tracks/",params:{ids:r.join(",")}};return u(l,o,i)},f.prototype.getArtist=function(r,o,i){var l={url:n+"/artists/"+r};return u(l,o,i)},f.prototype.getArtists=function(r,o,i){var l={url:n+"/artists/",params:{ids:r.join(",")}};return u(l,o,i)},f.prototype.getArtistAlbums=function(r,o,i){var l={url:n+"/artists/"+r+"/albums"};return u(l,o,i)},f.prototype.getArtistTopTracks=function(r,o,i,l){var y={url:n+"/artists/"+r+"/top-tracks",params:{country:o}};return u(y,i,l)},f.prototype.getArtistRelatedArtists=function(r,o,i){var l={url:n+"/artists/"+r+"/related-artists"};return u(l,o,i)},f.prototype.getFeaturedPlaylists=function(r,o){var i={url:n+"/browse/featured-playlists"};return u(i,r,o)},f.prototype.getNewReleases=function(r,o){var i={url:n+"/browse/new-releases"};return u(i,r,o)},f.prototype.getCategories=function(r,o){var i={url:n+"/browse/categories"};return u(i,r,o)},f.prototype.getCategory=function(r,o,i){var l={url:n+"/browse/categories/"+r};return u(l,o,i)},f.prototype.getCategoryPlaylists=function(r,o,i){var l={url:n+"/browse/categories/"+r+"/playlists"};return u(l,o,i)},f.prototype.search=function(r,o,i,l){var y={url:n+"/search/",params:{q:r,type:o.join(",")}};return u(y,i,l)},f.prototype.searchAlbums=function(r,o,i){return this.search(r,["album"],o,i)},f.prototype.searchArtists=function(r,o,i){return this.search(r,["artist"],o,i)},f.prototype.searchTracks=function(r,o,i){return this.search(r,["track"],o,i)},f.prototype.searchPlaylists=function(r,o,i){return this.search(r,["playlist"],o,i)},f.prototype.searchShows=function(r,o,i){return this.search(r,["show"],o,i)},f.prototype.searchEpisodes=function(r,o,i){return this.search(r,["episode"],o,i)},f.prototype.getAudioFeaturesForTrack=function(r,o){var i={};return i.url=n+"/audio-features/"+r,u(i,{},o)},f.prototype.getAudioFeaturesForTracks=function(r,o){var i={url:n+"/audio-features",params:{ids:r}};return u(i,{},o)},f.prototype.getAudioAnalysisForTrack=function(r,o){var i={};return i.url=n+"/audio-analysis/"+r,u(i,{},o)},f.prototype.getRecommendations=function(r,o){var i={url:n+"/recommendations"};return u(i,r,o)},f.prototype.getAvailableGenreSeeds=function(r){var o={url:n+"/recommendations/available-genre-seeds"};return u(o,{},r)},f.prototype.getMyDevices=function(r){var o={url:n+"/me/player/devices"};return u(o,{},r)},f.prototype.getMyCurrentPlaybackState=function(r,o){var i={url:n+"/me/player"};return u(i,r,o)},f.prototype.getMyCurrentPlayingTrack=function(r,o){var i={url:n+"/me/player/currently-playing"};return u(i,r,o)},f.prototype.transferMyPlayback=function(r,o,i){var l=o||{};l.device_ids=r;var y={type:"PUT",url:n+"/me/player",postData:l};return u(y,o,i)},f.prototype.play=function(r,o){r=r||{};var i="device_id"in r?{device_id:r.device_id}:null,l={};["context_uri","uris","offset","position_ms"].forEach(function(h){h in r&&(l[h]=r[h])});var y={type:"PUT",url:n+"/me/player/play",params:i,postData:l},k=typeof r=="function"?r:{};return u(y,k,o)},f.prototype.queue=function(r,o,i){o=o||{};var l="device_id"in o?{uri:r,device_id:o.device_id}:{uri:r},y={type:"POST",url:n+"/me/player/queue",params:l};return u(y,o,i)},f.prototype.pause=function(r,o){r=r||{};var i="device_id"in r?{device_id:r.device_id}:null,l={type:"PUT",url:n+"/me/player/pause",params:i};return u(l,r,o)},f.prototype.skipToNext=function(r,o){r=r||{};var i="device_id"in r?{device_id:r.device_id}:null,l={type:"POST",url:n+"/me/player/next",params:i};return u(l,r,o)},f.prototype.skipToPrevious=function(r,o){r=r||{};var i="device_id"in r?{device_id:r.device_id}:null,l={type:"POST",url:n+"/me/player/previous",params:i};return u(l,r,o)},f.prototype.seek=function(r,o,i){o=o||{};var l={position_ms:r};"device_id"in o&&(l.device_id=o.device_id);var y={type:"PUT",url:n+"/me/player/seek",params:l};return u(y,o,i)},f.prototype.setRepeat=function(r,o,i){o=o||{};var l={state:r};"device_id"in o&&(l.device_id=o.device_id);var y={type:"PUT",url:n+"/me/player/repeat",params:l};return u(y,o,i)},f.prototype.setVolume=function(r,o,i){o=o||{};var l={volume_percent:r};"device_id"in o&&(l.device_id=o.device_id);var y={type:"PUT",url:n+"/me/player/volume",params:l};return u(y,o,i)},f.prototype.setShuffle=function(r,o,i){o=o||{};var l={state:r};"device_id"in o&&(l.device_id=o.device_id);var y={type:"PUT",url:n+"/me/player/shuffle",params:l};return u(y,o,i)},f.prototype.getShow=function(r,o,i){var l={};return l.url=n+"/shows/"+r,u(l,o,i)},f.prototype.getShows=function(r,o,i){var l={url:n+"/shows/",params:{ids:r.join(",")}};return u(l,o,i)},f.prototype.getMySavedShows=function(r,o){var i={url:n+"/me/shows"};return u(i,r,o)},f.prototype.addToMySavedShows=function(r,o,i){var l={url:n+"/me/shows",type:"PUT",postData:r};return u(l,o,i)},f.prototype.removeFromMySavedShows=function(r,o,i){var l={url:n+"/me/shows",type:"DELETE",postData:r};return u(l,o,i)},f.prototype.containsMySavedShows=function(r,o,i){var l={url:n+"/me/shows/contains",params:{ids:r.join(",")}};return u(l,o,i)},f.prototype.getShowEpisodes=function(r,o,i){var l={url:n+"/shows/"+r+"/episodes"};return u(l,o,i)},f.prototype.getEpisode=function(r,o,i){var l={};return l.url=n+"/episodes/"+r,u(l,o,i)},f.prototype.getEpisodes=function(r,o,i){var l={url:n+"/episodes/",params:{ids:r.join(",")}};return u(l,o,i)},f.prototype.getAccessToken=function(){return s},f.prototype.setAccessToken=function(r){s=r},f.prototype.setPromiseImplementation=function(r){var o=!1;try{var i=new r(function(l){l()});typeof i.then=="function"&&typeof i.catch=="function"&&(o=!0)}catch(l){console.error(l)}if(o)a=r;else throw new Error("Unsupported implementation of Promises/A+")},f}();e.exports=t})(tn);var Wn=tn.exports,On="/assets/fullscreen.91da601f.svg",Fn="/assets/close_fullscreen.7d3d3ee4.svg";function Ge(e){var n,s;const t=Date.now()-((n=e==null?void 0:e.timestamp)!=null?n:Date.now());return((s=e==null?void 0:e.progress_ms)!=null?s:0)+(e!=null&&e.is_playing?t:0)}function xn(e){var t;return Ge(e)-((t=e==null?void 0:e.item)==null?void 0:t.duration_ms)}function Bn(e,t,n){e.progress_ms=n,t.set(e)}let ie;async function Pt(e){if(localStorage){const t=JSON.parse(localStorage.getItem(e));if(t!=null)return t}return Vn(e)}async function Vn(e){try{ie&&await ie,ie=fetch("https://cors-anywhere.herokuapp.com/https://api.textyl.co/api/lyrics?"+new URLSearchParams({q:e}).toString(),{mode:"cors"});const t=await ie;if(ie=void 0,!t.ok)return console.error(t),t.status===403?403:null;const n=await t.json();return localStorage&&localStorage.setItem(e,JSON.stringify(n)),n}catch(t){return console.log(t),null}}const nn=e=>e===void 0||e==="auto"||e==="instant"||e==="smooth";function Nn(e,t){this.scrollLeft=e,this.scrollTop=t}const rn=(e,t,n="cannot convert to dictionary.")=>`Failed to execute '${e}' on '${t}': ${n}`,on=(e,t,n)=>rn(e,t,`The provided value '${n}' is not a valid enum value of type ScrollBehavior.`),je=(e,t,n)=>{var s;const a=`__SEAMLESS.BACKUP$${t}`;return!e[a]&&e[t]&&!(!((s=e[t])===null||s===void 0)&&s.__isPolyfill)&&(e[a]=e[t]),e[a]||n},sn=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")},Hn=()=>"scrollBehavior"in window.document.documentElement.style,Xn=e=>{Object.defineProperty(e,"__isPolyfill",{value:!0})},Gn=(e,t)=>{Xn(t),[HTMLElement.prototype,SVGElement.prototype,Element.prototype].forEach(n=>{je(n,e),n[e]=t})},Ye=e=>e.ownerDocument.scrollingElement||e.ownerDocument.documentElement,Yn=e=>.5*(1-Math.cos(Math.PI*e));function ze(){var e;let t;return!((e=window.performance)===null||e===void 0)&&e.now?t=()=>window.performance.now():t=()=>window.Date.now(),ze=t,t()}const zn=500,an=e=>{const n=(ze()-e.timeStamp)/(e.duration||zn);if(n>1){e.method(e.targetX,e.targetY),e.callback();return}const s=(e.timingFunc||Yn)(n),a=e.startX+(e.targetX-e.startX)*s,p=e.startY+(e.targetY-e.startY)*s;e.method(a,p),e.rafId=window.requestAnimationFrame(()=>{an(e)})},Ie=e=>isFinite(e)?Number(e):0,Jn=e=>{var t;return(t=e.isConnected)!==null&&t!==void 0?t:!e.ownerDocument||!(e.ownerDocument.compareDocumentPosition(e)&1)},Kn=(e,t,n)=>{var s,a;if(!Jn(e))return;const p=e.scrollLeft,c=e.scrollTop,m=Ie((s=t.left)!==null&&s!==void 0?s:p),d=Ie((a=t.top)!==null&&a!==void 0?a:c);if(m===p&&d===c)return;const v=je(HTMLElement.prototype,"scroll",Nn),u=je(Object.getPrototypeOf(e),"scroll",v).bind(e);if(t.behavior!=="smooth"){u(m,d);return}const f=()=>{window.removeEventListener("wheel",o),window.removeEventListener("touchmove",o)},r=Object.assign(Object.assign({},n),{timeStamp:ze(),startX:p,startY:c,targetX:m,targetY:d,rafId:0,method:u,callback:f}),o=()=>{window.cancelAnimationFrame(r.rafId),f()};window.addEventListener("wheel",o,{passive:!0,once:!0}),window.addEventListener("touchmove",o,{passive:!0,once:!0}),an(r)},Qn=e=>e.window===e,Zn=e=>(t,n,s)=>{const[a,p]=Qn(t)?[Ye(t.document.documentElement),"Window"]:[t,"Element"],c=n!=null?n:{};if(!sn(c))throw new TypeError(rn(e,p));if(!nn(c.behavior))throw new TypeError(on(e,p,c.behavior));e==="scrollBy"&&(c.left=Ie(c.left)+a.scrollLeft,c.top=Ie(c.top)+a.scrollTop),Kn(a,c,s)},er=Zn("scroll"),tr=er,ln=e=>{switch(e){case"horizontal-tb":case"lr":case"lr-tb":case"rl":case"rl-tb":return 0;case"vertical-rl":case"tb":case"tb-rl":return 1;case"vertical-lr":case"tb-lr":return 2;case"sideways-rl":return 3;case"sideways-lr":return 4}return 0},un=(e,t,n,s)=>{let a=0;switch(t||(a^=2),e){case 0:a=a>>1|(a&1)<<1,[n,s]=[s,n];break;case 1:case 3:a^=1;break;case 4:a^=2;break}return[a,n,s]},nr=e=>(un(ln(e.writingMode),e.direction!=="rtl",void 0,void 0)[0]&1)===1,rr=(e,t,n)=>{const[s,a,p]=un(t,n,e.block||"start",e.inline||"nearest");return[a,p].map((c,m)=>{switch(c){case"center":return 1;case"nearest":return 0;default:{const d=s>>m&1;return c==="start"==!d?2:3}}})},qt=(e,t,n,s,a,p,c)=>e!==0?e:a<t&&p>n||a>t&&p<n?null:a<=t&&c<=s||p>=n&&c>=s?2:p>n&&c<s||a<t&&c>s?3:null,Lt=e=>e!=="visible"&&e!=="clip",or=e=>{var t;try{return((t=e.ownerDocument.defaultView)===null||t===void 0?void 0:t.frameElement)||null}catch{return null}},ir=(e,t)=>e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth?Lt(t.overflowY)||Lt(t.overflowX)||e===Ye(e):!1,St=e=>{const t=e.parentNode,n=e.parentElement;if(n===null&&t!==null){if(t.nodeType===11)return t.host;if(t.nodeType===9)return or(e)}return n},Re=(e,t,n)=>e<t?t:e>n?n:e,sr=e=>["scroll-margin","scroll-snap-margin"].filter(t=>t in e.documentElement.style)[0],ar=(e,t,n)=>{const{top:s,right:a,bottom:p,left:c}=t,m=sr(e.ownerDocument);if(!m)return[s,a,p,c];const d=v=>{const u=n.getPropertyValue(`${m}-${v}`);return parseInt(u,10)||0};return[s-d("top"),a+d("right"),p+d("bottom"),c-d("left")]},ke=(e,t,n)=>{switch(e){case 1:return(t+n)/2;case 3:return n;case 2:case 0:return t}},lr=(e,t)=>{var n,s,a;const p=(n=e.ownerDocument.defaultView)===null||n===void 0?void 0:n.visualViewport,[c,m,d,v]=e===Ye(e)?[0,0,(s=p==null?void 0:p.width)!==null&&s!==void 0?s:e.clientWidth,(a=p==null?void 0:p.height)!==null&&a!==void 0?a:e.clientHeight]:[t.left,t.top,e.clientWidth,e.clientHeight],u=c+e.clientLeft,f=m+e.clientTop,r=u+d,o=f+v;return[f,r,o,u]},ur=(e,t)=>{const n=[];let s=e.ownerDocument,a=s.defaultView;if(!a)return n;const p=window.getComputedStyle(e),c=p.direction!=="rtl",m=ln(p.writingMode||p.getPropertyValue("-webkit-writing-mode")||p.getPropertyValue("-ms-writing-mode")),[d,v]=rr(t,m,c);let[u,f,r,o]=ar(e,e.getBoundingClientRect(),p);for(let i=St(e);i!==null;i=St(i)){if(s!==i.ownerDocument){if(s=i.ownerDocument,a=s.defaultView,!a)break;const{left:C,top:W}=i.getBoundingClientRect();u+=W,f+=C,r+=W,o+=C}const l=a.getComputedStyle(i);if(l.position==="fixed")break;if(!ir(i,l))continue;const y=i.getBoundingClientRect(),[k,h,b,P]=lr(i,y),T=qt(d,P,h,i.clientWidth,o,f,f-o),q=qt(v,k,b,i.clientHeight,u,r,r-u),S=T===null?0:ke(T,o,f)-ke(T,P,h),R=q===null?0:ke(q,u,r)-ke(q,k,b),M=nr(l)?Re(S,-i.scrollWidth+i.clientWidth-i.scrollLeft,-i.scrollLeft):Re(S,-i.scrollLeft,i.scrollWidth-i.clientWidth-i.scrollLeft),D=Re(R,-i.scrollTop,i.scrollHeight-i.clientHeight-i.scrollTop);n.push([i,{left:i.scrollLeft+M,top:i.scrollTop+D,behavior:t.behavior}]),u=Math.max(u-D,k),f=Math.min(f-M,h),r=Math.min(r-D,b),o=Math.max(o-M,P)}return n},cr=(e,t,n)=>{const s=t||{};if(!nn(s.behavior))throw new TypeError(on("scrollIntoView","Element",s.behavior));ur(e,s).forEach(([p,c])=>{tr(p,c,n)})},cn=cr;function fr(e){cn(this,{block:e==null||e?"start":"end",inline:"nearest"})}const pr=e=>{if(Hn())return;const t=je(window.HTMLElement.prototype,"scrollIntoView",fr);Gn("scrollIntoView",function(){const s=arguments,a=s[0];if(s.length===1&&sn(a)){cn(this,a,e);return}t.apply(this,s)})};function dr(e){return e=e.filter(t=>t!=null),new Promise(t=>{const n=new IntersectionObserver(s=>{for(const a of s)n.unobserve(a.target),e.splice(e.indexOf(a.target),1),a.isIntersecting&&(n.disconnect(),t(!0));e.length===0&&t(!1)});for(const s of e)n.observe(s)})}function At(e,t,n){const s=e.slice();return s[15]=t[n],s[17]=n,s}function mr(e){let t,n=e[1],s=[];for(let a=0;a<n.length;a+=1)s[a]=jt(At(e,n,a));return{c(){for(let a=0;a<s.length;a+=1)s[a].c();t=Bt()},m(a,p){for(let c=0;c<s.length;c+=1)s[c].m(a,p);j(a,t,p)},p(a,p){if(p&18){n=a[1];let c;for(c=0;c<n.length;c+=1){const m=At(a,n,c);s[c]?s[c].p(m,p):(s[c]=jt(m),s[c].c(),s[c].m(t.parentNode,t))}for(;c<s.length;c+=1)s[c].d(1);s.length=n.length}},d(a){hn(s,a),a&&A(t)}}}function vr(e){let t,n,s,a,p,c,m;return{c(){t=E("span"),t.textContent="Can't access lyrics database",n=$(),s=E("a"),s.textContent="Enable access",a=$(),p=E("button"),p.textContent="Try again",g(t,"class","line svelte-pm5j2w"),g(s,"class","line svelte-pm5j2w"),g(s,"href","http://cors-anywhere.herokuapp.com/"),g(s,"rel","noreferrer noopener"),g(s,"target","_blank"),g(p,"class","line svelte-pm5j2w")},m(d,v){j(d,t,v),j(d,n,v),j(d,s,v),j(d,a,v),j(d,p,v),c||(m=de(p,"click",e[6]),c=!0)},p:I,d(d){d&&A(t),d&&A(n),d&&A(s),d&&A(a),d&&A(p),c=!1,m()}}}function yr(e){let t;return{c(){t=E("span"),t.textContent="Loading...",g(t,"class","line active svelte-pm5j2w")},m(n,s){j(n,t,s)},p:I,d(n){n&&A(t)}}}function hr(e){let t,n,s,a,p;return{c(){var c,m,d,v,u;t=E("span"),t.textContent="No live lyrics available",n=$(),s=E("a"),a=N("View on Genius instead"),g(t,"class","line svelte-pm5j2w"),g(s,"class","line svelte-pm5j2w"),g(s,"href",p="https://genius.com/"+(((d=(m=(c=e[0])==null?void 0:c.item)==null?void 0:m.artists)==null?void 0:d.map(It).join(" "))+" "+((u=(v=e[0])==null?void 0:v.item)==null?void 0:u.name)).replaceAll(/\s/gm,"-")+"-lyrics"),g(s,"target","_blank"),g(s,"rel","noreferrer noopener")},m(c,m){j(c,t,m),j(c,n,m),j(c,s,m),w(s,a)},p(c,m){var d,v,u,f,r;m&1&&p!==(p="https://genius.com/"+(((u=(v=(d=c[0])==null?void 0:d.item)==null?void 0:v.artists)==null?void 0:u.map(It).join(" "))+" "+((r=(f=c[0])==null?void 0:f.item)==null?void 0:r.name)).replaceAll(/\s/gm,"-")+"-lyrics")&&g(s,"href",p)},d(c){c&&A(t),c&&A(n),c&&A(s)}}}function gr(e){let t;return{c(){t=E("span"),t.textContent="Start playing something on Spotify to see the lyrics",g(t,"class","line svelte-pm5j2w")},m(n,s){j(n,t,s)},p:I,d(n){n&&A(t)}}}function jt(e){let t,n=e[15].lyrics+"",s,a,p,c;return{c(){t=E("span"),s=N(n),g(t,"class","line svelte-pm5j2w"),g(t,"id",a="line-"+e[17].toString())},m(m,d){j(m,t,d),w(t,s),p||(c=de(t,"click",e[4]),p=!0)},p(m,d){d&2&&n!==(n=m[15].lyrics+"")&&se(s,n)},d(m){m&&A(t),p=!1,c()}}}function wr(e){let t;function n(p,c){var m;return(m=p[0])!=null&&m.item?p[1]==null?hr:p[1]==""?yr:p[1]==403?vr:mr:gr}let s=n(e),a=s(e);return{c(){t=E("article"),a.c(),g(t,"id","lines-list"),g(t,"class","svelte-pm5j2w")},m(p,c){j(p,t,c),a.m(t,null),e[7](t)},p(p,[c]){s===(s=n(p))&&a?a.p(p,c):(a.d(1),a=s(p),a&&(a.c(),a.m(t,null)))},i:I,o:I,d(p){p&&A(t),a.d(),e[7](null)}}}const It=e=>e.name;function _r(e,t,n){pr();let s;const a=Xt();let{pbs:p}=t,c,m=null,d;async function v(h){var P,T,q,S,R,M;if(h===void 0)return;const b=((P=h==null?void 0:h.item)==null?void 0:P.id)!==m||(h==null?void 0:h.is_playing)&&!(c!=null&&c.is_playing)||d===403;n(0,c=h),b&&(n(1,d=""),m=(T=c==null?void 0:c.item)==null?void 0:T.id,n(1,d=await Pt(((q=c==null?void 0:c.item)==null?void 0:q.name)+" "+((R=(S=c==null?void 0:c.item)==null?void 0:S.artists)==null?void 0:R.map(D=>D.name).join(", ")))),d===null&&n(1,d=await Pt((M=c==null?void 0:c.item)==null?void 0:M.name)),console.log(d)),En().then(()=>f(b))}v(Ut(p)),p.subscribe(v);let u;async function f(h=!1){if(u==null&&(console.warn("linesList == null"),n(2,u=document.getElementById("lines-list")),u==null)){console.warn("linesList not found by id");return}if(d==null||d==""||d===403)return;const b=Ge(c),P=Math.floor(b/1e3),T=d.findIndex((R,M)=>R.seconds<=P&&(M+1>=d.length||d[M+1].seconds>P)),q=u.getElementsByClassName("active")[0];if(q!=null){if(parseInt(q.id.substring(5))==T)return r(T,b,d);q.classList.remove("active")}if(T==-1)return r(T,b,d);const S=document.getElementById("line-"+T);S!=null&&(S.classList.add("active"),(h||await dr([S,q]))&&S.scrollIntoView({behavior:"smooth",block:"center"})),r(T,b,d)}function r(h,b,P){if(h<P.length-1){s!=null&&window.clearTimeout(s);const T=Math.max(P[h+1].seconds*1e3-b,1);s=window.setTimeout(f,T)}}function o(){if(u==null&&(n(2,u=document.getElementById("lines-list")),u==null))return;const h=u.getElementsByClassName("active")[0];h!=null&&h.scrollIntoView({behavior:"smooth",block:"center"})}function i(){document.visibilityState!=="hidden"&&o()}Xe(()=>{f(),document.addEventListener("visibilitychange",i),document.addEventListener("fullscreenchange",i),window.addEventListener("resize",i)}),Ht(()=>{console.warn("Lyrics destroyed"),s!=null&&window.clearTimeout(s),document.removeEventListener("visibilitychange",i),document.removeEventListener("fullscreenchange",i),window.removeEventListener("resize",i)});function l(h){var q;const b=h.currentTarget;if(!b.id.startsWith("line-"))return;const P=parseInt(b.id.substring(5));if(!Array.isArray(d)||P<0||P>=d.length)return;const T=((q=d[P])==null?void 0:q.seconds)*1e3;a("skip",T)}const y=()=>{v(c)};function k(h){Q[h?"unshift":"push"](()=>{u=h,n(2,u)})}return e.$$set=h=>{"pbs"in h&&n(5,p=h.pbs)},[c,d,u,v,l,p,y,k]}class br extends ye{constructor(t){super(),ve(this,t,_r,wr,te,{pbs:5})}}const kr="wakeLock"in navigator;let K=null;function Dr(){Be(),document.addEventListener("visibilitychange",Be)}function Er(){document.removeEventListener("visibilitychange",Be),K!=null&&(K.release(),K=null)}async function Be(){kr&&(K==null||K.released)&&document.visibilityState==="visible"&&(K=await navigator.wakeLock.request("screen"))}function fn(e,t,n){return Math.max(e,Math.min(t,n))}function Tr(e){let t,n,s,a,p,c,m;return{c(){t=E("div"),n=E("span"),s=$(),a=E("span"),a.innerHTML='<span class="progress svelte-pmkch5"></span>',g(n,"class","knob svelte-pmkch5"),g(a,"class","bar svelte-pmkch5"),g(t,"class","wrapper svelte-pmkch5"),g(t,"style",p=`--height:${e[1]};--width:${e[0]};--progress:${e[2]*100}%;--p:${e[2]};`)},m(d,v){j(d,t,v),w(t,n),e[6](n),w(t,s),w(t,a),e[7](a),c||(m=de(t,"mousedown",e[5]),c=!0)},p(d,[v]){v&7&&p!==(p=`--height:${d[1]};--width:${d[0]};--progress:${d[2]*100}%;--p:${d[2]};`)&&g(t,"style",p)},i:I,o:I,d(d){d&&A(t),e[6](null),e[7](null),c=!1,m()}}}function Pr(e,t,n){let{width:s}=t,{height:a}=t,{progress:p}=t;const c=Xt();let m=null,d=null;function v(l){c("dragChange",r(l.clientX))}function u(l){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",u),m.classList.remove("active"),c("dragEnd",r(l.clientX))}function f(l){l.button==0&&(document.addEventListener("mousemove",v),document.addEventListener("mouseup",u),m.classList.add("active"),c("dragStart",r(l.clientX)))}function r(l){const y=d.getBoundingClientRect();return fn(0,(l-y.left)/y.width,1)}function o(l){Q[l?"unshift":"push"](()=>{m=l,n(3,m)})}function i(l){Q[l?"unshift":"push"](()=>{d=l,n(4,d)})}return e.$$set=l=>{"width"in l&&n(0,s=l.width),"height"in l&&n(1,a=l.height),"progress"in l&&n(2,p=l.progress)},[s,a,p,m,d,f,o,i]}class qr extends ye{constructor(t){super(),ve(this,t,Pr,Tr,te,{width:0,height:1,progress:2})}}function Ct(e){let t,n,s;return{c(){var a;t=E("div"),n=E("aside"),g(n,"class","background-cover svelte-fsyjct"),g(n,"style",s=`--img:url("${(a=e[0])!=null?a:pe}");`),g(t,"class","background-cover svelte-fsyjct")},m(a,p){j(a,t,p),w(t,n)},p(a,p){var c;p&1&&s!==(s=`--img:url("${(c=a[0])!=null?c:pe}");`)&&g(n,"style",s)},d(a){a&&A(t)}}}function Lr(e){var Ke,Qe,Ze,et,tt,nt,rt,ot,it,st,at;let t,n,s,a,p,c,m,d,v=((Ze=(Qe=(Ke=e[1])==null?void 0:Ke.item)==null?void 0:Qe.name)!=null?Ze:"No playback")+"",u,f,r,o=((rt=(nt=(tt=(et=e[1])==null?void 0:et.item)==null?void 0:tt.artists)==null?void 0:nt.map($t).join(" & "))!=null?rt:"Live Lyrics for Spotify")+"",i,l,y,k,h,b,P,T,q,S=De((ot=e[5])!=null?ot:0)+"",R,M,D,C,W,O=De((at=(st=(it=e[1])==null?void 0:it.item)==null?void 0:st.duration_ms)!=null?at:0)+"",x,Y,he,ne,B,Ce,Je;h=new br({props:{pbs:e[6]}}),h.$on("skip",e[7]),D=new qr({props:{width:"min(50vmax, 65vw, 80vmin)",height:"max(1vh, 5px)",progress:e[4]}}),D.$on("dragStart",e[9]),D.$on("dragChange",e[10]),D.$on("dragEnd",e[11]);let U=(e[0]||e[3])&&Ct(e);return{c(){var L;t=E("main"),n=E("section"),s=E("header"),a=E("img"),c=$(),m=E("div"),d=E("h1"),u=N(v),f=$(),r=E("h2"),i=N(o),l=$(),y=E("button"),k=$(),Se(h.$$.fragment),b=$(),P=E("footer"),T=E("div"),q=E("span"),R=N(S),M=$(),Se(D.$$.fragment),C=$(),W=E("span"),x=N(O),Y=$(),U&&U.c(),g(a,"class","album-art svelte-fsyjct"),g(a,"alt","Album art"),We(a.src,p=(L=e[0])!=null?L:pe)||g(a,"src",p),g(d,"class","song-name svelte-fsyjct"),g(r,"class","artist-name svelte-fsyjct"),g(m,"class","name-info svelte-fsyjct"),g(y,"class","fullscreen-toggle svelte-fsyjct"),g(y,"style",`--open:url("${On}");--close:url("${Fn}");`),g(s,"class","svelte-fsyjct"),g(q,"id","progress_time"),g(W,"id","song_length"),g(T,"class","seek svelte-fsyjct"),g(P,"class","svelte-fsyjct"),g(n,"class","main-section svelte-fsyjct"),g(t,"class","svelte-fsyjct")},m(L,V){j(L,t,V),w(t,n),w(n,s),w(s,a),w(s,c),w(s,m),w(m,d),w(d,u),w(m,f),w(m,r),w(r,i),w(s,l),w(s,y),w(n,k),ce(h,n,null),w(n,b),w(n,P),w(P,T),w(T,q),w(q,R),w(T,M),ce(D,T,null),w(T,C),w(T,W),w(W,x),w(t,Y),U&&U.m(t,null),e[12](t),B=!0,Ce||(Je=de(y,"click",e[8]),Ce=!0)},p(L,[V]){var ut,ct,ft,pt,dt,mt,vt,yt,ht,gt,wt,_t;(!B||V&1&&!We(a.src,p=(ut=L[0])!=null?ut:pe))&&g(a,"src",p),(!B||V&2)&&v!==(v=((pt=(ft=(ct=L[1])==null?void 0:ct.item)==null?void 0:ft.name)!=null?pt:"No playback")+"")&&se(u,v),(!B||V&2)&&o!==(o=((yt=(vt=(mt=(dt=L[1])==null?void 0:dt.item)==null?void 0:mt.artists)==null?void 0:vt.map($t).join(" & "))!=null?yt:"Live Lyrics for Spotify")+"")&&se(i,o),(!B||V&32)&&S!==(S=De((ht=L[5])!=null?ht:0)+"")&&se(R,S);const lt={};V&16&&(lt.progress=L[4]),D.$set(lt),(!B||V&2)&&O!==(O=De((_t=(wt=(gt=L[1])==null?void 0:gt.item)==null?void 0:wt.duration_ms)!=null?_t:0)+"")&&se(x,O),L[0]||L[3]?U?U.p(L,V):(U=Ct(L),U.c(),U.m(t,null)):U&&(U.d(1),U=null)},i(L){B||(G(h.$$.fragment,L),G(D.$$.fragment,L),X(()=>{ne&&ne.end(1),he=Qt(t,Ae,{duration:250,delay:250}),he.start()}),B=!0)},o(L){Z(h.$$.fragment,L),Z(D.$$.fragment,L),he&&he.invalidate(),ne=Zt(t,Ae,{duration:250,delay:0}),B=!1},d(L){L&&A(t),fe(h),fe(D),U&&U.d(),e[12](null),L&&ne&&ne.end(),Ce=!1,Je()}}}function De(e){let t=Math.floor(e/1e3),n=(t%60).toString().padStart(2,"0");return t=Math.floor(t/60),n=(t%60).toString().padStart(2,"0")+":"+n,t=Math.floor(t/60),t>0&&(n=t+":"+n),n}const $t=e=>e.name;function Sr(e,t,n){const s=Dn("auth_data"),a=Ut(s),p=new Wn;p.setAccessToken(a.token);let c,m;const d=en(m);let v,u;Xe(()=>{Dr(),r()}),Ht(()=>{v!=null&&window.clearInterval(v),u!=null&&window.clearInterval(u),Er()});let f=!1;async function r(D=!1){var C,W,O;if(!f||D){try{const Y=Date.now();if(n(1,m=await p.getMyCurrentPlaybackState()),D&&(f=!1),f)return;m!=null&&m!=""&&n(1,m.timestamp=Date.now()-Math.floor((Date.now()-Y)/2),m),n(0,c=(O=(W=(C=m==null?void 0:m.item)==null?void 0:C.album)==null?void 0:W.images[0])==null?void 0:O.url),f||d.set(m)}catch(Y){console.error(Y),s.set(void 0)}T();const x=xn(m);v=window.setTimeout(r,Math.min(x>0&&(m==null?void 0:m.is_playing)?x:5e3,5e3))}}function o(D){i(D.detail,!0)}function i(D,C=!1){Bn(m,d,D),n(1,m.is_playing=!1,m),f=!0,p.seek(D).then(async()=>{C&&!m.is_playing&&await p.play({position_ms:D}),r(!0)})}let l,y=document.fullscreenElement!=null;async function k(){document.fullscreenElement?await(document==null?void 0:document.exitFullscreen()):await(l==null?void 0:l.requestFullscreen()),n(3,y=document.fullscreenElement!=null)}let h=0,b=0,P=!1;function T(){var C,W,O,x;P||(n(5,b=fn(0,Ge(m),(W=(C=m==null?void 0:m.item)==null?void 0:C.duration_ms)!=null?W:0)),((O=m==null?void 0:m.item)==null?void 0:O.duration_ms)==null?n(4,h=0):n(4,h=b/((x=m==null?void 0:m.item)==null?void 0:x.duration_ms)));const D=1e3-b%1e3;u!=null&&window.clearInterval(u),u=window.setTimeout(T,D)}function q(D){P=!0,S(D)}function S(D){var C;n(4,h=D.detail),n(5,b=h*((C=m==null?void 0:m.item)==null?void 0:C.duration_ms))}function R(D){P=!1,S(D),i(Math.floor(b))}function M(D){Q[D?"unshift":"push"](()=>{l=D,n(2,l)})}return[c,m,l,y,h,b,d,o,k,q,S,R,M]}class Ar extends ye{constructor(t){super(),ve(this,t,Sr,Lr,te,{})}}var jr="/assets/checkmark.24214891.svg";function Ir(e){let t,n,s,a,p,c,m,d,v,u,f,r,o,i,l,y,k,h;return{c(){t=E("main"),n=E("article"),s=E("img"),p=$(),c=E("h1"),c.textContent="Welcome to Live Lyrics for Spotify",m=$(),d=E("a"),v=N("Sign in with Spotify"),u=$(),f=E("input"),r=$(),o=E("label"),o.textContent="Automatically sign me in next time",We(s.src,a=pe)||g(s,"src",a),g(s,"class","logo svelte-niiqbe"),g(s,"alt","Live Lyrics for Spotify logo"),g(c,"class","svelte-niiqbe"),g(d,"href",e[0]),g(d,"class","svelte-niiqbe"),g(f,"type","checkbox"),g(f,"id","auto-auth"),g(f,"name","auto-auth"),f.checked=F.get("auto-auth")=="true",g(f,"class","svelte-niiqbe"),g(o,"for","auto-auth"),g(o,"class","svelte-niiqbe"),g(n,"class","svelte-niiqbe"),g(t,"class","flex-container svelte-niiqbe"),g(t,"style",`--checkmark:url("${jr}");`)},m(b,P){j(b,t,P),w(t,n),w(n,s),w(n,p),w(n,c),w(n,m),w(n,d),w(d,v),w(n,u),w(n,f),w(n,r),w(n,o),y=!0,k||(h=de(f,"change",e[1]),k=!0)},p:I,i(b){y||(X(()=>{l&&l.end(1),i=Qt(t,Ae,{duration:250,delay:250}),i.start()}),y=!0)},o(b){i&&i.invalidate(),l=Zt(t,Ae,{duration:250,delay:0}),y=!1},d(b){b&&A(t),b&&l&&l.end(),k=!1,h()}}}function Cr(e){const t=new URLSearchParams;t.append("client_id",Rn),t.append("response_type","token"),t.append("show_dialog","false"),t.append("redirect_uri",window.location.href),t.append("scope","user-modify-playback-state user-read-playback-state user-library-modify user-read-currently-playing user-library-read");const n="https://accounts.spotify.com/authorize?"+t.toString();Xe(()=>{F.get("auto-auth")=="true"&&(window.location.href=n)});function s(a){F.set("auto-auth",JSON.stringify(a.currentTarget.checked),{expires:365})}return[n,s]}class $r extends ye{constructor(t){super(),ve(this,t,Cr,Ir,te,{})}}function Mr(e){let t,n;return t=new $r({}),{c(){Se(t.$$.fragment)},m(s,a){ce(t,s,a),n=!0},i(s){n||(G(t.$$.fragment,s),n=!0)},o(s){Z(t.$$.fragment,s),n=!1},d(s){fe(t,s)}}}function Ur(e){let t,n;return t=new Ar({}),{c(){Se(t.$$.fragment)},m(s,a){ce(t,s,a),n=!0},i(s){n||(G(t.$$.fragment,s),n=!0)},o(s){Z(t.$$.fragment,s),n=!1},d(s){fe(t,s)}}}function Rr(e){let t,n,s,a;const p=[Ur,Mr],c=[];function m(d,v){return d[0]?0:1}return t=m(e),n=c[t]=p[t](e),{c(){n.c(),s=Bt()},m(d,v){c[t].m(d,v),j(d,s,v),a=!0},p(d,[v]){let u=t;t=m(d),t!==u&&(Pn(),Z(c[u],1,1,()=>{c[u]=null}),qn(),n=c[t],n||(n=c[t]=p[t](d),n.c()),G(n,1),n.m(s.parentNode,s))},i(d){a||(G(n),a=!0)},o(d){Z(n),a=!1},d(d){c[t].d(d),d&&A(s)}}}function Wr(e,t,n){window.location.protocol==="http:"&&window.location.hostname!=="localhost"&&(window.location.protocol="https:"),$n({onOfflineReady(){},onRegistered(p){p&&setInterval(()=>{p.update()},60*60*1e3)}});const s=en(Un());kn("auth_data",s);let a;return s.subscribe(p=>n(0,a=p)),[a]}class Or extends ye{constructor(t){super(),ve(this,t,Wr,Rr,te,{})}}new Or({target:document.getElementById("app")});
