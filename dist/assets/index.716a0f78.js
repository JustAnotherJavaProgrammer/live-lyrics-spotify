const Lt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const p of a)if(p.type==="childList")for(const f of p.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function r(a){const p={};return a.integrity&&(p.integrity=a.integrity),a.referrerpolicy&&(p.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?p.credentials="include":a.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function i(a){if(a.ep)return;a.ep=!0;const p=r(a);fetch(a.href,p)}};Lt();function $(){}const be=e=>e;function Qe(e){return e()}function Be(){return Object.create(null)}function V(e){e.forEach(Qe)}function De(e){return typeof e=="function"}function pe(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Q;function ye(e,t){return Q||(Q=document.createElement("a")),Q.href=t,e===Q.href}function St(e){return Object.keys(e).length===0}function It(e,...t){if(e==null)return $;const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function Ze(e){let t;return It(e,r=>t=r)(),t}const et=typeof window!="undefined";let tt=et?()=>window.performance.now():()=>Date.now(),Te=et?e=>requestAnimationFrame(e):$;const O=new Set;function rt(e){O.forEach(t=>{t.c(e)||(O.delete(t),t.f())}),O.size!==0&&Te(rt)}function nt(e){let t;return O.size===0&&Te(rt),{promise:new Promise(r=>{O.add(t={c:e,f:r})}),abort(){O.delete(t)}}}function T(e,t){e.appendChild(t)}function ot(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Ct(e){const t=P("style");return Mt(ot(e),t),t.sheet}function Mt(e,t){T(e.head||e,t)}function L(e,t,r){e.insertBefore(t,r||null)}function A(e){e.parentNode.removeChild(e)}function Ut(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function P(e){return document.createElement(e)}function U(e){return document.createTextNode(e)}function I(){return U(" ")}function st(){return U("")}function it(e,t,r,i){return e.addEventListener(t,r,i),()=>e.removeEventListener(t,r,i)}function _(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function jt(e){return Array.from(e.childNodes)}function ve(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function at(e,t,r=!1){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,r,!1,t),i}const oe=new Map;let se=0;function Rt(e){let t=5381,r=e.length;for(;r--;)t=(t<<5)-t^e.charCodeAt(r);return t>>>0}function Ft(e,t){const r={stylesheet:Ct(t),rules:{}};return oe.set(e,r),r}function lt(e,t,r,i,a,p,f,m=0){const d=16.666/i;let y=`{
`;for(let v=0;v<=1;v+=d){const h=t+(r-t)*p(v);y+=v*100+`%{${f(h,1-h)}}
`}const u=y+`100% {${f(r,1-r)}}
}`,c=`__svelte_${Rt(u)}_${m}`,n=ot(e),{stylesheet:o,rules:s}=oe.get(n)||Ft(n,e);s[c]||(s[c]=!0,o.insertRule(`@keyframes ${c} ${u}`,o.cssRules.length));const l=e.style.animation||"";return e.style.animation=`${l?`${l}, `:""}${c} ${i}ms linear ${a}ms 1 both`,se+=1,c}function he(e,t){const r=(e.style.animation||"").split(", "),i=r.filter(t?p=>p.indexOf(t)<0:p=>p.indexOf("__svelte")===-1),a=r.length-i.length;a&&(e.style.animation=i.join(", "),se-=a,se||xt())}function xt(){Te(()=>{se||(oe.forEach(e=>{const{stylesheet:t}=e;let r=t.cssRules.length;for(;r--;)t.deleteRule(r);e.rules={}}),oe.clear())})}let Y;function G(e){Y=e}function J(){if(!Y)throw new Error("Function called outside component initialization");return Y}function ut(e){J().$$.on_mount.push(e)}function ct(e){J().$$.on_destroy.push(e)}function Ot(){const e=J();return(t,r)=>{const i=e.$$.callbacks[t];if(i){const a=at(t,r);i.slice().forEach(p=>{p.call(e,a)})}}}function Vt(e,t){J().$$.context.set(e,t)}function Bt(e){return J().$$.context.get(e)}const X=[],ie=[],re=[],We=[],ft=Promise.resolve();let ge=!1;function pt(){ge||(ge=!0,ft.then(dt))}function Wt(){return pt(),ft}function j(e){re.push(e)}const de=new Set;let Z=0;function dt(){const e=Y;do{for(;Z<X.length;){const t=X[Z];Z++,G(t),Nt(t.$$)}for(G(null),X.length=0,Z=0;ie.length;)ie.pop()();for(let t=0;t<re.length;t+=1){const r=re[t];de.has(r)||(de.add(r),r())}re.length=0}while(X.length);for(;We.length;)We.pop()();ge=!1,de.clear(),G(e)}function Nt(e){if(e.fragment!==null){e.update(),V(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}let N;function mt(){return N||(N=Promise.resolve(),N.then(()=>{N=null})),N}function ae(e,t,r){e.dispatchEvent(at(`${t?"intro":"outro"}${r}`))}const ne=new Set;let C;function Ht(){C={r:0,c:[],p:C}}function Xt(){C.r||V(C.c),C=C.p}function z(e,t){e&&e.i&&(ne.delete(e),e.i(t))}function le(e,t,r,i){if(e&&e.o){if(ne.has(e))return;ne.add(e),C.c.push(()=>{ne.delete(e),i&&(r&&e.d(1),i())}),e.o(t)}}const yt={duration:0};function vt(e,t,r){let i=t(e,r),a=!1,p,f,m=0;function d(){p&&he(e,p)}function y(){const{delay:c=0,duration:n=300,easing:o=be,tick:s=$,css:l}=i||yt;l&&(p=lt(e,0,1,n,c,o,l,m++)),s(0,1);const v=tt()+c,h=v+n;f&&f.abort(),a=!0,j(()=>ae(e,!0,"start")),f=nt(g=>{if(a){if(g>=h)return s(1,0),ae(e,!0,"end"),d(),a=!1;if(g>=v){const w=o((g-v)/n);s(w,1-w)}}return a})}let u=!1;return{start(){u||(u=!0,he(e),De(i)?(i=i(),mt().then(y)):y())},invalidate(){u=!1},end(){a&&(d(),a=!1)}}}function ht(e,t,r){let i=t(e,r),a=!0,p;const f=C;f.r+=1;function m(){const{delay:d=0,duration:y=300,easing:u=be,tick:c=$,css:n}=i||yt;n&&(p=lt(e,1,0,y,d,u,n));const o=tt()+d,s=o+y;j(()=>ae(e,!1,"start")),nt(l=>{if(a){if(l>=s)return c(0,1),ae(e,!1,"end"),--f.r||V(f.c),!1;if(l>=o){const v=u((l-o)/y);c(1-v,v)}}return a})}return De(i)?mt().then(()=>{i=i(),m()}):m(),{end(d){d&&i.tick&&i.tick(1,0),a&&(p&&he(e,p),a=!1)}}}function gt(e){e&&e.c()}function ke(e,t,r,i){const{fragment:a,on_mount:p,on_destroy:f,after_update:m}=e.$$;a&&a.m(t,r),i||j(()=>{const d=p.map(Qe).filter(De);f?f.push(...d):V(d),e.$$.on_mount=[]}),m.forEach(j)}function Pe(e,t){const r=e.$$;r.fragment!==null&&(V(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function Gt(e,t){e.$$.dirty[0]===-1&&(X.push(e),pt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ee(e,t,r,i,a,p,f,m=[-1]){const d=Y;G(e);const y=e.$$={fragment:null,ctx:null,props:p,update:$,not_equal:a,bound:Be(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:Be(),dirty:m,skip_bound:!1,root:t.target||d.$$.root};f&&f(y.root);let u=!1;if(y.ctx=r?r(e,t.props||{},(c,n,...o)=>{const s=o.length?o[0]:n;return y.ctx&&a(y.ctx[c],y.ctx[c]=s)&&(!y.skip_bound&&y.bound[c]&&y.bound[c](s),u&&Gt(e,c)),n}):[],y.update(),u=!0,V(y.before_update),y.fragment=i?i(y.ctx):!1,t.target){if(t.hydrate){const c=jt(t.target);y.fragment&&y.fragment.l(c),c.forEach(A)}else y.fragment&&y.fragment.c();t.intro&&z(e.$$.fragment),ke(e,t.target,t.anchor,t.customElement),dt()}G(d)}class qe{$destroy(){Pe(this,1),this.$destroy=$}$on(t,r){const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(r),()=>{const a=i.indexOf(r);a!==-1&&i.splice(a,1)}}$set(t){this.$$set&&!St(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var _e="/assets/llfs.b089f5f9.svg";/*! js-cookie v3.0.1 | MIT */function ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)e[i]=r[i]}return e}var Yt={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function we(e,t){function r(a,p,f){if(typeof document!="undefined"){f=ee({},t,f),typeof f.expires=="number"&&(f.expires=new Date(Date.now()+f.expires*864e5)),f.expires&&(f.expires=f.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var m="";for(var d in f)!f[d]||(m+="; "+d,f[d]!==!0&&(m+="="+f[d].split(";")[0]));return document.cookie=a+"="+e.write(p,a)+m}}function i(a){if(!(typeof document=="undefined"||arguments.length&&!a)){for(var p=document.cookie?document.cookie.split("; "):[],f={},m=0;m<p.length;m++){var d=p[m].split("="),y=d.slice(1).join("=");try{var u=decodeURIComponent(d[0]);if(f[u]=e.read(y,u),a===u)break}catch{}}return a?f[a]:f}}return Object.create({set:r,get:i,remove:function(a,p){r(a,"",ee({},p,{expires:-1}))},withAttributes:function(a){return we(this.converter,ee({},this.attributes,a))},withConverter:function(a){return we(ee({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var M=we(Yt,{path:"/"});function zt(){{const e=new URLSearchParams(window.location.hash.substring(1));if(e.has("access_token")&&e.has("expires_in")&&(M.set("token",e.get("access_token"),{sameSite:"Strict"}),M.set("expires_at",(Date.now()+parseInt(e.get("expires_in"))*1e3).toString(),{sameSite:"Strict"}),window.history.replaceState({},document.title,"/")),M.get("token")&&M.get("expires_at")&&M.get("expires_at")>Date.now().toString())return{token:M.get("token"),expiresAt:parseInt(M.get("expires_at"))}}}const Jt="285cd29de87649a5b55bc8ad56734d44";function ue(e,{delay:t=0,duration:r=400,easing:i=be}={}){const a=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:i,css:p=>`opacity: ${p*a}`}}const x=[];function _t(e,t=$){let r;const i=new Set;function a(m){if(pe(e,m)&&(e=m,r)){const d=!x.length;for(const y of i)y[1](),x.push(y,e);if(d){for(let y=0;y<x.length;y+=2)x[y][0](x[y+1]);x.length=0}}}function p(m){a(m(e))}function f(m,d=$){const y=[m,d];return i.add(y),i.size===1&&(r=t(a)||$),m(e),()=>{i.delete(y),i.size===0&&(r(),r=null)}}return{set:a,update:p,subscribe:f}}var wt={exports:{}};(function(e){var t=function(){var r="https://api.spotify.com/v1",i=null,a=null,p=function(n,o){return n.abort=o,n},f=function(n,o){var s;if(a!==null){var l=a.defer();n(function(v){l.resolve(v)},function(v){l.reject(v)}),s=l.promise}else window.Promise&&(s=new window.Promise(n));return s?new p(s,o):null},m=function(){var n=Array.prototype.slice.call(arguments),o=n[0],s=n.slice(1);return o=o||{},s.forEach(function(l){for(var v in l)l.hasOwnProperty(v)&&(o[v]=l[v])}),o},d=function(n,o){var s="";for(var l in o)if(o.hasOwnProperty(l)){var v=o[l];s+=encodeURIComponent(l)+"="+encodeURIComponent(v)+"&"}return s.length>0&&(s=s.substring(0,s.length-1),n=n+"?"+s),n},y=function(n,o){var s=new XMLHttpRequest,l=function(v,h){function g(k){v&&v(k),o&&o(null,k)}function w(){h&&h(s),o&&o(s,null)}var D=n.type||"GET";if(s.open(D,d(n.url,n.params)),i&&s.setRequestHeader("Authorization","Bearer "+i),s.onreadystatechange=function(){if(s.readyState===4){var k=null;try{k=s.responseText?JSON.parse(s.responseText):""}catch(S){console.error(S)}s.status>=200&&s.status<300?g(k):w()}},D==="GET")s.send(null);else{var b=null;n.postData&&(n.contentType==="image/jpeg"?(b=n.postData,s.setRequestHeader("Content-Type",n.contentType)):(b=JSON.stringify(n.postData),s.setRequestHeader("Content-Type","application/json"))),s.send(b)}};return o?(l(),null):f(l,function(){s.abort()})},u=function(n,o,s,l){var v={},h=null;typeof o=="object"?(v=o,h=s):typeof o=="function"&&(h=o);var g=n.type||"GET";return g!=="GET"&&n.postData&&!l?n.postData=m(n.postData,v):n.params=m(n.params,v),y(n,h)},c=function(){};return c.prototype={constructor:t},c.prototype.getGeneric=function(n,o){var s={url:n};return u(s,o)},c.prototype.getMe=function(n,o){var s={url:r+"/me"};return u(s,n,o)},c.prototype.getMySavedTracks=function(n,o){var s={url:r+"/me/tracks"};return u(s,n,o)},c.prototype.addToMySavedTracks=function(n,o,s){var l={url:r+"/me/tracks",type:"PUT",postData:n};return u(l,o,s)},c.prototype.removeFromMySavedTracks=function(n,o,s){var l={url:r+"/me/tracks",type:"DELETE",postData:n};return u(l,o,s)},c.prototype.containsMySavedTracks=function(n,o,s){var l={url:r+"/me/tracks/contains",params:{ids:n.join(",")}};return u(l,o,s)},c.prototype.getMySavedAlbums=function(n,o){var s={url:r+"/me/albums"};return u(s,n,o)},c.prototype.addToMySavedAlbums=function(n,o,s){var l={url:r+"/me/albums",type:"PUT",postData:n};return u(l,o,s)},c.prototype.removeFromMySavedAlbums=function(n,o,s){var l={url:r+"/me/albums",type:"DELETE",postData:n};return u(l,o,s)},c.prototype.containsMySavedAlbums=function(n,o,s){var l={url:r+"/me/albums/contains",params:{ids:n.join(",")}};return u(l,o,s)},c.prototype.getMyTopArtists=function(n,o){var s={url:r+"/me/top/artists"};return u(s,n,o)},c.prototype.getMyTopTracks=function(n,o){var s={url:r+"/me/top/tracks"};return u(s,n,o)},c.prototype.getMyRecentlyPlayedTracks=function(n,o){var s={url:r+"/me/player/recently-played"};return u(s,n,o)},c.prototype.followUsers=function(n,o){var s={url:r+"/me/following/",type:"PUT",params:{ids:n.join(","),type:"user"}};return u(s,o)},c.prototype.followArtists=function(n,o){var s={url:r+"/me/following/",type:"PUT",params:{ids:n.join(","),type:"artist"}};return u(s,o)},c.prototype.followPlaylist=function(n,o,s){var l={url:r+"/playlists/"+n+"/followers",type:"PUT",postData:{}};return u(l,o,s)},c.prototype.unfollowUsers=function(n,o){var s={url:r+"/me/following/",type:"DELETE",params:{ids:n.join(","),type:"user"}};return u(s,o)},c.prototype.unfollowArtists=function(n,o){var s={url:r+"/me/following/",type:"DELETE",params:{ids:n.join(","),type:"artist"}};return u(s,o)},c.prototype.unfollowPlaylist=function(n,o){var s={url:r+"/playlists/"+n+"/followers",type:"DELETE"};return u(s,o)},c.prototype.isFollowingUsers=function(n,o){var s={url:r+"/me/following/contains",type:"GET",params:{ids:n.join(","),type:"user"}};return u(s,o)},c.prototype.isFollowingArtists=function(n,o){var s={url:r+"/me/following/contains",type:"GET",params:{ids:n.join(","),type:"artist"}};return u(s,o)},c.prototype.areFollowingPlaylist=function(n,o,s){var l={url:r+"/playlists/"+n+"/followers/contains",type:"GET",params:{ids:o.join(",")}};return u(l,s)},c.prototype.getFollowedArtists=function(n,o){var s={url:r+"/me/following",type:"GET",params:{type:"artist"}};return u(s,n,o)},c.prototype.getUser=function(n,o,s){var l={url:r+"/users/"+encodeURIComponent(n)};return u(l,o,s)},c.prototype.getUserPlaylists=function(n,o,s){var l;return typeof n=="string"?l={url:r+"/users/"+encodeURIComponent(n)+"/playlists"}:(l={url:r+"/me/playlists"},s=o,o=n),u(l,o,s)},c.prototype.getPlaylist=function(n,o,s){var l={url:r+"/playlists/"+n};return u(l,o,s)},c.prototype.getPlaylistTracks=function(n,o,s){var l={url:r+"/playlists/"+n+"/tracks"};return u(l,o,s)},c.prototype.getPlaylistCoverImage=function(n,o){var s={url:r+"/playlists/"+n+"/images"};return u(s,o)},c.prototype.createPlaylist=function(n,o,s){var l={url:r+"/users/"+encodeURIComponent(n)+"/playlists",type:"POST",postData:o};return u(l,o,s)},c.prototype.changePlaylistDetails=function(n,o,s){var l={url:r+"/playlists/"+n,type:"PUT",postData:o};return u(l,o,s)},c.prototype.addTracksToPlaylist=function(n,o,s,l){var v={url:r+"/playlists/"+n+"/tracks",type:"POST",postData:{uris:o}};return u(v,s,l,!0)},c.prototype.replaceTracksInPlaylist=function(n,o,s){var l={url:r+"/playlists/"+n+"/tracks",type:"PUT",postData:{uris:o}};return u(l,{},s)},c.prototype.reorderTracksInPlaylist=function(n,o,s,l,v){var h={url:r+"/playlists/"+n+"/tracks",type:"PUT",postData:{range_start:o,insert_before:s}};return u(h,l,v)},c.prototype.removeTracksFromPlaylist=function(n,o,s){var l=o.map(function(h){return typeof h=="string"?{uri:h}:h}),v={url:r+"/playlists/"+n+"/tracks",type:"DELETE",postData:{tracks:l}};return u(v,{},s)},c.prototype.removeTracksFromPlaylistWithSnapshotId=function(n,o,s,l){var v=o.map(function(g){return typeof g=="string"?{uri:g}:g}),h={url:r+"/playlists/"+n+"/tracks",type:"DELETE",postData:{tracks:v,snapshot_id:s}};return u(h,{},l)},c.prototype.removeTracksFromPlaylistInPositions=function(n,o,s,l){var v={url:r+"/playlists/"+n+"/tracks",type:"DELETE",postData:{positions:o,snapshot_id:s}};return u(v,{},l)},c.prototype.uploadCustomPlaylistCoverImage=function(n,o,s){var l={url:r+"/playlists/"+n+"/images",type:"PUT",postData:o.replace(/^data:image\/jpeg;base64,/,""),contentType:"image/jpeg"};return u(l,{},s)},c.prototype.getAlbum=function(n,o,s){var l={url:r+"/albums/"+n};return u(l,o,s)},c.prototype.getAlbumTracks=function(n,o,s){var l={url:r+"/albums/"+n+"/tracks"};return u(l,o,s)},c.prototype.getAlbums=function(n,o,s){var l={url:r+"/albums/",params:{ids:n.join(",")}};return u(l,o,s)},c.prototype.getTrack=function(n,o,s){var l={};return l.url=r+"/tracks/"+n,u(l,o,s)},c.prototype.getTracks=function(n,o,s){var l={url:r+"/tracks/",params:{ids:n.join(",")}};return u(l,o,s)},c.prototype.getArtist=function(n,o,s){var l={url:r+"/artists/"+n};return u(l,o,s)},c.prototype.getArtists=function(n,o,s){var l={url:r+"/artists/",params:{ids:n.join(",")}};return u(l,o,s)},c.prototype.getArtistAlbums=function(n,o,s){var l={url:r+"/artists/"+n+"/albums"};return u(l,o,s)},c.prototype.getArtistTopTracks=function(n,o,s,l){var v={url:r+"/artists/"+n+"/top-tracks",params:{country:o}};return u(v,s,l)},c.prototype.getArtistRelatedArtists=function(n,o,s){var l={url:r+"/artists/"+n+"/related-artists"};return u(l,o,s)},c.prototype.getFeaturedPlaylists=function(n,o){var s={url:r+"/browse/featured-playlists"};return u(s,n,o)},c.prototype.getNewReleases=function(n,o){var s={url:r+"/browse/new-releases"};return u(s,n,o)},c.prototype.getCategories=function(n,o){var s={url:r+"/browse/categories"};return u(s,n,o)},c.prototype.getCategory=function(n,o,s){var l={url:r+"/browse/categories/"+n};return u(l,o,s)},c.prototype.getCategoryPlaylists=function(n,o,s){var l={url:r+"/browse/categories/"+n+"/playlists"};return u(l,o,s)},c.prototype.search=function(n,o,s,l){var v={url:r+"/search/",params:{q:n,type:o.join(",")}};return u(v,s,l)},c.prototype.searchAlbums=function(n,o,s){return this.search(n,["album"],o,s)},c.prototype.searchArtists=function(n,o,s){return this.search(n,["artist"],o,s)},c.prototype.searchTracks=function(n,o,s){return this.search(n,["track"],o,s)},c.prototype.searchPlaylists=function(n,o,s){return this.search(n,["playlist"],o,s)},c.prototype.searchShows=function(n,o,s){return this.search(n,["show"],o,s)},c.prototype.searchEpisodes=function(n,o,s){return this.search(n,["episode"],o,s)},c.prototype.getAudioFeaturesForTrack=function(n,o){var s={};return s.url=r+"/audio-features/"+n,u(s,{},o)},c.prototype.getAudioFeaturesForTracks=function(n,o){var s={url:r+"/audio-features",params:{ids:n}};return u(s,{},o)},c.prototype.getAudioAnalysisForTrack=function(n,o){var s={};return s.url=r+"/audio-analysis/"+n,u(s,{},o)},c.prototype.getRecommendations=function(n,o){var s={url:r+"/recommendations"};return u(s,n,o)},c.prototype.getAvailableGenreSeeds=function(n){var o={url:r+"/recommendations/available-genre-seeds"};return u(o,{},n)},c.prototype.getMyDevices=function(n){var o={url:r+"/me/player/devices"};return u(o,{},n)},c.prototype.getMyCurrentPlaybackState=function(n,o){var s={url:r+"/me/player"};return u(s,n,o)},c.prototype.getMyCurrentPlayingTrack=function(n,o){var s={url:r+"/me/player/currently-playing"};return u(s,n,o)},c.prototype.transferMyPlayback=function(n,o,s){var l=o||{};l.device_ids=n;var v={type:"PUT",url:r+"/me/player",postData:l};return u(v,o,s)},c.prototype.play=function(n,o){n=n||{};var s="device_id"in n?{device_id:n.device_id}:null,l={};["context_uri","uris","offset","position_ms"].forEach(function(g){g in n&&(l[g]=n[g])});var v={type:"PUT",url:r+"/me/player/play",params:s,postData:l},h=typeof n=="function"?n:{};return u(v,h,o)},c.prototype.queue=function(n,o,s){o=o||{};var l="device_id"in o?{uri:n,device_id:o.device_id}:{uri:n},v={type:"POST",url:r+"/me/player/queue",params:l};return u(v,o,s)},c.prototype.pause=function(n,o){n=n||{};var s="device_id"in n?{device_id:n.device_id}:null,l={type:"PUT",url:r+"/me/player/pause",params:s};return u(l,n,o)},c.prototype.skipToNext=function(n,o){n=n||{};var s="device_id"in n?{device_id:n.device_id}:null,l={type:"POST",url:r+"/me/player/next",params:s};return u(l,n,o)},c.prototype.skipToPrevious=function(n,o){n=n||{};var s="device_id"in n?{device_id:n.device_id}:null,l={type:"POST",url:r+"/me/player/previous",params:s};return u(l,n,o)},c.prototype.seek=function(n,o,s){o=o||{};var l={position_ms:n};"device_id"in o&&(l.device_id=o.device_id);var v={type:"PUT",url:r+"/me/player/seek",params:l};return u(v,o,s)},c.prototype.setRepeat=function(n,o,s){o=o||{};var l={state:n};"device_id"in o&&(l.device_id=o.device_id);var v={type:"PUT",url:r+"/me/player/repeat",params:l};return u(v,o,s)},c.prototype.setVolume=function(n,o,s){o=o||{};var l={volume_percent:n};"device_id"in o&&(l.device_id=o.device_id);var v={type:"PUT",url:r+"/me/player/volume",params:l};return u(v,o,s)},c.prototype.setShuffle=function(n,o,s){o=o||{};var l={state:n};"device_id"in o&&(l.device_id=o.device_id);var v={type:"PUT",url:r+"/me/player/shuffle",params:l};return u(v,o,s)},c.prototype.getShow=function(n,o,s){var l={};return l.url=r+"/shows/"+n,u(l,o,s)},c.prototype.getShows=function(n,o,s){var l={url:r+"/shows/",params:{ids:n.join(",")}};return u(l,o,s)},c.prototype.getMySavedShows=function(n,o){var s={url:r+"/me/shows"};return u(s,n,o)},c.prototype.addToMySavedShows=function(n,o,s){var l={url:r+"/me/shows",type:"PUT",postData:n};return u(l,o,s)},c.prototype.removeFromMySavedShows=function(n,o,s){var l={url:r+"/me/shows",type:"DELETE",postData:n};return u(l,o,s)},c.prototype.containsMySavedShows=function(n,o,s){var l={url:r+"/me/shows/contains",params:{ids:n.join(",")}};return u(l,o,s)},c.prototype.getShowEpisodes=function(n,o,s){var l={url:r+"/shows/"+n+"/episodes"};return u(l,o,s)},c.prototype.getEpisode=function(n,o,s){var l={};return l.url=r+"/episodes/"+n,u(l,o,s)},c.prototype.getEpisodes=function(n,o,s){var l={url:r+"/episodes/",params:{ids:n.join(",")}};return u(l,o,s)},c.prototype.getAccessToken=function(){return i},c.prototype.setAccessToken=function(n){i=n},c.prototype.setPromiseImplementation=function(n){var o=!1;try{var s=new n(function(l){l()});typeof s.then=="function"&&typeof s.catch=="function"&&(o=!0)}catch(l){console.error(l)}if(o)a=n;else throw new Error("Unsupported implementation of Promises/A+")},c}();e.exports=t})(wt);var Kt=wt.exports,Qt="/assets/fullscreen.91da601f.svg",Zt="/assets/close_fullscreen.7d3d3ee4.svg";function bt(e){var r,i;const t=Date.now()-((r=e==null?void 0:e.timestamp)!=null?r:Date.now());return((i=e==null?void 0:e.progress_ms)!=null?i:0)+t}function er(e){var t;return bt(e)-((t=e==null?void 0:e.item)==null?void 0:t.duration_ms)}function tr(e,t,r){e.progress_ms=r,t.set(e)}let H;async function rr(e){try{H&&await H,H=fetch("https://cors-anywhere.herokuapp.com/https://api.textyl.co/api/lyrics?"+new URLSearchParams({q:e}).toString(),{mode:"cors",headers:[["Origin","https://api.textyl.co"]]});const t=await H;return H=void 0,t.ok?await t.json():(console.error(t),null)}catch(t){return console.log(t),null}}const Dt=e=>e===void 0||e==="auto"||e==="instant"||e==="smooth";function nr(e,t){this.scrollLeft=e,this.scrollTop=t}const Tt=(e,t,r="cannot convert to dictionary.")=>`Failed to execute '${e}' on '${t}': ${r}`,kt=(e,t,r)=>Tt(e,t,`The provided value '${r}' is not a valid enum value of type ScrollBehavior.`),ce=(e,t,r)=>{var i;const a=`__SEAMLESS.BACKUP$${t}`;return!e[a]&&e[t]&&!(!((i=e[t])===null||i===void 0)&&i.__isPolyfill)&&(e[a]=e[t]),e[a]||r},Pt=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")},or=()=>"scrollBehavior"in window.document.documentElement.style,sr=e=>{Object.defineProperty(e,"__isPolyfill",{value:!0})},ir=(e,t)=>{sr(t),[HTMLElement.prototype,SVGElement.prototype,Element.prototype].forEach(r=>{ce(r,e),r[e]=t})},Ae=e=>e.ownerDocument.scrollingElement||e.ownerDocument.documentElement,ar=e=>.5*(1-Math.cos(Math.PI*e));function $e(){var e;let t;return!((e=window.performance)===null||e===void 0)&&e.now?t=()=>window.performance.now():t=()=>window.Date.now(),$e=t,t()}const lr=500,Et=e=>{const r=($e()-e.timeStamp)/(e.duration||lr);if(r>1){e.method(e.targetX,e.targetY),e.callback();return}const i=(e.timingFunc||ar)(r),a=e.startX+(e.targetX-e.startX)*i,p=e.startY+(e.targetY-e.startY)*i;e.method(a,p),e.rafId=window.requestAnimationFrame(()=>{Et(e)})},fe=e=>isFinite(e)?Number(e):0,ur=e=>{var t;return(t=e.isConnected)!==null&&t!==void 0?t:!e.ownerDocument||!(e.ownerDocument.compareDocumentPosition(e)&1)},cr=(e,t,r)=>{var i,a;if(!ur(e))return;const p=e.scrollLeft,f=e.scrollTop,m=fe((i=t.left)!==null&&i!==void 0?i:p),d=fe((a=t.top)!==null&&a!==void 0?a:f);if(m===p&&d===f)return;const y=ce(HTMLElement.prototype,"scroll",nr),u=ce(Object.getPrototypeOf(e),"scroll",y).bind(e);if(t.behavior!=="smooth"){u(m,d);return}const c=()=>{window.removeEventListener("wheel",o),window.removeEventListener("touchmove",o)},n=Object.assign(Object.assign({},r),{timeStamp:$e(),startX:p,startY:f,targetX:m,targetY:d,rafId:0,method:u,callback:c}),o=()=>{window.cancelAnimationFrame(n.rafId),c()};window.addEventListener("wheel",o,{passive:!0,once:!0}),window.addEventListener("touchmove",o,{passive:!0,once:!0}),Et(n)},fr=e=>e.window===e,pr=e=>(t,r,i)=>{const[a,p]=fr(t)?[Ae(t.document.documentElement),"Window"]:[t,"Element"],f=r!=null?r:{};if(!Pt(f))throw new TypeError(Tt(e,p));if(!Dt(f.behavior))throw new TypeError(kt(e,p,f.behavior));e==="scrollBy"&&(f.left=fe(f.left)+a.scrollLeft,f.top=fe(f.top)+a.scrollTop),cr(a,f,i)},dr=pr("scroll"),mr=dr,qt=e=>{switch(e){case"horizontal-tb":case"lr":case"lr-tb":case"rl":case"rl-tb":return 0;case"vertical-rl":case"tb":case"tb-rl":return 1;case"vertical-lr":case"tb-lr":return 2;case"sideways-rl":return 3;case"sideways-lr":return 4}return 0},At=(e,t,r,i)=>{let a=0;switch(t||(a^=2),e){case 0:a=a>>1|(a&1)<<1,[r,i]=[i,r];break;case 1:case 3:a^=1;break;case 4:a^=2;break}return[a,r,i]},yr=e=>(At(qt(e.writingMode),e.direction!=="rtl",void 0,void 0)[0]&1)===1,vr=(e,t,r)=>{const[i,a,p]=At(t,r,e.block||"start",e.inline||"nearest");return[a,p].map((f,m)=>{switch(f){case"center":return 1;case"nearest":return 0;default:{const d=i>>m&1;return f==="start"==!d?2:3}}})},Ne=(e,t,r,i,a,p,f)=>e!==0?e:a<t&&p>r||a>t&&p<r?null:a<=t&&f<=i||p>=r&&f>=i?2:p>r&&f<i||a<t&&f>i?3:null,He=e=>e!=="visible"&&e!=="clip",hr=e=>{var t;try{return((t=e.ownerDocument.defaultView)===null||t===void 0?void 0:t.frameElement)||null}catch{return null}},gr=(e,t)=>e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth?He(t.overflowY)||He(t.overflowX)||e===Ae(e):!1,Xe=e=>{const t=e.parentNode,r=e.parentElement;if(r===null&&t!==null){if(t.nodeType===11)return t.host;if(t.nodeType===9)return hr(e)}return r},me=(e,t,r)=>e<t?t:e>r?r:e,_r=e=>["scroll-margin","scroll-snap-margin"].filter(t=>t in e.documentElement.style)[0],wr=(e,t,r)=>{const{top:i,right:a,bottom:p,left:f}=t,m=_r(e.ownerDocument);if(!m)return[i,a,p,f];const d=y=>{const u=r.getPropertyValue(`${m}-${y}`);return parseInt(u,10)||0};return[i-d("top"),a+d("right"),p+d("bottom"),f-d("left")]},te=(e,t,r)=>{switch(e){case 1:return(t+r)/2;case 3:return r;case 2:case 0:return t}},br=(e,t)=>{var r,i,a;const p=(r=e.ownerDocument.defaultView)===null||r===void 0?void 0:r.visualViewport,[f,m,d,y]=e===Ae(e)?[0,0,(i=p==null?void 0:p.width)!==null&&i!==void 0?i:e.clientWidth,(a=p==null?void 0:p.height)!==null&&a!==void 0?a:e.clientHeight]:[t.left,t.top,e.clientWidth,e.clientHeight],u=f+e.clientLeft,c=m+e.clientTop,n=u+d,o=c+y;return[c,n,o,u]},Dr=(e,t)=>{const r=[];let i=e.ownerDocument,a=i.defaultView;if(!a)return r;const p=window.getComputedStyle(e),f=p.direction!=="rtl",m=qt(p.writingMode||p.getPropertyValue("-webkit-writing-mode")||p.getPropertyValue("-ms-writing-mode")),[d,y]=vr(t,m,f);let[u,c,n,o]=wr(e,e.getBoundingClientRect(),p);for(let s=Xe(e);s!==null;s=Xe(s)){if(i!==s.ownerDocument){if(i=s.ownerDocument,a=i.defaultView,!a)break;const{left:B,top:W}=s.getBoundingClientRect();u+=W,c+=B,n+=W,o+=B}const l=a.getComputedStyle(s);if(l.position==="fixed")break;if(!gr(s,l))continue;const v=s.getBoundingClientRect(),[h,g,w,D]=br(s,v),b=Ne(d,D,g,s.clientWidth,o,c,c-o),k=Ne(y,h,w,s.clientHeight,u,n,n-u),S=b===null?0:te(b,o,c)-te(b,D,g),K=k===null?0:te(k,u,n)-te(k,h,w),E=yr(l)?me(S,-s.scrollWidth+s.clientWidth-s.scrollLeft,-s.scrollLeft):me(S,-s.scrollLeft,s.scrollWidth-s.clientWidth-s.scrollLeft),R=me(K,-s.scrollTop,s.scrollHeight-s.clientHeight-s.scrollTop);r.push([s,{left:s.scrollLeft+E,top:s.scrollTop+R,behavior:t.behavior}]),u=Math.max(u-R,h),c=Math.min(c-E,g),n=Math.min(n-R,w),o=Math.max(o-E,D)}return r},Tr=(e,t,r)=>{const i=t||{};if(!Dt(i.behavior))throw new TypeError(kt("scrollIntoView","Element",i.behavior));Dr(e,i).forEach(([p,f])=>{mr(p,f,r)})},$t=Tr;function kr(e){$t(this,{block:e==null||e?"start":"end",inline:"nearest"})}const Pr=e=>{if(or())return;const t=ce(window.HTMLElement.prototype,"scrollIntoView",kr);ir("scrollIntoView",function(){const i=arguments,a=i[0];if(i.length===1&&Pt(a)){$t(this,a,e);return}t.apply(this,i)})};function Er(e){return e=e.filter(t=>t!=null),new Promise(t=>{const r=new IntersectionObserver(i=>{console.log("entries",i);for(const a of i)r.unobserve(a.target),e.splice(e.indexOf(a.target),1),a.isIntersecting&&(r.disconnect(),t(!0));e.length===0&&t(!1)});for(const i of e)r.observe(i)})}function Ge(e,t,r){const i=e.slice();return i[14]=t[r],i[16]=r,i}function qr(e){let t,r=e[1],i=[];for(let a=0;a<r.length;a+=1)i[a]=Ye(Ge(e,r,a));return{c(){for(let a=0;a<i.length;a+=1)i[a].c();t=st()},m(a,p){for(let f=0;f<i.length;f+=1)i[f].m(a,p);L(a,t,p)},p(a,p){if(p&10){r=a[1];let f;for(f=0;f<r.length;f+=1){const m=Ge(a,r,f);i[f]?i[f].p(m,p):(i[f]=Ye(m),i[f].c(),i[f].m(t.parentNode,t))}for(;f<i.length;f+=1)i[f].d(1);i.length=r.length}},d(a){Ut(i,a),a&&A(t)}}}function Ar(e){let t;return{c(){t=P("span"),t.textContent="Loading...",_(t,"class","line active svelte-1o4d44l")},m(r,i){L(r,t,i)},p:$,d(r){r&&A(t)}}}function $r(e){let t,r,i,a,p,f,m;return{c(){var d,y,u,c,n;t=P("span"),t.textContent="No live lyrics available",r=I(),i=P("br"),a=I(),p=P("a"),f=U("View on Genius instead"),_(t,"class","line svelte-1o4d44l"),_(p,"class","line svelte-1o4d44l"),_(p,"href",m="https://genius.com/"+(((u=(y=(d=e[0])==null?void 0:d.item)==null?void 0:y.artists)==null?void 0:u.map(ze).join(" "))+" "+((n=(c=e[0])==null?void 0:c.item)==null?void 0:n.name)).replaceAll(/\s/gm,"-")+"-lyrics"),_(p,"target","_blank"),_(p,"rel","noreferrer noopener")},m(d,y){L(d,t,y),L(d,r,y),L(d,i,y),L(d,a,y),L(d,p,y),T(p,f)},p(d,y){var u,c,n,o,s;y&1&&m!==(m="https://genius.com/"+(((n=(c=(u=d[0])==null?void 0:u.item)==null?void 0:c.artists)==null?void 0:n.map(ze).join(" "))+" "+((s=(o=d[0])==null?void 0:o.item)==null?void 0:s.name)).replaceAll(/\s/gm,"-")+"-lyrics")&&_(p,"href",m)},d(d){d&&A(t),d&&A(r),d&&A(i),d&&A(a),d&&A(p)}}}function Lr(e){let t;return{c(){t=P("span"),t.textContent="Start playing something on Spotify to see the lyrics",_(t,"class","line svelte-1o4d44l")},m(r,i){L(r,t,i)},p:$,d(r){r&&A(t)}}}function Ye(e){let t,r=e[14].lyrics+"",i,a,p,f;return{c(){t=P("span"),i=U(r),_(t,"class","line svelte-1o4d44l"),_(t,"id",a="line-"+e[16].toString())},m(m,d){L(m,t,d),T(t,i),p||(f=it(t,"click",e[3]),p=!0)},p(m,d){d&2&&r!==(r=m[14].lyrics+"")&&ve(i,r)},d(m){m&&A(t),p=!1,f()}}}function Sr(e){let t;function r(p,f){var m;return(m=p[0])!=null&&m.item?p[1]==null?$r:p[1]==""?Ar:qr:Lr}let i=r(e),a=i(e);return{c(){t=P("article"),a.c(),_(t,"id","lines-list"),_(t,"class","svelte-1o4d44l")},m(p,f){L(p,t,f),a.m(t,null),e[5](t)},p(p,[f]){i===(i=r(p))&&a?a.p(p,f):(a.d(1),a=i(p),a&&(a.c(),a.m(t,null)))},i:$,o:$,d(p){p&&A(t),a.d(),e[5](null)}}}const ze=e=>e.name;function Ir(e,t,r){Pr();let i;const a=Ot();let{pbs:p}=t,f,m=null,d;async function y(h){var g,w,D,b,k;h!==void 0&&(r(0,f=h),((g=f==null?void 0:f.item)==null?void 0:g.id)!==m&&(r(1,d=""),m=(w=f==null?void 0:f.item)==null?void 0:w.id,r(1,d=await rr(((D=f==null?void 0:f.item)==null?void 0:D.name)+" "+((k=(b=f==null?void 0:f.item)==null?void 0:b.artists)==null?void 0:k.map(S=>S.name).join(", ")))),console.log(d)),Wt().then(c))}y(Ze(p)),p.subscribe(y);let u;async function c(){if(u==null&&(console.warn("linesList == null"),r(2,u=document.getElementById("lines-list")),u==null)){console.warn("linesList not found by id");return}if(d==null||d=="")return;const h=bt(f),g=Math.floor(h/1e3),w=d.findIndex((k,S)=>k.seconds<=g&&(S+1>=d.length||d[S+1].seconds>g)),D=u.getElementsByClassName("active")[0];if(D!=null){if(parseInt(D.id.substring(5))==w)return n(w,h,d);D.classList.remove("active")}if(w==-1)return n(w,h,d);const b=document.getElementById("line-"+w);b!=null&&(b.classList.add("active"),await Er([b,D])?(console.log("Scroll into view"),b.scrollIntoView({behavior:"smooth",block:"center"})):console.log("Don't scroll into view (not visible)")),n(w,h,d)}function n(h,g,w){if(h<w.length-1){i!=null&&window.clearTimeout(i);const D=Math.max(w[h+1].seconds*1e3-g,1);i=window.setTimeout(c,D)}}function o(){if(u==null&&(r(2,u=document.getElementById("lines-list")),u==null))return;const h=u.getElementsByClassName("active")[0];h!=null&&h.scrollIntoView({behavior:"smooth",block:"center"})}function s(){document.visibilityState!=="hidden"&&o()}ut(()=>{c(),document.addEventListener("visibilitychange",s),document.addEventListener("fullscreenchange",s)}),ct(()=>{console.warn("Lyrics destroyed"),i!=null&&window.clearTimeout(i),document.removeEventListener("visibilitychange",s),document.removeEventListener("fullscreenchange",s)});function l(h){var b;const g=h.currentTarget;if(!g.id.startsWith("line-"))return;const w=parseInt(g.id.substring(5));if(w<0||w>=d.length)return;const D=((b=d[w])==null?void 0:b.seconds)*1e3;a("skip",D)}function v(h){ie[h?"unshift":"push"](()=>{u=h,r(2,u)})}return e.$$set=h=>{"pbs"in h&&r(4,p=h.pbs)},[f,d,u,l,p,v]}class Cr extends qe{constructor(t){super(),Ee(this,t,Ir,Sr,pe,{pbs:4})}}function Je(e){let t,r,i;return{c(){t=P("div"),r=P("aside"),_(r,"class","background-cover svelte-ln5nyb"),_(r,"style",i=`--img:url("${e[0]}");`),_(t,"class","background-cover svelte-ln5nyb")},m(a,p){L(a,t,p),T(t,r)},p(a,p){p&1&&i!==(i=`--img:url("${a[0]}");`)&&_(r,"style",i)},d(a){a&&A(t)}}}function Mr(e){var R,B,W,Le,Se,Ie,Ce;let t,r,i,a,p,f,m,d,y=((W=(B=(R=e[1])==null?void 0:R.item)==null?void 0:B.name)!=null?W:"No playback")+"",u,c,n,o=((Ce=(Ie=(Se=(Le=e[1])==null?void 0:Le.item)==null?void 0:Se.artists)==null?void 0:Ie.map(Ke).join(" & "))!=null?Ce:"Live Lyrics for Spotify")+"",s,l,v,h,g,w,D,b,k,S,K;g=new Cr({props:{pbs:e[3]}}),g.$on("skip",e[4]);let E=e[0]&&Je(e);return{c(){var q;t=P("main"),r=P("section"),i=P("header"),a=P("img"),f=I(),m=P("div"),d=P("h1"),u=U(y),c=I(),n=P("h2"),s=U(o),l=I(),v=P("button"),h=I(),gt(g.$$.fragment),w=I(),E&&E.c(),_(a,"class","album-art svelte-ln5nyb"),_(a,"alt","Album art"),ye(a.src,p=(q=e[0])!=null?q:_e)||_(a,"src",p),_(d,"class","song-name svelte-ln5nyb"),_(n,"class","artist-name svelte-ln5nyb"),_(m,"class","name-info svelte-ln5nyb"),_(v,"class","fullscreen-toggle svelte-ln5nyb"),_(v,"style",`--open:url("${Qt}");--close:url("${Zt}");`),_(i,"class","svelte-ln5nyb"),_(r,"class","main-section svelte-ln5nyb"),_(t,"class","svelte-ln5nyb")},m(q,F){L(q,t,F),T(t,r),T(r,i),T(i,a),T(i,f),T(i,m),T(m,d),T(d,u),T(m,c),T(m,n),T(n,s),T(i,l),T(i,v),T(r,h),ke(g,r,null),T(t,w),E&&E.m(t,null),e[6](t),k=!0,S||(K=it(v,"click",e[5]),S=!0)},p(q,[F]){var Me,Ue,je,Re,Fe,xe,Oe,Ve;(!k||F&1&&!ye(a.src,p=(Me=q[0])!=null?Me:_e))&&_(a,"src",p),(!k||F&2)&&y!==(y=((Re=(je=(Ue=q[1])==null?void 0:Ue.item)==null?void 0:je.name)!=null?Re:"No playback")+"")&&ve(u,y),(!k||F&2)&&o!==(o=((Ve=(Oe=(xe=(Fe=q[1])==null?void 0:Fe.item)==null?void 0:xe.artists)==null?void 0:Oe.map(Ke).join(" & "))!=null?Ve:"Live Lyrics for Spotify")+"")&&ve(s,o),q[0]?E?E.p(q,F):(E=Je(q),E.c(),E.m(t,null)):E&&(E.d(1),E=null)},i(q){k||(z(g.$$.fragment,q),j(()=>{b&&b.end(1),D=vt(t,ue,{duration:250,delay:250}),D.start()}),k=!0)},o(q){le(g.$$.fragment,q),D&&D.invalidate(),b=ht(t,ue,{duration:250,delay:0}),k=!1},d(q){q&&A(t),Pe(g),E&&E.d(),e[6](null),q&&b&&b.end(),S=!1,K()}}}const Ke=e=>e.name;function Ur(e,t,r){const i=Bt("auth_data"),a=Ze(i),p=new Kt;p.setAccessToken(a.token);let f,m;const d=_t(m);let y;ut(c),ct(()=>{y!=null&&window.clearInterval(y)});let u=!1;async function c(v=!1){var h,g,w;if(!u||v){try{const b=Date.now();if(r(1,m=await p.getMyCurrentPlaybackState()),v&&(u=!1),u)return;m!=null&&m!=""&&r(1,m.timestamp=Date.now()-Math.floor((Date.now()-b)/2),m),r(0,f=(w=(g=(h=m==null?void 0:m.item)==null?void 0:h.album)==null?void 0:g.images[0])==null?void 0:w.url),u||d.set(m)}catch(b){console.error(b),i.set(void 0)}const D=er(m);y=window.setTimeout(c,Math.min(D>0&&(m==null?void 0:m.is_playing)?D:5e3,5e3))}}function n(v){tr(m,d,v.detail),u=!0,p.seek(v.detail).then(()=>{c(!0)})}let o;function s(){document.fullscreenElement?document==null||document.exitFullscreen():o==null||o.requestFullscreen()}function l(v){ie[v?"unshift":"push"](()=>{o=v,r(2,o)})}return[f,m,o,d,n,s,l]}class jr extends qe{constructor(t){super(),Ee(this,t,Ur,Mr,pe,{})}}function Rr(e){let t,r,i,a,p,f,m,d,y,u,c,n;return{c(){t=P("main"),r=P("article"),i=P("img"),p=I(),f=P("h1"),f.textContent="Welcome to Live Lyrics for Spotify",m=I(),d=P("a"),y=U("Sign in with Spotify"),ye(i.src,a=_e)||_(i,"src",a),_(i,"class","logo svelte-tv2ss4"),_(i,"alt","Live Lyrics for Spotify logo"),_(f,"class","svelte-tv2ss4"),_(d,"href",e[1]),_(d,"class","svelte-tv2ss4"),_(r,"class","svelte-tv2ss4"),_(t,"class","flex-container svelte-tv2ss4")},m(o,s){L(o,t,s),T(t,r),T(r,i),T(r,p),T(r,f),T(r,m),T(r,d),T(d,y),n=!0},p:$,i(o){n||(j(()=>{c&&c.end(1),u=vt(t,ue,{duration:250,delay:250}),u.start()}),n=!0)},o(o){u&&u.invalidate(),c=ht(t,ue,{duration:250,delay:0}),n=!1},d(o){o&&A(t),o&&c&&c.end()}}}function Fr(e){let t,r;return t=new jr({}),{c(){gt(t.$$.fragment)},m(i,a){ke(t,i,a),r=!0},p:$,i(i){r||(z(t.$$.fragment,i),r=!0)},o(i){le(t.$$.fragment,i),r=!1},d(i){Pe(t,i)}}}function xr(e){let t,r,i,a;const p=[Fr,Rr],f=[];function m(d,y){return d[0]?0:1}return t=m(e),r=f[t]=p[t](e),{c(){r.c(),i=st()},m(d,y){f[t].m(d,y),L(d,i,y),a=!0},p(d,[y]){let u=t;t=m(d),t===u?f[t].p(d,y):(Ht(),le(f[u],1,1,()=>{f[u]=null}),Xt(),r=f[t],r?r.p(d,y):(r=f[t]=p[t](d),r.c()),z(r,1),r.m(i.parentNode,i))},i(d){a||(z(r),a=!0)},o(d){le(r),a=!1},d(d){f[t].d(d),d&&A(i)}}}function Or(e,t,r){const i=new URLSearchParams;i.append("client_id",Jt),i.append("response_type","token"),i.append("show_dialog","false"),i.append("redirect_uri","http://localhost:3000/"),i.append("scope","user-modify-playback-state user-read-playback-state user-library-modify user-read-currently-playing user-library-read");const a="https://accounts.spotify.com/authorize?"+i.toString(),p=_t(zt());Vt("auth_data",p);let f;return p.subscribe(m=>r(0,f=m)),[f,a]}class Vr extends qe{constructor(t){super(),Ee(this,t,Or,xr,pe,{})}}new Vr({target:document.getElementById("app")});
